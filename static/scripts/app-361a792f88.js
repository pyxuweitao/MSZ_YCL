/**
 * Created by 陆恺 on 2016/3/29.
 */
angular.module("DEVBYCM.iaSelect",[]).directive("iaSelect",["$rootScope","iaSelectSvc",function(t,e){return{templateUrl:function(t,e){return"app/components/ui/iaSelect/iaSelect.html"},restrict:"E",scope:{url:"=?url",bindModel:"=ngModel"},link:function(t,n,a,i){t.url1=t.url,t.sync=function(n){console.log(t.selected),e.syncList(t.url,n).then(function(e){t.itemArray=e.data})},t.itemArray=[],t.selected={value:null},function(){t.selected={value:t.bindModel}}(),t.change=function(e,n){console.log(t.selected),t.bindModel=e}}}}]).factory("iaSelectSvc",["$http","SERVER_URL",function(t,e){return{syncList:function(n,a){return t.get(e+n+a+"/")}}}]),angular.module("DEVBYCM.cmSideMenuBox",[]).directive("cmSideMenuBox",function(){return{restrict:"E",template:"<div ng-transclude></div>",transclude:!0,link:function(){}}}).directive("cmSideMenu",function(){return{restrict:"E",template:'<ng-include src="\'app/components/ui/cmNavBar/template.html\'"></ng-include>\n<div ng-transclude style="position: absolute;top: 45px;right: 0;bottom: 0;left: 0;overflow-y: auto"></div>',transclude:!0}}).directive("cmSideMenuContent",function(){return{restrict:"E"}}).directive("cmSideMenuContentHeader",function(){return{restrict:"EA",scope:!1,template:"<div ng-transclude></div>",transclude:!0,link:function(t,e){e.after("<div></div>"),e.next().css("height",e.prop("offsetHeight")+"px"),e.css("top",e.parent()[0].scrollTop+"px"),e.parent().on("scroll",function(){e.css("top",e.parent()[0].scrollTop+"px")})}}}),angular.module("DEVBYCM.cmNotificationAreaModule",[]).directive("cmPerson",["$rootScope","AccountSvc","LoginSvc","cmLoginSvc","cmLoadingSvc",function(t,e,n,a,i){return{restrict:"E",templateUrl:"app/components/ui/cmNotificationArea/template.html",scope:{},link:function(o){o.uiIsPanelShow=!1,o.currentUser=e.getCurrentUser(),o.funcSwitchUser=function(){o.uiIsPanelShow=!1,a.show()},o.funcLogout=function(){o.uiIsPanelShow=!1,i.setContent("正在登出...","inProgress"),i.show(),n.logout().then(function(){i.setContent("您已注销","success")},function(){i.setContent("登出失败","error")})["finally"](function(){i.hide()})},t.$on("cmLogin",function(){o.currentUser=e.getCurrentUser()})}}}]),angular.module("DEVBYCM.cmNavMenu",[]).directive("cmNavMenu",["cmNavBarService","$rootScope","$state",function(t,e,n){return{restrict:"E",templateUrl:"app/components/ui/cmNavMenu/template.html",transclude:!0,controller:function(){},link:function(a){a.menuItems=t.getMenu(),a.show=!1,a.goAndClose=function(t,e){n.go(t,e),a.show=!1},a.close=function(){a.show=!1},e.$on("cmNavMenu",function(t,e){e&&!angular.isUndefined(e.toggle)&&(a.show=!a.show)})}}}]),angular.module("DEVBYCM.cmNavBarModule",[]).controller("cmNavBarCtrl",["$scope","$rootScope","$state","cmNavBarService","cmBackSvc",function(t,e,n,a,i){t.canGoBack=i.canGoBack(),t.$watch(function(){return i.canGoBack()},function(){t.canGoBack=i.canGoBack()}),t.$watch(function(){return i.getDestType()},function(){t.destType=i.getDestType()}),t.$watch(function(){return i.getDestUrl()},function(){t.url=i.getDestUrl()}),t.goBack=function(){t.canGoBack&&(t.canGoBack=i.goBack())},t.title="",e.$on("cmNavBar",function(e,n){n&&!angular.isUndefined(n.title)&&(t.title=n.title)});var o=function(e,n){t.menuItem=a.getMatchedMenuItem(e,n)};o(n.current.name,n.params),t.toggleMenu=function(){e.$broadcast("cmNavMenu",{toggle:!0})},e.$on("$stateChangeStart",function(t,e,n){o(e.name,n)})}]).factory("cmNavBarService",["$rootScope",function(t){return{setTitle:function(e){t.$broadcast("cmNavBar",{title:e})},getMenu:function(){return[{title:"首页",label:"平台首页",icon:"ion-ios-home-outline",show:!0,state:"home",params:{},match:function(t){return"home"===t}},{title:"报表",label:"统计报表",icon:"ion-ios-list-outline",show:!0,state:"home.table.table1",params:{},match:function(t,e){return t.indexOf("home.table")>=0}},{title:"检验",label:"检验任务",icon:"ion-ios-paper-outline",show:!0,state:"home.process.formListDataentry",params:{Class:"检验",ProcessTypeId:void 0,Rev:void 0},match:function(t,e){return"home.process.formListDataentry"===t||"home.process.formListCheck"===t}},{title:"管理",label:"系统管理",icon:"ion-ios-cog-outline",show:!0,state:"home.control.feedbackNew",params:{},match:function(t){return"home.control.feedbackNew"===t}},{title:"表单",label:"",icon:"ion-ios-photos-outline",state:"home.process.detailForm",params:{},match:function(t){return"home.process.detailForm"===t}}]},getMatchedMenuItem:function(t,e){var n=[];return angular.forEach(this.getMenu(),function(n){n&&n.match(t,e)&&this.push(n)},n),n[0]}}}]).factory("cmBackSvc",["$state",function(t){var e={state:"",params:{},url:"./"},n="null",a=!1;return{getDestType:function(){return n},getDestUrl:function(){return e.url},canGoBack:function(){return a},clear:function(){a=!1,localStorage.setItem("cmBackSvc.canGoBack",!1)},setUrl:function(t){e.url=t,n="url",a=!0},setState:function(t,i){e.state=t,e.params=i,a=!0,n="state",localStorage.setItem("cmBackSvc.canGoBack",!0),localStorage.setItem("cmBackSvc.destType","state")},goBack:function(){return a&&"state"===n&&(t.go(state,params),a=!1),a}}}]),angular.module("DEVBYCM.cmLoginModule",[]).directive("cmLogin",["$rootScope","cmLoginSvc","LoginSvc",function(t,e,n){return{restrict:"E",templateUrl:"app/components/ui/cmLogin/template.html",scope:{},link:function(e){e.isShow=!1,e.isLoggedIn=n.isLoggedIn(),e.funcTryToClose=function(){e.isLoggedIn&&(e.isShow=!1)},t.$on("cmLogin",function(t,a){a&&!angular.isUndefined(a.show)&&(e.isShow=a.show),e.isLoggedIn=n.isLoggedIn()})}}}]).factory("cmLoginSvc",["$rootScope","$timeout",function(t,e){return{show:function(){t.$broadcast("cmLogin",{show:!0})},hide:function(n){return angular.isUndefined(n)&&(n=1e3),e(function(){t.$broadcast("cmLogin",{show:!1})},n)}}}]).controller("cmLoginCtrl",["$scope","$state","cmLoginSvc","LoginSvc",function(t,e,n,a){t.uiIsHover=!1,t.uiCurrentHoverIndex=null,t.uiIsLoggingIn=!1,t.uiIsInputError=!1;var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAAAAAB5Gfe6AAAAAmJLR0QA/4ePzL8AAAW0SURBVHja7d29jus4DAVgvv97pVDhFCrGjQtjAAeIGzVqXGmBiy12t9ixrUOGR0O+gb6QlOIfWh6/PCQAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAgAV0/y9l1rbnzhq3V9LTr8EIM2vvxf+3zjKkkcHyGtp/xvHPqdhAaa1thNxFMtqsAPIpZ2OY02DAaRzP/6/0mAkgPVo16M8RwG4kvzmhaAPkG4u/w/Bwg9wK/sN60D8/vw2SaALkI/WH1uiBVgbJOqTEyC9GyiOL0aA/vI3aQRqAKk2ZCxsAM+jYWPjAkjo9be2MgGA81+zCsR7//tHfNEAvFXW345MArA2pTgSBUBualEYABQ2AM2tAA9QmmZk9wCr6vrxbUCYCkCjCISqABSKQGh2AKWdQNgSAJ0CwtQBNfqgUHVAhT4odAkATgEoQLUBaLNTgGy0fuhGIGRbAHwjAAJMZutvu0uA1Q4A2AaFrwVi26DwtUBsGxTGCkDWgBDuAdB9AAaQTNffXu4AZluA6g7gZQvQkjeAagwwewMwXn/7dgYwWQPszgBma4DqDODbGqA5A9jNASZfAMUcIPsCqOYAcwC4AjBfP+ogEAABEAABEACAOMwBFl8AcRD67QC//s/Qyxwg+QJYrNd/OLsekK0BijOAZA3wcgZgfhBYvAFYXxLK3gAWzh6IA8icPRB4e/ygbAFAANuz4OQPwPTeEOzuOBAgWdbA6hDAdCPMHgEy4R4ABTCsgdUlgN2Dcsjn5ZEAZimAfGMC+r5AoWuBYIBM1wLRL00VugQAAzwtusD28AtgsRGA3x4GAxhsBOCXh9HvDqtfF6nJN4B6H0QPEIADKPfB7eEdQLcIavIP8NgUdwD8YD0FgKR3p1hhmJTGHCG1NrA9OAAeXzoC78QCoNMIq8psUaVxegvL+tUGKm4EG4AqAPpvkdpkWb2hqgtB/qsCIPeCt95sZc3ByhkloDlbWnWyNGa0pu50ceXh6qvj9mcC0F8Gm/JHFtS/L5C6kqCqf2nE4BMb+XYnsPjGhslHVm7WwWbxrR0DgLTeTIEyxEdWculogwZfGxLlH7/76lBVTgNRXT7kKKjbCsX78rUJxP/ydQmEYfmaBCoAWeXCuM6pUOO+gNrtwUIxXn9VvDl4+J8u/1S+Owz/+BoYYFF/QAJ9eQQ7WPndDOLtdrJ0NnpQ8nD6nOBi9qwwsgxwAxW3Zhibu5Gayfi1ueJsnuDT/PV51MVioWp/Cq0QAvD1gfWjvkMptOsHCQAAlvaxWDwAfHD9CAGhXj9AQEjrH9YHhHv9/QJ9AM+Pr7/76SlhX3+vQA9Aqs1FdD1B1QPwbk7i/RmArbmJ7RMAS3MUiz2AjwbY3wiFvAF2N0LhbwB9bUAGaABdbUAGaABdbeAeQGkOo9gBrM1lrFYAHgvgdhHIKAVwtwhkmAK4WQTXAdLhF+DGcAXhPwL1HYcuA+TmOrI6QPENULQBnCfA9RSQcTrgvT4ow2yBN7dCGSwBLqeAjJYAV1NARkuAqykgwyXAxRSQ4RLgYgrIeAlwLQWuAFQWgKoDkBtNZBWAwgNQNACIEuBKCsh4LfBaG5TR9sCrO+FpgLlRxQwHKFwABQ0wNbKYwAArG8AKBqhsABULkBtdZCjAygewQgEqH0BFAhBWwNkakFEr4GwNyIinoCtnoVMAqVFGggHMnAAzDGDnBNhhAJUToKIApkYaEwhgZgWYQQA7K8AOAqisABUDkBptJAhA5gXIEICFF2CBAOy8ADsEoPICVAQAcQ880wVl5B54pgvKuOfAc2fBnwFezAAvAMDODLADACozQAUAHMwARz8A9S54Yh/8EWDiBpi6AWZugDkAegG+uQG+uwFe3ACvboCdG2DvBijcAKUboHID/HgU/Aui+qF7tg7BJAAAAABJRU5ErkJggg==",o={Id:null,Password:null,Avatar:i,AutoUpdateSavedUser:!1};t.selectedUser=angular.copy(o),t.savedUsers=a.getSavedUsers(),t.uiWhichPanel="switch";var s=function(e){t.uiWhichPanel="login",t.selectedUser=angular.copy(e)};!function(){0===t.savedUsers.length?s(o):1===t.savedUsers.length&&s(t.savedUsers[0])}(),t.funcRemoveUser=function(e){t.savedUsers.splice(e,1),a.setSavedUsers(t.savedUsers)},t.funcDisplayUserSwitch=function(){t.uiWhichPanel="switch"},t.funcDisplayNewUserLogin=function(){t.uiWhichPanel="login",s(o)},t.funcDisplayUserLogin=function(t){s(t)},t.funcUserIdChanged=function(){t.selectedUser.Avatar=i},t.funcCancelInputErrorMark=function(){t.uiIsInputError=!1},t.funcLogin=function(){t.uiIsLoggingIn=!0;var i=t.selectedUser,o=function(e){var n=t.savedUsers,i=-1;angular.forEach(n,function(t,n){t.Id===e.Id&&(i=n)}),-1===i?n.push(e):n[i]=e,t.savedUsers=n,a.setSavedUsers(n)};a.login(i.ID,i.Password).then(function(a){i.AutoUpdateSavedUser&&(a.AutoUpdateSavedUser=!0,a.Password=i.Password,o(a)),t.uiWhichPanel="success",n.hide(1500).then(function(){t.funcDisplayUserSwitch(),e.reload()})},function(){t.uiIsInputError=!0})["finally"](function(){t.uiIsLoggingIn=!1})}}]),angular.module("DEVBYCM.cmLoadingModule",[]).directive("cmLoading",["cmLoadingSvc","$rootScope",function(t,e){return{restrict:"E",templateUrl:"app/components/ui/cmLoading/template.html",scope:{},link:function(t){t.isShow=!1,t.content="",t.status="",e.$on("cmLoading",function(e,n){n&&!angular.isUndefined(n.show)&&(t.isShow=n.show),n&&!angular.isUndefined(n.content)&&(t.content=n.content),n&&!angular.isUndefined(n.status)&&(t.status=n.status)})}}}]).factory("cmLoadingSvc",["$rootScope","$timeout",function(t,e){var n=[],a={};return{show:function(){n.push(a),t.$broadcast("cmLoading",{show:!0})},hide:function(a){return n.pop(),n.length>0?void t.$broadcast("cmLoading",n[length-1]):(angular.isUndefined(a)&&(a=1e3),e(function(){t.$broadcast("cmLoading",{show:!1})},a))},setContent:function(e,n){a={content:e,status:n},t.$broadcast("cmLoading",a)}}}]),angular.module("RMI.TableCtrls",[]).controller("TableBaseCtrl",function(){}).controller("tableTable1Ctrl",["$scope","$rootScope","$state","SERVER_URL","$http","NgTableParams",function(t,e,n,a,i,o){t.data1=[],t.tableParams=new o({sorting:{LastModifiedTime:"desc"}}),t.query=function(e,n){var o=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),s=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();t.myPromise=i.get(a+"statistic/suppliersAnalysis/?start="+o+"&end="+s,{}).then(function(e){t.data1=e.data})}}]).controller("tableTable2Ctrl",["$scope","$rootScope","$state","SERVER_URL","$http",function(t,e,n,a,i){function o(t){for(var e=0;e<t.length;e++){var n=t[e],a=t[e].listData;n.totalTime=0,n.totalCount=a.length;for(var i=0;i<a.length;i++)0==i&&(a[i].flag=!0),a[i].no=n.no,a[i].timecount=parseFloat(a[i].count)*parseFloat(a[i].time),n.totalTime+=a[i].timecount}return t}t.data1=[],console.log(t.data1),t.query=function(e,n){t.myPromise=i.get(a+"statistic/inspectorWorkTimeSummary/?year="+e.toString()+"&month="+n.toString(),{}).then(function(e){t.data1=e.data,o(t.data1)})}}]),angular.module("RMI.ProcessCtrls",[]).controller("ProcessListCtrl",["$scope","$state","$filter","$timeout","FormSvc","ProcessSvc","cmNavBarService","cmLoadingSvc",function(t,e,n,a,i,o,s,l){t.stateParams=e.params,t.uiIsSideMenuListLoaded=!1,function(){o.fetchProcessTypesByClass(t.stateParams.Class).then(function(e){t.sideMenuList=e,l.setContent("加载完成")},function(t){console.log(t)})["finally"](function(){t.uiIsSideMenuListLoaded=!0,l.hide(750)})}(),t.funcCreateForm=function(){l.setContent("收货报告创建中"),l.show(),i.requestCreate("ARRIVAL","ARRIVAL",0,"AR01").then(function(t){e.go("home.process.detailForm",{ArrivalSerialNumber:t.ArrivalSerialNumber,FormId:t.Id,Mode:"edit"})},function(t){l.setContent("创建过程发生错误，请检查网络连接"),console.log(t)})["finally"](function(){l.hide(750)})},t.funcGoDetail=function(t,n,a){e.go("home.process.detailForm",{ArrivalSerialNumber:t,FormId:n,Mode:a})},t.funcGoDetailInfo=function(t){e.go("home.process.detailInfo",{ArrivalSerialNumber:t})},t.funcGoFormEdit=function(n,a,o){angular.equals(o,{})?(t.funcEditForm=function(t,n){l.setContent("数据加载中"),l.show(),e.go("home.process.detailForm",{ArrivalSerialNumber:t,FormId:n}),l.hide(100)},t.funcShortcutCreateFormAndRequestEditFormAndEditForm=function(n,a,o,s){l.setContent("正在尝试创建表单"),l.show(),i.requestCreate(n,a,o,s).then(function(a){e.reload(),t.funcEditForm(n,a.Id)},function(t){l.setContent("创建失败:"+t)})["finally"](function(){l.hide(750)})},t.funcShortcutCreateFormAndRequestEditFormAndEditForm(n.ArrivalSerialNumber,n.TypeId,n.Rev,a.Id)):t.funcGoDetail(n.ArrivalSerialNumber,o.Id,"edit")}}]).controller("ProcessListCountCtrl",["$scope","$state","$filter","$timeout","$window","ngTableParams","FormSvc","cmNavBarService","cmLoadingSvc",function(t,e,n,a,i,o,s,l,r){var d=[];t.uiIsFilterByCurrentUser=!1,t.tableDataOption={Status:4},t.tableParams=new o({page:1,count:500,sorting:{LastModifiedTime:"desc"}},{total:d.length,counts:[],filterDelay:250,getData:function(t,e){}}),s.fetchForms(e.params.ProcessTypeId,e.params.Rev,e.params.ProcessNodeTypeId).then(function(e){d=e,t.tableParams.reload()},function(t){}),t.funcSubmitForm=function(t){var n=i.confirm("是否确认提交？");n===!0&&(r.setContent("正在提交表单"),r.show(),s.requestSubmitAndAddToArrivalAndAddToProcess(t).then(function(){r.setContent("提交成功"),e.reload()},function(t){console.log(t)})["finally"](function(){r.hide(750)}))}}]).controller("ControlInspectionProcessPrintCtrl",["$scope","SerialNo",function(t,e){}]).controller("ProcessListInspectionCtrl",["$scope","AccountSvc","$http","SERVER_URL","$uibModal","cmBackSvc","$state","NgTableParams","ALL_FLOW_ID",function(t,e,n,a,i,o,s,l,r){function d(){console.log(s);var i="";return t.url=s.current.url,console.log(t.url),"/Tasks/Check"==t.url?i="ALL":(console.log(e.getCurrentUser()),i=e.getCurrentUser().ID),t.myPromise=n.get(a+"task/"+i+"/getTasks/").then(function(e){for(var n=angular.copy(e.data),a=0;a<e.data.length;a++)n[a].ArriveTime=new Date(n[a].ArriveTime);u=n,console.log(u),t.tableParams=new l({sorting:{LastModifiedTime:"desc"}},{dataset:u}),t.tableParams.reload()},function(t){})["finally"](),u}function c(){t.myPromise=n.get(a+"task/getFlowList/").then(function(e){t.flowList=e.data})}!function(){t.url=s.current.url,console.log(t.url),o.setUrl("#")}(),t.del=function(e){confirm("确定删除？")&&(t.myPromise=n.get(a+"task/"+e+"/deleteTask/").then(function(){swal("成功","任务已删除","success"),s.reload()},function(){swal("失败","任务未删除","error")}))},t.revoke=function(e){if(confirm("确认退回？")){var i=angular.copy(e);i.isReturn=!0,t.myPromise=n.post(a+"task/editTask/","JSON="+JSON.stringify(i)).then(function(){swal("成功","任务已删除","success"),s.reload()},function(){swal("失败","任务未删除","error")})}},t.sub=function(e){confirm("确定提交？")&&(t.myPromise=n.get(a+"task/"+e+"/commitTask/").then(function(){swal("成功","任务已完成","success"),s.reload()},function(){swal("失败","请重试","error")}))},t.print=function(t){swal({title:"打印",text:"输入打印的张数:",type:"input",showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:"确认",cancelButtonText:"取消",animation:"slide-from-top",inputPlaceholder:"张数"},function(t){return t===!1?!1:""===t?(swal.showInputError("输入的张数格式有误"),!1):void swal("成功","正在打印"+t+"张","success")})},t.url=s.current.url,t.searchFilter=function(t,e){return function(n){var a=n.ArriveTime.getTime()-288e5,i=e?e.getTime():0;return console.log(),(n.Name.indexOf(t)>=0||n.ProductNo.indexOf(t)>=0||n.ColorNo.indexOf(t)>=0||void 0==t||""==t)&&(a==i||0==i)}};var u;d(),t.flowList=[],c(),t.tableParams=new l({sorting:{LastModifiedTime:"desc"}},{dataset:u}),t["new"]=function(e){t.edit(e,!0)},t.entry=function(t,e){s.go("home.process.checkFormList",{ID:t.SerialNo,params:t,Type:e})},t.edit=function(e,n){var a;a=i.open({templateUrl:"app/interaction/process/list/modifyInspectionProcess.html",controller:"ControlInspectionProcessModifyCtrl",controllerAs:"vm",resolve:{formData:function(){return{fields:[{key:"ArriveTime",type:"input",ngModelAttrs:{ngreadonly:{bound:"ng-ng-readonly",attribute:"ng-readonly"}},templateOptions:{label:"到料日期",placeholder:"YYYYMMDD",required:!0,type:"text",ngreadonly:!n}},{key:"ProductNo",type:"input",templateOptions:{required:!0,label:"货号",placeholder:"货号"}},{key:"ColorNo",type:"input",templateOptions:{required:!0,label:"色号",placeholder:"色号"}},{key:"FlowID",hideExpression:"1",type:"select",defaultValue:r,templateOptions:{required:!0,label:"流程号",options:t.flowList}}],model:e,ALL_FLOW_ID:r}},isNew:n,JumpTo:!1}}).result,a.then(function(t){n&&s.reload()})}}]).controller("ControlInspectionProcessModifyCtrl",["$scope","$http","ALL_FLOW_ID","formData","$uibModalInstance","SERVER_URL","isNew","JumpTo",function(t,e,n,a,i,o,s,l){function r(){t.myPromise=e.get(o+"configuration/unitInfo/").then(function(t){u.units=t.data})}function d(){console.log(u.formData.model);var a=angular.copy(u.formData.model);a.isNew=s,a.hasOwnProperty("FlowID")||(a.FlowID=n),t.myPromise=e.post(o+"task/editTask/","JSON="+JSON.stringify(a).replace("true",'"True"').replace("false",'"False"')).then(function(t){return l?(console.log(t.data),window.location.hash="#"+l.form+t.data+"/"+l.type,void i.close(u.formData.model)):(swal("成功","您所做的修改已经生效","success"),void i.close(u.formData.model))},function(t){swal("发生错误","您所做的修改未生效","error")})["finally"]()}function c(t){console.log(s),s||(a.options.resetModel(),a.model.ArriveTime=t.ArriveTime),i.dismiss("cancel")}t.initialModel=angular.copy(a.model);var u=this;console.log(s),u.ok=d,u.cancel=c,u.hint="",u.formData=a,u.originalFields=angular.copy(u.formData.fields),u.units=[{id:1,name:"个"},{id:2,name:"枚"},{id:3,name:"付"}],u.itemList=[{id:1,name:"请输入关键字检索",cata:1}],u.GongYlist=[],t.funcAsyncWuLiao=function(t){e.get(o+"task/getMaterialNames/"+t).then(function(t){u.itemList=t.data})},t.funcAsyncGongY=function(t){e.get(o+"configuration/SuppliersInfo"+t+"/").then(function(t){u.GongYlist=t.data})},t.funcAsyncPeople=function(t){e.get(o+"users/"+t+"/").then(function(t){u.People=t.data})},r()}]).controller("ProcessDetailInfoCtrl",["$scope","$state","$filter","$timeout","$q","ProcessSvc","FormSvc","ControlDesignSvc","cmNavBarService","cmLoadingSvc",function(t,e,n,a,i,o,s,l,r,d){t.state=e,t.uiIsReferenceShow=!1,t.uiShowProcessNodeDetail=[],t.uiProcessNodeViewSwitch="edit",d.setContent("数据加载中"),t.nodes=[],t.references=[],t.process={},function(){o.fetchProcess(e.params.ArrivalSerialNumber).then(function(e){!function(){e.Parameter=angular.fromJson(e.Parameter)}(),t.process=e,angular.forEach(t.process.Nodes,function(t){t.Order=parseInt(t.Order)}),d.hide()},function(t){alert("Error : "+t)})}(),t.funcGetCurrentStageTabCode=function(t,e,n){return console.log(t,e,n),n||(n=0),e||(e=0),t?"4"===e.toString()?"0"===n.toString()?2:3:1:0},t.funcShowProcessNodeDetail=function(e){t.uiShowProcessNodeDetail=[],t.uiShowProcessNodeDetail[e]=!0},t.currentReference={},t.uiCurrentActiveReferenceIndex=null,t.funcSwitchReference=function(e){e===t.uiCurrentActiveReferenceIndex?(console.log("same"),t.uiIsReferenceShow=!t.uiIsReferenceShow):(t.currentReference=t.references[e],t.uiIsReferenceShow=!0),t.uiCurrentActiveReferenceIndex=e},t.funcHideReference=function(){t.uiIsReferenceShow=!1},t.funcViewSourceForm=function(t){e.go("home.process.detailForm",{ArrivalSerialNumber:"ARRIVAL",FormId:t,Mode:"View"})},t.funcEditForm=function(t,n){e.go("home.process.detailForm",{ArrivalSerialNumber:t,FormId:n,Mode:"Edit"})},t.funcViewForm=function(t,n){e.go("home.process.detailForm",{ArrivalSerialNumber:t,FormId:n,Mode:"View"})},t.funcCreateForm=function(t,n,a,i){d.setContent("正在尝试创建表单"),d.show(),s.requestCreate(t,n,a,i).then(function(){e.reload()},function(t){d.setContent("创建失败:"+t)})["finally"](function(){d.hide(750)})},t.funcRequestEditForm=function(t){d.setContent("正在获取表单编辑权限"),d.show(),s.requestEdit(t).then(function(){e.reload()},function(t){d.setContent("获取失败:"+t)})["finally"](function(){d.hide(750)})},t.funcConfirmForm=function(t){d.setContent("正在提交你对表单的确认"),d.show(),s.requestConfirm(t).then(function(){e.reload()},function(t){d.setContent("创建失败:"+t)})["finally"](function(){d.hide(750)})},t.funcCancelEditForm=function(t){d.setContent("正在获取表单编辑权"),d.show(),s.requestCancelEdit(t).then(function(){e.reload()},function(t){d.setContent("获取失败:"+t)})["finally"](function(){d.hide(750)})},t.funcSubmitForm=function(t){d.setContent("正在提交表单"),d.show(),s.requestSubmit(t).then(function(){e.reload()},function(t){d.setContent("提交失败:"+t)})["finally"](function(){d.hide(750)})},t.funcShortcutCreateFormAndRequestEditFormAndEditForm=function(n,a,i,o){d.setContent("正在尝试创建表单"),d.show(),s.requestCreate(n,a,i,o).then(function(a){e.reload(),t.funcEditForm(n,a.Id)},function(t){d.setContent("创建失败:"+t)})["finally"](function(){d.hide(750)})},t.funcShortcutRequestEditFormAndEditForm=function(n,a){d.setContent("正在获取表单编辑权"),d.show(),s.requestEdit(a).then(function(){e.reload(),t.funcEditForm(n,a)},function(t){d.setContent("获取失败:"+t)})["finally"](function(){d.hide(750)})},t.funcShortcutConfirmFormAndSubmitForm=function(e){var n=window.confirm("确定要提交吗？");n&&t.funcSubmitForm(e)},t.$on("destroy",function(){createFormTimer&&a.cancel(createFormTimer),editFormTimer&&a.cancel(editFormTimer),confirmFormTimer&&a.cancel(confirmFormTimer),cancelEditFormTimer&&a.cancel(cancelEditFormTimer),submitFormTimer&&a.cancel(submitFormTimer)}),t.funcMarkProcessComplete=function(t){var n=window.confirm("请确认标记该检验任务完成吗？");if(n){d.setContent("正在标记完成","inProgress"),d.show();var a=o.updateProcessIsComplete(t,"true"),s=i.all([a]);s.then(function(){d.setContent("检验任务已经标记为完成","success"),e.reload()},function(){d.setContent("操作失败","error")})["finally"](function(){d.hide()})}},t.funcMarkProcessWaiting=function(t){var n=window.confirm("请确认是否提交最后审核？\n注意：确认后负责人将收到最后审核通知，并将检验任务标为完成");if(n){d.setContent("正在提交","inProgress"),d.show();var a=o.updateProcessIsComplete(t,"waiting"),s=i.all([a]);s.then(function(){d.setContent("提交成功","success"),e.reload()},function(){d.setContent("操作失败","error")})["finally"](function(){d.hide()})}},t.funcRedoComplete=function(t){var n=window.confirm("请确认重置该检验任务完成状态吗？\n注意：标记后是否完成重置为否");if(n){d.setContent("正在重置状态","inProgress"),d.show();var a=o.updateProcessIsComplete(t,"false"),s=i.all([a]);s.then(function(){d.setContent("检验任务已回到未完成状态","success"),e.reload()},function(){d.setContent("重置失败","error")})["finally"](function(){d.hide()})}},t.funcUpdateProcessNodeAvailableFlag=function(t,n,i){d.setContent("修改可用性中...","inProgress"),d.show(),o.updateProcessNodeAvailableFlag(t,n,i).then(function(){d.setContent("修改成功","success")},function(t){d.setContent("修改失败","error"),console.log(t)})["finally"](function(){d.hide(),a(function(){e.reload()},1e3)})},t.funcCheckPass=function(t,n){d.setContent("提交审核结果中...","inProgress"),d.show(),o.updateProcessNodeCheckStatus(t,n,1).then(function(){d.setContent("修改成功","success")},function(t){d.setContent("修改失败","error"),console.log(t)})["finally"](function(){d.hide(),a(function(){e.reload()},1e3)})},t.funcCheckDeny=function(t,n){d.setContent("提交审核结果中...","inProgress"),d.show(),o.updateProcessNodeCheckStatus(t,n,2).then(function(){d.setContent("修改成功","success")},function(t){d.setContent("修改失败","error"),console.log(t)})["finally"](function(){d.hide(),a(function(){e.reload()},1e3)})},t.funcRedoFormAndCheck=function(t,n,a){var l=window.confirm("确定要重做该项目吗？\n注意：重做会取消审核结论，并将表单置为可编辑");if(l){d.setContent("正在重设检验项状态","inProgress"),d.show();var r=o.updateProcessNodeCheckStatus(t,n,0),c=s.requestEdit(a),u=i.all([r,c]);u.then(function(){d.setContent("重设成功","success"),e.reload()},function(){d.setContent("重设失败","error")})["finally"](function(){d.hide()})}},t.funcRedoForm=function(t){var n=window.confirm("确定要重做表单吗？\n注意：将表单置为可编辑状态");if(n){d.setContent("正在重置表单编辑状态","inProgress"),d.show();var a=s.requestEdit(t),o=i.all([a]);o.then(function(){d.setContent("重设成功","success"),e.reload()},function(){d.setContent("重设失败","error")})["finally"](function(){d.hide()})}},t.funcRedoCheck=function(t,n){var a=window.confirm("确定要重做审核吗？\n注意：重做会取消审核结论");if(a){d.setContent("正在重设审核状态","inProgress"),d.show();var s=o.updateProcessNodeCheckStatus(t,n,0),l=i.all([s]);l.then(function(){d.setContent("重设成功","success"),e.reload()},function(){d.setContent("重设失败","error")})["finally"](function(){d.hide()})}},t.funcUpdateProcessNodeConclusion=function(t,n,i){i=angular.toJson(i),d.setContent("正在提交检验结论修改","inProgress"),d.show(),o.updateProcessNodeConclusion(t,n,i).then(function(){d.setContent("修改成功","success")},function(t){d.setContent("修改失败","error"),console.log(t)})["finally"](function(){d.hide(),a(function(){e.reload()},1e3)})}}]).controller("ProcessDetailFormCtrl",["$scope","$rootScope","$timeout","$state","$q","$window","$interval","ProcessSvc","FormSvc","cmNavBarService","cmLoadingSvc",function(t,e,n,a,i,o,s,l,r,d,c){t.state=a,t.stateParams=a.params,t.uiIsEditTags=!1,t.uiIsDataLoaded=!1,t.uiIsAutoSaveFormData=!1,t.uiIsReferencePanelShow=!0,t.uiIsReferenceShow=!1,t.uiIsFormStatusEditable=!0,t.option={all:{isEditable:!0},table:{isSortable:!1}},t.formInfo={},t.formData={},t.formConfig={},function(){c.setContent("正在加载表单"),c.show();var e=r.fetchForm(a.params.FormId),n=r.fetchFormData(a.params.FormId),o=r.fetchFormConfig(a.params.FormId),s=i.all([e,n,o]);s.then(function(e){t.formInfo=e[0],t.formData=e[1],t.formConfig=e[2],console.log(JSON.stringify(t.formConfig))},function(){c.setContent("加载失败")})["finally"](function(){c.hide()})}(),t.references=[],t.referencesProvider={},t.currentReference={},t.funcSwitchReferencePanel=function(){t.uiIsReferencePanelShow=!t.uiIsReferencePanelShow},t.uiCurrentActiveReferenceIndex=null,t.funcSwitchReference=function(e){e===t.uiCurrentActiveReferenceIndex?(console.log("same"),t.uiIsReferenceShow=!t.uiIsReferenceShow,t.uiCurrentActiveReferenceIndex=null):(t.currentReference=t.references[e],t.uiIsReferenceShow=!0,t.uiCurrentActiveReferenceIndex=e)},t.funcHideReference=function(){t.uiIsReferenceShow=!1},t.funcSideSaveForm=function(){2===parseInt(t.formInfo.Status)&&(t.option.all.isEditable=!1,t.funcSaveToServer())},t.funcSideEditForm=function(){t.option.all.isEditable=!0},t.funcSideViewForm=function(){t.option.all.isEditable=!1,t.uiIsEditTags=!1},t.funcRedoForm=function(t){var e=window.confirm("确定要重做表单吗？\n注意：将表单置为可编辑状态");if(e){c.setContent("正在重置表单编辑状态","inProgress"),c.show();var n=r.requestEdit(t),o=i.all([n]);o.then(function(){c.setContent("重设成功","success"),a.reload()},function(){c.setContent("重设失败","error")})["finally"](function(){c.hide()})}},t.funcSaveToServer=function(){console.log(t.formData),c.setContent("正在保存到服务器","inProgress"),c.show(),r.saveFormDataToServer(a.params.FormId,t.formData,!1).then(function(){c.setContent("表单数据保存成功！","success")},function(t){c.setContent("保存失败","error")})["finally"](function(){c.hide(750)})},t.funcSubmitForm=function(){var e=function(){var e=t.formInfo;"收货"===e.TypeClass?a.go("home.process.formList",{Class:e.TypeClass,ProcessTypeId:e.ProcessTypeId,Rev:e.Rev,ProcessNodeTypeId:e.ProcessNodeTypeId}):a.go("home.process.processList",{Class:e.TypeClass,ProcessTypeId:e.ProcessTypeId,Rev:e.Rev})},i=o.confirm("是否确认提交？");console.log(1),i===!0&&(c.setContent("校验失败，请检查是否有漏填，错填"),c.show(),c.hide(1500),c.setContent("正在提交表单"),c.show(),r.saveFormDataToServer(a.params.FormId,t.formData,!1).then(function(){"ARRIVAL"===a.params.ArrivalSerialNumber?r.requestSubmitAndAddToArrivalAndAddToProcess(a.params.FormId).then(function(){c.setContent("提交成功，即将转跳回列表","success"),n(function(){e(),c.hide(1e3)},2e3)},function(t){c.setContent("提交失败","error"),console.log(t),c.hide()}):r.requestSubmit(a.params.FormId).then(function(){c.setContent("提交成功，即将转跳回列表","success"),e()},function(t){c.setContent("提交失败","error"),console.log(t),c.hide()})},function(t){console.error(t),c.setContent("欲提交表单保存失败")}))};var u=function(e){return s(function(){t.uiIsAutoSaveFormData=!0,r.saveFormDataToServer(a.params.FormId,t.formData,!0).then(function(){},function(t){})["finally"](function(){t.uiIsAutoSaveFormData=!1})},e)}(12e4);t.$on("$destroy",function(){u&&s.cancel(u)})}]).controller("ProcessListBlankCtrl",["$scope","$state","AccountSvc",function(t,e,n){t.uiIsProcessTypesShow=!1;var a=function(t){"收货"===e.params.Class?e.go("home.process.formList",{Class:e.params.Class,ProcessTypeId:t.ProcessTypeId,Rev:t.Rev,ProcessNodeTypeId:"AR01"}):e.go("home.process.processList",{Class:e.params.Class,ProcessTypeId:t.ProcessTypeId,Rev:t.Rev})},i=n.getUserSetting("UserSetting.UI.Process.List.DefaultProcessType")[e.params.Class];a(i),t.funcSetDefaultProcessType=function(t,o){i.Enable=!0,i.ProcessTypeId=t,i.Rev=o;var s=n.getUserSetting("UserSetting.UI.Process.List.DefaultProcessType");s[e.params.Class]=i,n.setUserSetting("UserSetting.UI.Process.List.DefaultProcessType",s),a(i)}}]).controller("ProcessListMissions",["$scope","$state",function(t,e){function n(t){console.log(e)}t.newCheckMission=n}]),angular.module("RMI.PlayCtrls",[]).controller("PlaygroundCtrl",["$scope",function(t){t.v1=1,t.v2=2,t.sum=0,t.f=[{label:1},{label:2}],t.$watch(function(){return JSON.stringify(t.f)},function(){for(var e=0,n=0;n<t.f.length;n++)e+=t.f[n].label;t.sum=e}),t.GongYlist=[{name:"xxx",id:"3"},{name:"xxx1",id:"4"},{name:"xxx2",id:"5"}]}]).controller("PlayBuildCtrl",["$scope",function(t){}]);var a={CaiLiaoMingCheng:null,AnLunShiYan:null,ShaXiang:null,ShouGan:null,ZhengFanMian:null,BiaoZhunSeKa:null,JieLun:null,hasBiaoZhunSeKa:null,XiangMuFlag:{hasCiDian:!0},ChanPinZhongLei:null,YanZhenJieGuo:null,listData:[{BeiZhu:null,KaiDuBiaoZhunPianCha:null,KuanDuOrGuiGeShiCe2:null,HouDuBiaoZhunZhi:null,KuanDuOrGuiGeBiaoZhunZhi:null,CiDian:null,DuiChenXingOrWanQuDuShiCe:null,DuiChenXingOrWanQuDuBiaoZhunPianCha:null,HouDuShiCe:null,ShuLiangPiBiao2:null,ShuLiangPiBiao1:null,DengJiPanDing:null,ZiRanHuiSuoLv:null,KuanDuOrGuiGeBiaoZhunPianCha:null,KaiDuBiaoZhunZhi:null,KaiDuShiCe:null,HuaXingShiCe:null,KuanDuOrGuiGeShiCe1:null,HuaXingBiaoZhunPianCha:null,KeZhongBiaoZhunPianCha:null,ShuLiangShiCe1:null,KeZhongBiaoZhunZhi:null,ShouRouHuiSuoLv:null,DuiChenXingOrWanQuDuBiaoZhunZhi:null,ShuLiangShiCe2:null,HouDuBiaoZhunPianCha:null,HuaXingBiaoZhunZhi:null,GangHao:null,ShuiXi:null,KuanDuOrGuiGeShiCe3:null,JuanHao:null,KeZhongShiCe:null},{}],LeiBie:"B",YinBiaoWeiZhi:null,ShuLiang:null,DaoLiaoZongShu:null,SerialNo:"6F8EEF69-D6CA-4BC1-8ADF-B59A9BF5F827",DuiChenXingOrWanQuDu:null,step:[{state:1,name:"检验员填写",value:"4B652F7E-846E-419C-818E-544E1D00E6A5"},{state:0,name:"审核",value:"36929B8A-8C15-4068-8C0A-6DA2060AA172"}],JieLunBeiZhu:null,CaiLiaoCiDianZhuYaoWenTi:null,DuiChenXingOrWanQuDuDanWei:null,QiWei:null,GuiGeOrKuanDuDanWei:null,GongYingShang:null,JuanHao:null,GuiGeOrKuanDu:null,CaiLiaoFengYang:null,QiWeiBeiZhu:null,hasCaiLiaoFengYang:null};angular.module("RMI.HomeCtrls",[]).controller("HomeCtrl",["$scope","$rootScope","$state","cmBackSvc",function(t,e,n,a){!function(){a.setUrl("#")}()}]).controller("IndexCtrl",["$scope","SERVER_URL","$http","$interval","AccountSvc","LoginSvc","FormSvc","ProcessSvc","$state","cmLoadingSvc","VERSION","cmLoginSvc",function(t,e,n,a,i,o,s,l,r,d,c,u){t.version="VERSION: "+c,t.currentUser=i.currentUser(),t.currentTime=new Date,t.quickGoProcessASN="";var p=a(function(){t.currentTime=new Date},1e3);t.funcAddArrivalForm=function(){window.location.hash="#/Ins/Tasks/Dataentry"},t.JumpToUpdate=function(){window.location=e+"updateInfo/"},t.funcQuickGoProcess=function(t){d.setContent("查询中...","inProgress"),d.show();var e=function(t){var e=/[0-9a-fA-F]{6}/;return e.test(t)};e(t)?l.fetchProcess(t).then(function(){d.setContent("转跳中..."),r.go("home.process.detailInfo",{ArrivalSerialNumber:t})},function(){d.setContent("该流水号不存在！")})["finally"](function(){d.hide()}):(d.setContent("流水号输入错误！","error"),d.hide())},t.$on("$destroy",function(){p&&a.cancel(p)})}]),angular.module("RMI.ControlCtrls",[]).controller("ControlBaseCtrl",["$scope","$rootScope","$state",function(t,e,n){t.uiIsInDesignCacheEdit=!1,t.state=n,e.$on("$stateChangeStart",function(e,n,a){t.uiIsInDesignCacheEdit=!!a.isEditCache})}]).controller("ControlDesignProcessCtrl",["$scope","$state","$q","cmLoadingSvc","ControlDesignSvc",function(t,e,n,a,i){t.processTypes=[],
t.processTypes=[{Id:"X01",Class:"辅料",Name:"部件",Description:"描述信息描述信息描述信息描述信息描述信息描述信息"}],function(){a.setContent("正在加载所有流程列表","inProgress"),a.show(),i.fetchProcessTypes().then(function(e){t.processTypes=e,a.setContent("加载成功","success")},function(){a.setContent("加载失败")})["finally"](function(){a.hide(750)})}(),t.funcEditProcess=function(t,o){a.setContent("正在加载流程数据","inProgress"),a.show();var s=i.fetchProcessType(t,o),l=i.fetchProcessNodeTypes(t,o),r=n.all([s,l]);r.then(function(t){var n=t[0],o=t[1];angular.forEach(o,function(t){t.FormConfig=angular.fromJson(t.FormConfig)}),i.saveCacheConfig("process",o,n),a.setContent("加载完成","success"),e.go("home.control.designEditProcess",{isEditCache:"cache",loadItemType:void 0})},function(t){a.setContent("数据加载错误","error"),console.log(t)})["finally"](function(){a.hide(750)})}}]).controller("ControlDesignEditCtrl",["$scope","$state","$filter","$q","ControlDesignSvc","FormSvc","cmLoadingSvc",function(t,e,n,a,i,o,s){t.uiIsTable=!1,t.uiIsMap=!1,t.uiIsTableTemplateBaseShow=!1,t.uiIsMapTemplateBaseShow=!1,t.uiIsAddPanelShow=!1,t.uiIsEditCache=e.params.isEditCache?!0:!1;var l=i.getPresetConfig();t.configString="";var r="";"home.control.designEditMap"===e.current.name?(t.uiIsTable=!1,t.uiIsMap=!0,r="map"):"home.control.designEditTable"===e.current.name?(t.uiIsTable=!0,t.uiIsMap=!1,r="table"):"home.control.designEditForm"===e.current.name?r="form":"home.control.designEditProcess"===e.current.name&&(r="process"),t.generalConfig=l.general[r],t.itemConfig=l.item[r],t.itemConfigs=[],t.localConfigs=[],t.localConfigs=[{description:(new Date).getTime()},{description:(new Date).getTime()},{description:(new Date).getTime()}],function(n){if(!n)return 0;var a=i.getCacheConfig(r);angular.extend(t.generalConfig,a.content.general),angular.extend(t.itemConfigs,a.content.items),angular.extend(t.itemConfig,a.content.item);var o=e.params.loadItemType;("form"===o||"table"===o||"map"===o)&&angular.extend(t.itemConfig,i.getCacheItemConfigByChildConfig(o))}(!!e.params.isEditCache),t.funcSaveConfigsCacheAndBack=function(){if(s.setContent("正在保存编辑后的配置","inProgress"),s.show(),i.saveCacheConfig(r,t.itemConfigs,t.generalConfig),"map"===r||"table"===r)e.go("home.control.designEditForm",{isEditCache:"cache",loadItemType:r}),s.hide(750);else if("form"===r)e.go("home.control.designEditProcess",{isEditCache:"cache",loadItemType:r}),s.hide(750);else if("process"===r){var n=i.updateProcessType(t.generalConfig.Id,t.generalConfig),o=i.updateProcessNodeTypes(t.generalConfig.Id,t.itemConfigs),l=a.all([n,o]);l.then(function(){s.setContent("保存成功","success"),e.go("home.control.designProcess",{isEditCache:"cache"})},function(t){console.log(t),s.setContent("保存失败","error")})["finally"](function(){s.hide(750)})}};var d=null;t.funcLoadItemConfigToAddPanel=function(e,n){d=n,t.itemConfig=angular.copy(e),console.log("Current Editing:"+n)};var c=function(n){i.saveCacheConfig(r,t.itemConfigs,t.generalConfig,null),{form:function(){e.go("home.control.designEditForm",{isEditCache:"cache"})},table:function(){e.go("home.control.designEditTable",{isEditCache:"cache"})},map:function(){e.go("home.control.designEditMap",{isEditCache:"cache"})}}[n]()};t.funcGoEditItemConfig=function(e){var n=t.itemConfig,a=d;if(n)if("process"===r)i.saveItemCacheConfig("process",n),i.saveCacheConfigByFatherConfig(n,"form",a);else if("form"===r){i.saveItemCacheConfig("form",n);var o=n.Type;"table"===o?i.saveCacheConfigByFatherConfig(n,"table",a):"map"===o&&i.saveCacheConfigByFatherConfig(n,"map",a)}c(e)},t.funcGoCreateItemConfig=function(t){c(t)},t.funcPackFormConfigString=function(t){var e=angular.fromJson(t),n={FormConfig:e};return angular.toJson(n)},t.funcLoadConfig=function(e){var n=angular.fromJson(e);angular.forEach(n,function(e,n){t.itemConfig[n]=e})},t.funcAddUpConfigs=function(){t.itemConfig.Order=t.itemConfigs.length+1,t.itemConfigs.push(angular.copy(t.itemConfig)),t.itemConfig=l.item[r]},t.funcReorderConfigs=function(){t.itemConfigs=n("orderBy")(t.itemConfigs,"Order"),angular.forEach(t.itemConfigs,function(t,e){t.Order=e+1})},t.funcDeleteFromConfigs=function(e){t.itemConfigs.splice(e,1)},t.funcAddProcessTypeIdToConfigs=function(){angular.forEach(t.itemConfigs,function(e){e.ProcessTypeId=t.generalConfig.Id,e.Rev=t.generalConfig.Rev})},t.funcAddDatabaseTableNameToFormConfigs=function(){var e="RMI_FORM_DATA_PROCESSTYPEID_REVREPLACE_REV_PROCESSNODETYPEID_COMPONENTORDER_TYPE";angular.forEach(t.itemConfigs,function(t){if("object"==typeof t.FormConfig){var n=e.replace(/PROCESSTYPEID/g,t.ProcessTypeId).replace(/PROCESSNODETYPEID/g,t.Id).replace(/REPLACE_REV/g,t.Rev);angular.forEach(t.FormConfig.Components,function(t){t.DatabaseTableName=n.replace(/ORDER/g,t.Order).replace(/TYPE/g,t.Type.toUpperCase())})}})},t.funcCreateProcessTypeAndProcessNodeTypes=function(){s.setContent("正在提交流程数据"),s.show(),t.funcAddProcessTypeIdToConfigs(),t.funcAddDatabaseTableNameToFormConfigs();var e=t.generalConfig,n=t.itemConfigs;angular.forEach(n,function(t){"string"!=typeof t.FormConfig,"number"==typeof t.Order&&(t.Order=t.Order.toString())});var o=i.createProcessType(e);console.log(n);var l=i.createProcessNodeTypes(n),r=a.all([o,l]);r.then(function(){s.setContent("提交成功！")},function(t){s.setContent("提交失败"),console.log("funcCreateProcessTypeAndProcessNodeTypes Error:"+t)})["finally"](function(){s.hide(750)})}}]).controller("ControlDesignClassificationCtrl",["$scope","$state","SQLQuerySvc","ControlDesignSvc","cmLoadingSvc",function(t,e,n,a,i){t.uiIsAddPanelShow=!1,t.OptionalProcessTypes=[],t.subclasses=[],t.subclass={Subclass:null,ProcessTypeId:null},t.funcSubmitSubclass=function(t){i.setContent("Creating subclass...","inProgress"),i.show(),console.log(t),t.Subclass&&t.ProcessTypeId?a.createSubclass(t).then(function(){i.setContent("Successfully.","success"),e.reload()},function(t){i.setContent("Error.","error"),console.error(t)})["finally"](function(){i.hide()}):(i.setContent("Config error, please check.","error"),i.hide(1e3))},t.funcRemoveSubclass=function(t){i.setContent("Deleting subclass...","inProgress"),i.show(),a.deleteSubclass(t).then(function(){i.setContent("Successfully.","success"),e.reload()},function(t){i.setContent("Error.","error"),console.error(t)})},function(){a.fetchProcessTypes().then(function(e){t.OptionalProcessTypes=e},function(){}),a.fetchSubclasses().then(function(e){t.subclasses=e})}()}]).controller("ControlDesignSourceCtrl",["$scope","ControlDesignSvc","cmLoadingSvc",function(t,e,n){t.uiIsAddPanelShow=!0,t.config={Description:"",Name:"",Type:"value",Value:""},t.configs=[],t.funcReadSources=function(){n.setContent("正在加载数据","inProgress"),n.show(),e.readSourcesFromKVStore().then(function(e){n.setContent("加载完成","success"),t.configs=e},function(){n.setContent("加载失败","error")})["finally"](function(){n.hide(750)})},t.funcCreateSource=function(){n.setContent("正在创建来源","inProgress"),n.show(),e.createSourceToKVStore(t.config).then(function(e){n.setContent("数据成功获取，重载页面值","success"),t.configs=e},function(t){n.setContent("创建失败","error")})["finally"](function(){n.hide(750)})},t.funcDeleteSource=function(a){n.setContent("正在删除来源","inProgress"),n.show(),e.deleteSourceFromKVStore(a).then(function(e){n.setContent("删除成功，重载页面值","success"),t.configs=e},function(t){n.setContent("删除失败","error")})["finally"](function(){n.hide(750)})},t.funcReadSources()}]).controller("ControlFeedbackCtrl",["$scope","ControlFeedbackSvc","cmLoadingSvc","AccountSvc",function(t,e,n,a){t.feedback={Subject:"",Content:"",SubmitTime:"",SubmitUserId:"",SubmitUserName:""},t.funcSubmitNewFeedback=function(t){t.SubmitTime=(new Date).getTime(),t.SubmitUserId=a.currentUser().Id,t.SubmitUserName=a.currentUser().Name,localStorage.setItem("Control.FeedBack."+(new Date).getTime(),angular.toJson(t)),n.setContent("正在提交您的反馈","inProgress"),n.show(),e.createFeedback(t).then(function(){n.setContent("感谢您提供反馈！","success")},function(t){n.setContent("服务器提交失败，已本地存储","error"),console.error(t)})["finally"](function(){n.hide(750)})}}]).controller("ControlUserCtrl",["$scope","formlyVersion","$uibModal","$http","SERVER_URL","cmLoadingSvc",function(t,e,n,a,i,o){function s(e){swal({title:"确认删除？",text:"此操作无法撤销",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确认",cancelButtonText:"取消",closeOnConfirm:!0},function(){t.myPromise=a.get(i+"users/"+e.ID+"/delete/").then(function(){var t=d.history.indexOf(e);d.history.splice(t,1),swal("删除成功","您所做的更改已生效","success")},function(){swal("删除失败","您所做的更改未生效","error")})["finally"](function(){})})}function l(t){return[{key:"ID",type:"input",ngModelAttrs:{myCustomValue:{bound:"ng-ng-readonly",attribute:"ng-readonly"}},templateOptions:{label:"工号",placeholder:"工号",required:!0,myCustomValue:!t}},{key:"Name",type:"input",templateOptions:{required:!0,label:"姓名",placeholder:"姓名"}},{key:"Password",type:"input",templateOptions:{required:!0,label:"密码",type:"password"}},{key:"DepartmentID",type:"select",templateOptions:{required:!0,label:"部门",options:d.departments}},{key:"JobID",type:"select",templateOptions:{required:!0,label:"职位",options:d.jobs}}]}function r(t,e){var a;e?(a=n.open({templateUrl:"app/interaction/control/user/modify.html",controller:"ControlUserModifyCtrl",controllerAs:"vm",resolve:{formData:function(){return{fields:l(!0),model:t}},isNew:!0}}).result,a.then(function(t){d.history.push(t)})):a=n.open({templateUrl:"app/interaction/control/user/modify.html",controller:"ControlUserModifyCtrl",controllerAs:"vm",resolve:{formData:function(){return{fields:l(!1),model:t}},isNew:!1},isNew:!1}).result}var d=this;d.edit=r,d.del=s,d.addNew=function(){var t={ID:null,Name:null,Password:null,DepartmentID:null,JobID:null};d.edit(t,!0)},t.myPromise=a.get(i+"users/",{responseType:"json"}).then(function(e){d.history=e.data,d.status="",t.myPromise=a.get(i+"users/departmentAndJob/").then(function(t){d.departments=t.data.Departments,d.jobs=t.data.Jobs},function(t){})},function(t){}),d.history=[],d.status="正在获取用户列表......",d.departments=[],d.jobs=[],d.formFields=l(!1)}]).controller("ControlUserModifyCtrl",["$scope","$http","formData","$uibModalInstance","SERVER_URL","isNew",function(t,e,n,a,i,o){function s(){console.log(r.formData.model);var n=angular.copy(r.formData.model);n.isNew=o,n.Permission="",t.myPromise=e.post(i+"users/"+n.ID+"/edit/","JSON="+JSON.stringify(n).replace("true",'"True"').replace("false",'"False"')).then(function(t){"0"==t.data?(swal("修改成功","用户需要重新登录以使更改生效","success"),a.close(r.formData.model)):"1"==t.data&&swal("工号已存在","您所做的修改未生效","error")},function(t){swal("发生错误","您所做的修改未生效","error")})["finally"]()}function l(){r.formData.options.resetModel(),a.dismiss("cancel")}var r=this;r.ok=s,r.cancel=l,r.hint="",r.formData=n,r.originalFields=angular.copy(r.formData.fields)}]).controller("ControlOperationCtrl",["$scope","$state","FormSvc","ControlOperationSvc","AccountSvc",function(t,e,n,a,i){t.operations=[],t.funcGo=function(t,a){"form"===t?n.fetchForm(a).then(function(t){e.go("home.process.detailForm",{ArrivalSerialNumber:t.ArrivalSerialNumber,FormId:a,Mode:"edit"})},function(){})["finally"]():"process"===t&&e.go("home.process.detailInfo",{ArrivalSerialNumber:a})},function(n){t.operations=[];var i=function(t){return{GET:"获取表单内容",POST:"创建新表单",PUT:"保存表单数据"}[t]};a.fetchOperations(n,e.params.top).then(function(e){angular.forEach(e,function(t){t.Description=i(t.Method)}),t.operations=e},function(t){console.error(t)})}(i.currentUser())}]).controller("ControlSupplierCtrl",["$scope","SERVER_URL","$http","$timeout","$state",function(t,e,n,a,i){function o(){t.myPromise=n.get(e+"configuration/SuppliersInfo/").then(function(e){t.data=e.data})}t.data=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6}],o(),t.alterRow=function(t){t.isEditting=t.isEditting||!1,t.isEditting=!0,t.oldId=t.id},t.save=function(t){t.hint="修改中...";var i,o=e+"configuration/SuppliersInfo/";i=t.isNew?n.post(o,"INFO="+JSON.stringify(t)):n.put(o+t.oldId,"INFO="+JSON.stringify(t)),i.then(function(e){t.hint="修改成功",t.isEditting=!1,t.isNew=!1,t.id=e.data,a(function(){t.hint=""},3e3)},function(){t.hint="修改失败",a(function(){t.hint=""},3e3)})},t.add=function(){t.data.unshift({isEditting:!0,id:null,name:null,isNew:!0})},t.del=function(i){i.hint="删除中......",n["delete"](e+"configuration/SuppliersInfo/"+i.id).then(function(){i.hint="删除成功",a(function(){t.data.splice(t.data.indexOf(i),1)},3e3)},function(){i.hint="删除失败",a(function(){i.hint=""},3e3)})}}]).controller("ControlMaterialCtrl",["$scope","SERVER_URL","$http","$timeout","$state","NgTableParams","$uibModal",function(t,e,n,a,i,o,s){function l(){n.get(e+t.group_url).then(function(e){t.data_group=e.data,console.log(t.data_group)})}t.data_group=[{id:1,name:1,time:12.7},{id:2,name:2,time:12.5}],t.group_url="configuration/MaterialTypeInfo/",t.single_url="configuration/MaterialInfo/",l(),t.group_table_params=new o({page:1,count:10},{total:800,getData:function(a,i){console.log(i.total());var o=i.filter().id?i.filter().id:"",s=i.filter().name?i.filter().name:"";return t.myPromise=n.get(e+"configuration/MaterialTypeInfo/?page="+i.page()+"&count="+i.count()+"&id="+o+"&name="+s).then(function(e){return t.group_table_params.total(e.data.count),e.data.listData}),t.myPromise}}),t.single_table_params=new o({page:1,count:10},{total:800,getData:function(a,i){console.log(i.total());var o=i.filter().id?i.filter().id:"",s=i.filter().name?i.filter().name:"";return t.myPromise=n.get(e+"configuration/MaterialInfo/?page="+i.page()+"&count="+i.count()+"&id="+o+"&name="+s).then(function(e){return t.single_table_params.total(e.data.count),e.data.listData}),t.myPromise}}),t.alterRow=function(t){t.isEditting=t.isEditting||!1,t.isEditting=!0},t.save=function(t,i){t.hint="修改中...";var o;o=t.isNew?n.post(e+i,"INFO="+JSON.stringify(t)):n.put(e+i+t.id,"INFO="+JSON.stringify(t)),o.then(function(e){t.hint="修改成功",t.isEditting=!1,a(function(){t.hint=""},3e3)},function(){t.hint="修改失败",a(function(){t.hint=""},3e3)})},t.add_group=function(e){var n=s.open({animation:!0,templateUrl:"app/interaction/control/material/add_group_model.html",controller:"AddGroupCtrl",resolve:{url:function(){return e},dataGroup:function(){return t.data_group}}});n.result.then(function(t){},function(){})},t.del=function(t,o){t.hint="删除中......",n["delete"](e+o+t.id).then(function(){t.hint="删除成功",a(function(){i.reload(1)},3e3)},function(){t.hint="删除失败",a(function(){t.hint=""},3e3)})}}]).controller("AddGroupCtrl",["$scope","SERVER_URL","$http","$uibModalInstance","url","$state","dataGroup",function(t,e,n,a,i,o,s){t.isGroup=i.indexOf("Type")>-1,console.log(s),t.dataGroup=s,t.ok=function(){t.myPromise=n.post(e+i,"INFO="+JSON.stringify(t.item)).then(function(){swal("成功","新建成功","success"),a.dismiss("cancel"),o.reload(1)})},t.cancel=function(){a.dismiss("cancel")}}]).controller("ControlUnitCtrl",["$scope","SERVER_URL","$http","$timeout","$state",function(t,e,n,a,i){function o(){t.myPromise=n.get(e+"configuration/unitInfo/").then(function(e){t.data=e.data})}t.data=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6}],o(),t.alterRow=function(t){t.isEditting=t.isEditting||!1,t.isEditting=!0,t.oldId=t.id},t.save=function(t){t.hint="修改中...";var i,o=e+"configuration/unitInfo/";i=t.isNew?n.post(o,"INFO="+JSON.stringify(t)):n.put(o+t.oldId,"INFO="+JSON.stringify(t)),i.then(function(e){t.hint="修改成功",t.isEditting=!1,t.isNew=!1,t.id=e.data,a(function(){t.hint=""},3e3)},function(){t.hint="修改失败",a(function(){t.hint=""},3e3)})},t.add=function(){t.data.unshift({isEditting:!0,id:null,name:null,isNew:!0})},t.del=function(i){i.hint="删除中......",n["delete"](e+"configuration/unitInfo/"+i.id).then(function(){i.hint="删除成功",a(function(){t.data.splice(t.data.indexOf(i),1)},3e3)},function(){i.hint="删除失败",a(function(){i.hint=""},3e3)})}}]),angular.module("RMI.checkFormListCtrls",["angularValidator"]).factory("JianYanGuiZe",["CHECK_ERROR_RULE",function(t){return{getCheckNum:function(e){for(var n=0;n<t.A.length;n++)if(e>=t.A[0]&&e<=t.A[1])return t.A[2];return null},getCiDianLegalNumF02:function(e,n,a){if(!e||!n||!a)return 1e6;var i=t[n];if("其他"==a)for(var o=0;o<i.length;o++)if(i[o][2]==parseFloat(e))return i[o][3];if("肩带"==a||"色纱带"==a||"其他织带"==a){var s=parseFloat(e)/50;return console.log("ZHIDAI:"+s),s+1e-9}},getJiFenLegalNumF02:function(t,e){return t&&e?"其他"==e?1e9:"肩带"==e?1*t/100+1e-5:"色纱带"==e?3*t/100+1e-5:"其他织带"==e?(console.log("!!!!!!!!!!!!!!!"),1*t/100+1e-5):1e9:1e9}}}]).controller("checkFormListCtrlAll",["$scope","$state","$http","SERVER_URL","cmBackSvc",function(t,e,n,a,i){function o(){console.log(e.current.url),"dataEntry"==e.params.Type?i.setUrl("#/Ins/Tasks/Dataentry"):i.setUrl("#/Ins/Tasks/Check"),t.myPromise=n.get(a+"inspect/"+e.params.ID+"/getTaskProcess/").then(function(e){t.formList=e.data}),t.formList=[]}t.formList=[],o();var s=1;t.addNew=function(){t.formList.unshift({name:"新增表单"+s.toString(),state:1}),s+=1},t.del=function(e){if(confirm("确认删除？")){for(var n=0,a=0;a<t.formList.length;a++)if(e==t.formList[a]){n=a;break}t.formList.splice(a,1)}},t.entry=function(t){e.go("home.forms"+t.ProcessID,{ProcessID:t.ProcessID,SerialNo:e.params.ID,Type:e.params.Type})}}]).controller("form1Ctrl",["$scope","$state","$http","SERVER_URL","cmBackSvc","AUTO_TAB_INTERVAL","$timeout","$element",function(t,e,n,a,i,o,s,l){function r(){i.setUrl("#/Ins/checkFormList/?ID="+e.params.SerialNo+"&Type="+e.params.Type),t.myPromise=n.get(a+"inspect/"+e.params.SerialNo+"/getF01Data/"+e.params.Type+"/").then(function(e){t.info=e.data.info;for(var n=angular.copy(e.data.data),a=0;a<n.listData.length;a++)n.listData[a].hasDingDanShu=n.listData[a].DingDanShu>=0&&null!=n.listData[a].DingDanShu,n.listData[a].hasTouChanShu=n.listData[a].TouChanShu>=0&&null!=n.listData[a].TouChanShu,n.listData[a].WaiGuan=null==n.listData[a].WaiGuan?!0:n.listData[a].WaiGuan,n.listData[a].SaoMiaoJieGuo=null==n.listData[a].SaoMiaoJieGuo?"OK":n.listData[a].SaoMiaoJieGuo;n.ZhuDiaoPai=n.ZhuDiaoPai||{GuiGe:null,BiaoZhiShu:null,ShiCeShu:null,HeGeShu:null,WaiGuan:!0,SaoMiaoJieGuo:"OK",JianYanHao:t.data.default_jianyanhao?t.data.default_jianyanhao:null,QiTa:null,TouChanShu:null,DingDanShu:null,hasDingDanShu:!1,hasTouChanShu:!1,JianYanShu:null,timer:null},n.ZhuDiaoPai.hasDingDanShu=n.ZhuDiaoPai.DingDanShu>=0&&null!=n.ZhuDiaoPai.DingDanShu,n.ZhuDiaoPai.hasTouChanShu=n.ZhuDiaoPai.TouChanShu>=0&&null!=n.ZhuDiaoPai.TouChanShu,n.ShengChanRiQi=new Date(n.ShengChanRiQi),t.data=n,t.calcDaoLiaoSum(t.data.listData),setTimeout(function(){$("select").each(function(){$(this).removeClass("ng-invalid").addClass("ng-untouched")}),$("input").each(function(){$(this).removeClass("ng-invalid").addClass("ng-untouched")})},200)})["finally"]()}console.log(e.params),t.info={},t.data={},t.stateType=e.params.Type,r(),t.$watch(function(){return JSON.stringify(t.data)},function(){var e=0;if(t.data.listData){for(var n=0;n<t.data.listData.length;n++)e+=parseFloat(t.data.listData[n].JianYanShu?t.data.listData[n].JianYanShu:0);t.data.JianYanZongShu=e}}),t.hint="",t.sub=function(i,o){if(i){for(var s=document.getElementsByClassName("ng-invalid"),l=0;l<s.length;l++)("INPUT"==s[l].tagName||"SELECT"==s[l].tagName)&&(s[l].style.border="1px solid red");t.hint="*请填写红框框出的缺失必填字段或修改格式错误字段"}else{var r=(t.data.selectedStep,!1);if(!r){var d=angular.copy(t.data);d.totalCount=0,d.DaoLiaoZongShu=0;for(var l=0;l<d.listData.length;l++)d.listData[l].WaiGuan?d.listData[l].WaiGuan=1:d.listData[l].WaiGuan=0,d.listData[l].timer=null,d.totalCount+=parseFloat(d.listData[l].JianYanShu),d.DaoLiaoZongShu+=parseFloat(d.listData[l].HeGeShu);d.isSubmit=o,d.totalCount=t.data.DaoLiaoZongShu,o?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(i){i||(d.isSubmit=!1),t.myPromise=n.post(a+"inspect/"+e.params.SerialNo+"/insertF01Data/","JSON="+JSON.stringify(d)).then(function(n){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,e.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(a+"inspect/"+e.params.SerialNo+"/insertF01Data/","JSON="+JSON.stringify(d)).then(function(n){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,e.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}}},t.del=function(e){if(confirm("确认删除？")){for(var n,a=0;a<t.data.listData.length;a++)if(e==t.data.listData[a]){n=a;break}t.data.listData.splice(n,1)}},t.valid=function(t,e,n){console.log(e),t.valid=t==n,console.log(t),console.log(t.valid)},t.add=function(){t.data.listData.push({GuiGe:null,BiaoZhiShu:null,ShiCeShu:null,HeGeShu:null,WaiGuan:!0,JianYanShu:null,SaoMiaoJieGuo:"OK",JianYanHao:t.data.default_jianyanhao?t.data.default_jianyanhao:null,QiTa:null,TouChanShu:null,DingDanShu:null,hasDingDanShu:t.data.listData[0]?t.data.listData[0].hasDingDanShu:!1,hasTouChanShu:t.data.listData[0]?t.data.listData[0].hasTouChanShu:!1,timer:null}),setTimeout(function(){document.getElementsByTagName("cm-side-menu-content")[0].scrollTop=1e4;for(var t=document.getElementById("data").getElementsByTagName("tr")[document.getElementById("data").getElementsByTagName("tr").length-1].getElementsByTagName("input"),e=0;e<t.length;e++)$(t[e]).addClass("ng-untouched").removeClass("ng-invalid"),0==e&&t[e].focus()},200)},t.onJianYanHaoDefaultChange=function(e){var n=t.data.listData;console.log(e);for(var a=0;a<n.length;a++)n[a].JianYanHao=e},t.calcDaoLiaoSum=function(e){for(var n=0,a=0;a<e.length;a++)console.log(e[a].HeGeShu),n+=e[a].HeGeShu?parseInt(e[a].HeGeShu):0;t.data.DaoLiaoZongShu=n},t.timer=null,t.stepNext=function(t,e){},t.pass=function(){t.myPromise=n.get(a+"inspect/"+e.params.SerialNo+"/passProcess/F01").then(function(){swal("成功","报表已审核通过","success"),e.reload()},function(){swal("失败","报表审核通过失败","error")})},t.makeGongYingShang=function(e){switch(e){case"商标":t.data.GongYingShang="艾利（苏州）有限公司";break;case"外销商标":t.data.GongYingShang="北京尼欧服装辅料有限公司";break;case"纸卡":t.data.GongYingShang="北京星汉特种印刷有限公司"}}}]).controller("form2Ctrl",["$scope","$state","$uibModal","$http","SERVER_URL","cmBackSvc","CHECK_ERROR_RULE","iaValidationFac","ALL_FLOW_ID","JianYanGuiZe",function($scope,$state,$uibModal,$http,SERVER_URL,cmBackSvc,CHECK_ERROR_RULE,iaValidationFac,ALL_FLOW_ID,JianYanGuiZe){function getData(){setTimeout(function(){"dataEntry"!=$scope.stateType&&($("input").each(function(t){console.log(this),this.setAttribute("ng-readonly","true")}),$("select").each(function(t){this.disabled=!0}));for(var innerList=[],tds=document.getElementById("data").getElementsByTagName("tr")[0].childNodes,i=0;i<tds.length;i++)for(var j=0;j<tds[i].childNodes.length;j++)if(tds[i].childNodes[j].getAttribute){var tar=tds[i].childNodes[j].getAttribute("ng-model");tar&&innerList.push(tar.split(".")[1])}$scope.myPromise=$http.get(SERVER_URL+"inspect/"+$state.params.SerialNo+"/getF02Data/"+$state.params.Type).then(function success(data){$scope.data=data.data.data;for(i in $scope.data)(innerList.indexOf(i)>0||"Id"==i||"InspectorNo"==i)&&delete $scope.data[i];for(var j=0;j<$scope.data.listData.length;j++){var temp=$scope.data.listData[j];for(i in temp)(innerList.indexOf(i)<0||"Id"==i||"InspectorNo"==i)&&"Inspector"!=i&&delete temp[i]}$scope.data.DuiChenXingOrWanQuDu="DuiChenXing",console.log($scope.data),$scope.info=data.data.info,$scope.calctotalSum($scope.data.listData),$scope.data.XiangMuFlag=JSON.parse($scope.data.XiangMuFlag),$scope.data.LeiBie="B",eval($scope.info.config)},function(t){})},200)}!function(){cmBackSvc.setUrl("#/Ins/checkFormList/?ID="+$state.params.SerialNo+"&Type="+$state.params.Type)}(),$scope.stateType=$state.params.Type,$scope.validateScale=iaValidationFac.quickValid,$scope.data={listData:[{}]},$scope.getCheckNum=JianYanGuiZe.getCheckNum,$scope["new"]=function(){var t={};result=$uibModal.open({templateUrl:"app/interaction/process/list/modifyInspectionProcess.html",controller:"ControlInspectionProcessModifyCtrl",controllerAs:"vm",resolve:{formData:function(){return{fields:[{key:"ArriveTime",type:"input",ngModelAttrs:{ngreadonly:{bound:"ng-ng-readonly",attribute:"ng-readonly"}},templateOptions:{label:"到料日期",placeholder:"YYYYMMDD",required:!1,type:"text",ngreadonly:!1}},{key:"ProductNo",type:"input",templateOptions:{required:!1,label:"货号",placeholder:"货号"}},{key:"ColorNo",type:"input",templateOptions:{required:!1,label:"色号",placeholder:"色号"}},{key:"FlowID",hideExpression:"1",type:"select",defaultValue:ALL_FLOW_ID,templateOptions:{required:!1,label:"流程号",options:$scope.flowList}}],model:t,ALL_FLOW_ID:ALL_FLOW_ID}},isNew:!0,JumpTo:function(){return{form:"/forms02/F02/",type:"dataEntry"}}}}).result},getData(),$scope.add=function(){$scope.data.listData.push({})},$scope.isWarningJiDian=function(t,e,n,a){return t&&e&&n?e>=JianYanGuiZe.getCiDianLegalNumF02(t,n,a):!1},$scope.isWarningJiFen=function(t,e,n){return t&&e&&n?(console.log(n),e>=JianYanGuiZe.getJiFenLegalNumF02(t,n)):!1},$scope.del=function(t){if(confirm("确认删除？")){var e=$scope.data.listData.indexOf(t);$scope.data.listData.splice(e,1)}},$scope.sub=function(t){var e=angular.copy($scope.data);e.isSubmit=t,e.totalCount=$scope.totalCount,delete e.step;for(var n=0;n<e.listData.length;n++);t?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(t){t||(e.isSubmit=!1),$scope.myPromise=$http.post(SERVER_URL+"inspect/"+$state.params.SerialNo+"/insertF02Data/","JSON="+JSON.stringify(e)).then(function(t){swal("修改成功","您所做的修改已生效","success"),$scope.myPromise=null,$state.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):$scope.myPromise=$http.post(SERVER_URL+"inspect/"+$state.params.SerialNo+"/insertF02Data/","JSON="+JSON.stringify(e)).then(function(t){swal("修改成功","您所做的修改已生效","success"),$scope.myPromise=null,$state.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},$scope.pass=function(){$scope.myPromise=$http.get(SERVER_URL+"inspect/"+$state.params.SerialNo+"/passProcess/F02").then(function(){swal("成功","报表已审核通过","success"),$state.reload()},function(){swal("失败","报表审核通过失败","error")})},$scope.totalCount=0,$scope.calctotalSum=function(t){$scope.totalCount=0;for(var e=0;e<t.length;e++)$scope.totalCount+=t[e].JianYanShu?parseInt(t[e].JianYanShu):0},$scope.comparePiBiaoShiCe=function(t,e){return parseFloat(t)>parseFloat(e)},$scope.Float=function(t){return parseFloat(t)}}]).controller("form3Ctrl",["$scope","SERVER_URL","$http","cmBackSvc","$state",function(t,e,n,a,i){function o(){a.setUrl("#/Ins/checkFormList/?ID="+i.params.SerialNo+"&Type="+i.params.Type),t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/getF03Data/"+i.params.Type+"/").then(function(e){t.data=e.data.data,t.info=e.data.info})["finally"]()}t.stateType=i.params.Type,t.data={},t.info={},o(),t.sub=function(a){var o=angular.copy(t.data);o.isSubmit=a,delete o.step,delete o.InspectorNo,delete o.Id,a?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(a){a||(o.isSubmit=!1),t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF03Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF03Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},t.pass=function(){t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/passProcess/F03").then(function(){swal("成功","报表已审核通过","success"),i.reload()},function(){swal("失败","报表审核通过失败","error")})},t.Float=function(t){return parseFloat(t)}}]).controller("form4Ctrl",["$scope","SERVER_URL","$http","cmBackSvc","$state",function(t,e,n,a,i){function o(){a.setUrl("#/Ins/checkFormList/?ID="+i.params.SerialNo+"&Type="+i.params.Type),t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/getF04Data/"+i.params.Type+"/").then(function(e){t.data=e.data.data,t.info=e.data.info})["finally"]()}t.stateType=i.params.Type,t.sub=function(a){var o=angular.copy(t.data);o.isSubmit=a,delete o.step,delete o.InspectorNo,delete o.Id,a?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(a){a||(o.isSubmit=!1),t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF04Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF04Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},o(),t.pass=function(){t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/passProcess/F04").then(function(){swal("成功","报表已审核通过","success"),i.reload()},function(){swal("失败","报表审核通过失败","error")})}}]).controller("form5Ctrl",["$scope","SERVER_URL","$http","cmBackSvc","$state",function(t,e,n,a,i){function o(){a.setUrl("#/Ins/checkFormList/?ID="+i.params.SerialNo+"&Type="+i.params.Type),setTimeout(function(){for(var a=[],o=document.getElementById("data").getElementsByTagName("tbody")[0].getElementsByTagName("tr")[3].childNodes,s=0;s<o.length;s++)for(var l=0;l<o[s].childNodes.length;l++)if(o[s].childNodes[l].getAttribute){var r=o[s].childNodes[l].getAttribute("ng-model");r&&a.push(r.split(".")[1])}console.log(a),t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/getF05Data/"+i.params.Type+"/").then(function(e){t.data=e.data.data;for(s in t.data)(a.indexOf(s)>0||"Id"==s||"InspectorNo"==s)&&delete t.data[s];for(var n=0;n<t.data.listData.length;n++){var i=t.data.listData[n];for(s in i)(a.indexOf(s)<0||"Id"==s||"InspectorNo"==s)&&"Inspector"!=s&&delete i[s]}t.info=e.data.info})["finally"]()},200)}t.stateType=i.params.Type,t.sub=function(a){var o=angular.copy(t.data);o.isSubmit=a,delete o.step,delete o.InspectorNo,delete o.Id,a?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(a){a||(o.isSubmit=!1),t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF05Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF05Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},o(),t.data={listData:[{}]},t.pass=function(){t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/passProcess/F05").then(function(){swal("成功","报表已审核通过","success"),i.reload()},function(){swal("失败","报表审核通过失败","error")})},t.del=function(e){if(confirm("确认删除？")){var n=t.data.listData.indexOf(e);t.data.listData.splice(n,1)}},t.add=function(){t.data.listData.push({}),setTimeout(function(){document.getElementsByTagName("cm-side-menu-content")[0].scrollTop=1e4;for(var t=document.getElementById("data").getElementsByTagName("tbody")[0].getElementsByTagName("tr")[document.getElementById("data").getElementsByTagName("tbody")[0].getElementsByTagName("tr").length-2].getElementsByTagName("input"),e=0;e<t.length;e++)0==e&&t[e].focus()},200)}}]).controller("form6Ctrl",["$scope","SERVER_URL","$http","cmBackSvc","$state",function(t,e,n,a,i){function o(){a.setUrl("#/Ins/checkFormList/?ID="+i.params.SerialNo+"&Type="+i.params.Type),t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/getF06Data/"+i.params.Type+"/").then(function(e){
t.data=e.data.data,t.info=e.data.info})["finally"]()}t.stateType=i.params.Type,t.sub=function(a){var o=angular.copy(t.data);o.isSubmit=a,delete o.step,delete o.InspectorNo,delete o.Id,a?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(a){a||(o.isSubmit=!1),t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF06Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF06Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},o(),t.pass=function(){t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/passProcess/F06").then(function(){swal("成功","报表已审核通过","success"),i.reload()},function(){swal("失败","报表审核通过失败","error")})}}]).controller("form7Ctrl",["$scope","SERVER_URL","$http","cmBackSvc","$state","iaValidationFac",function(t,e,n,a,i,o){function s(){setTimeout(function(){for(var a=[],o=document.getElementById("data").getElementsByTagName("tr")[0].childNodes,s=0;s<o.length;s++)for(var l=0;l<o[s].childNodes.length;l++)if(o[s].childNodes[l].getAttribute){var r=o[s].childNodes[l].getAttribute("ng-model");r&&a.push(r.split(".")[1])}t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/getF07Data/"+i.params.Type).then(function(e){t.data=e.data.data;for(s in t.data)(a.indexOf(s)>0||"Id"==s||"InspectorNo"==s)&&delete t.data[s];for(var n=0;n<t.data.listData.length;n++){var i=t.data.listData[n];for(s in i)(a.indexOf(s)<0||"Id"==s||"InspectorNo"==s)&&"Inspector"!=s&&delete i[s]}console.log(t.data),t.info=e.data.info},function(t){})},200)}t.stateType=i.params.Type,t.sub=function(a){var o=angular.copy(t.data);o.isSubmit=a,o.totalCount=0;for(var s=0;s<o.listData.length;s++)o.totalCount+=parseFloat(o.listData[s].ChouYanShu);delete o.step,delete o.InspectorNo,delete o.Id,a?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(a){a||(o.isSubmit=!1),t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF07Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF07Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},t.data={listData:[{}]},t.validateScale=o.quickValid,s(),t.pass=function(){t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/passProcess/F07").then(function(){swal("成功","报表已审核通过","success"),i.reload()},function(){swal("失败","报表审核通过失败","error")})},t.del=function(e){if(confirm("确认删除？")){var n=t.data.listData.indexOf(e);t.data.listData.splice(n,1)}},t.add=function(){t.data.listData.push({}),setTimeout(function(){document.getElementsByTagName("cm-side-menu-content")[0].scrollTop=1e4;for(var t=document.getElementById("data").getElementsByTagName("tr")[document.getElementById("data").getElementsByTagName("tr").length-1].getElementsByTagName("input"),e=0;e<t.length;e++)0==e&&t[e].focus()},200)}}]).controller("form8Ctrl",["$scope","SERVER_URL","$http","cmBackSvc","$state",function(t,e,n,a,i){function o(){setTimeout(function(){for(var a=[],o=document.getElementById("data").getElementsByTagName("tr")[0].childNodes,s=0;s<o.length;s++)for(var l=0;l<o[s].childNodes.length;l++)if(o[s].childNodes[l].getAttribute){var r=o[s].childNodes[l].getAttribute("ng-model");r&&a.push(r.split(".")[1])}t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/getF08Data/"+i.params.Type).then(function(e){t.data=e.data.data;for(s in t.data)(a.indexOf(s)>0||"Id"==s||"InspectorNo"==s)&&delete t.data[s];for(var n=0;n<t.data.listData.length;n++){var i=t.data.listData[n];for(s in i)(a.indexOf(s)<0||"Id"==s||"InspectorNo"==s)&&"Inspector"!=s&&delete i[s]}console.log(t.data),t.info=e.data.info},function(t){})},200)}t.stateType=i.params.Type,t.data={listData:[{}]},t.sub=function(a){var o=angular.copy(t.data);o.isSubmit=a,delete o.step,delete o.InspectorNo,delete o.Id,a?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(a){a||(o.isSubmit=!1),t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF08Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF08Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},o(),t.pass=function(){t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/passProcess/F08").then(function(){swal("成功","报表已审核通过","success"),i.reload()},function(){swal("失败","报表审核通过失败","error")})},t.add=function(){t.data.listData.push({}),setTimeout(function(){document.getElementsByTagName("cm-side-menu-content")[0].scrollTop=1e4;for(var t=document.getElementById("data").getElementsByTagName("tr")[document.getElementById("data").getElementsByTagName("tr").length-1].getElementsByTagName("input"),e=0;e<t.length;e++)0==e&&t[e].focus()},200)},t.Float=function(t){return parseFloat(t)}}]).controller("form9Ctrl",["$scope","$uibModal","SERVER_URL","$http","cmBackSvc","$state","CHECK_ERROR_RULE","iaValidationFac","JianYanGuiZe",function(t,e,n,a,i,o,s,l,r){function d(){setTimeout(function(){"dataEntry"!=t.stateType&&($("input").each(function(t){console.log(this),this.setAttribute("ng-readonly","true")}),$("select").each(function(t){this.disabled=!0}));for(var e=[],i=document.getElementById("data").getElementsByTagName("tr")[0].childNodes,s=0;s<i.length;s++)for(var l=0;l<i[s].childNodes.length;l++)if(i[s].childNodes[l].getAttribute){var r=i[s].childNodes[l].getAttribute("ng-model");r&&e.push(r.split(".")[1])}t.myPromise=a.get(n+"inspect/"+o.params.SerialNo+"/getF09Data/"+o.params.Type).then(function(n){t.data=n.data.data;for(o in t.data)(e.indexOf(o)>0||"Id"==o||"InspectorNo"==o)&&delete t.data[o];for(var a=0;a<t.data.listData.length;a++){var i=t.data.listData[a];for(o in i)(e.indexOf(o)<0||"Id"==o||"InspectorNo"==o)&&"Inspector"!=o&&delete i[o],"CiDian"==o&&null==i[o]&&(i[o]=[])}console.log(t.data),t.info=n.data.info,t.calctotalSum(t.data.listData),t.data.AnLunShiYan=t.data.AnLunShiYan?t.data.AnLunShiYan:"HeGe",t.data.QiWei=t.data.QiWei?t.data.QiWei:"ZhengChang",t.data.ZhengFanMian=t.data.ZhengFanMian?t.data.ZhengFanMian:"ZhengQue",t.data.ShaXiang=t.data.ShaXiang?t.data.ShaXiang:"ZhengQue",t.data.XiangMuFlag=JSON.parse(t.data.XiangMuFlag),console.log(t.data.AnLunShiYan);for(var o=0;o<t.data.listData.length;o++)try{t.data.listData[o].CiDian=JSON.parse(t.data.listData[o].CiDian)}catch(s){}t.data.LeiBie="B"},function(t){})},200)}t.stateType=o.params.Type,t.validateScale=l.quickValid,t.data={listData:[{CiDian:null}]},t.people=[{id:1,name:"333"},{id:2,name:"323"}],t.getCheckNum=r.getCheckNum,d(),t.add=function(){t.data.listData.push({})},t.isWarningJiDian=function(t,e,n,a){return t&&e&&n?e>=r.getCiDianLegalNumF02(t,n,a):!1},t.isWarningJiFen=function(t,e,n){return t&&e&&n?(console.log(n),e>=r.getJiFenLegalNumF02(t,n)):!1},t.del=function(e){if(confirm("确认删除？")){var n=t.data.listData.indexOf(e);t.data.listData.splice(n,1)}},t.sub=function(e){var i=angular.copy(t.data);i.isSubmit=e,i.totalCount=t.totalCount,delete i.step;for(var s=0;s<i.listData.length;s++);e?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(e){e||(i.isSubmit=!1),t.myPromise=a.post(n+"inspect/"+o.params.SerialNo+"/insertF09Data/","JSON="+JSON.stringify(i)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,o.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=a.post(n+"inspect/"+o.params.SerialNo+"/insertF09Data/","JSON="+JSON.stringify(i)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,o.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},t.pass=function(){t.myPromise=a.get(n+"inspect/"+o.params.SerialNo+"/passProcess/F09").then(function(){swal("成功","报表已审核通过","success"),o.reload()},function(){swal("失败","报表审核通过失败","error")})},t.totalCount=0,t.calctotalSum=function(e){t.totalCount=0;for(var n=0;n<e.length;n++)t.totalCount+=e[n].JianYanShu?parseInt(e[n].JianYanShu):0},t.comparePiBiaoShiCe=function(t,e){return parseFloat(t)>parseFloat(e)},t.CiDianRecord=function(t,n){var a;a=e.open({templateUrl:"app/interaction/checkforms/forms/form9_mistake.html",controller:"form9ModelCtrl",resolve:{model:function(){return{rowData:t,type:n}}}})}}]).controller("form9ModelCtrl",["$scope","SERVER_URL","$http","cmBackSvc","$state","$uibModalInstance","model",function(t,e,n,a,i,o,s){function l(){t.myPromise=n.get(e+"inspect/getAllQuestions/").then(function(e){t.mistakeList=e.data})}t.model=s,null==s.rowData&&(s.rowData=[]),t.initialModel=angular.copy(s.rowData);angular.copy(s.rowData);console.log(s.rowData),t.mistakeList=[{id:"1",label:"疵点1"},{id:"2",label:"疵点2"},{id:"3",label:"疵点3"},{id:"4",label:"疵点4"},{id:"5",label:"疵点5"},{id:"6",label:"疵点6"},{id:"7",label:"疵点7"},{id:"8",label:"疵点8"},{id:"9",label:"疵点9"},{id:"10",label:"疵点10"},{id:"11",label:"疵点11"}],function(){l()}(),t.countPlus=function(e){if("JiDian"==t.model.type){for(var n=!1,a=0;a<s.rowData.length;a++)if(s.rowData[a].mistake.id==e.id){s.rowData[a].count=(parseInt(s.rowData[a].count)+1).toString(),n=!0;break}n||s.rowData.unshift({mistake:angular.copy(e),count:1,score:0})}"JiFen"==t.model.type&&s.rowData.unshift({mistake:angular.copy(e),count:0,score:null})},t.ok=function(){o.close("ok")},t.cancel=function(t){s.rowData=t,s.options.resetModel(),o.close("cancel")}}]).controller("form10Ctrl",["$scope","SERVER_URL","$http","cmBackSvc","$state",function(t,e,n,a,i){function o(){a.setUrl("#/Ins/checkFormList/?ID="+i.params.SerialNo+"&Type="+i.params.Type),t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/getF10Data/"+i.params.Type+"/").then(function(e){t.data=e.data.data,t.info=e.data.info})["finally"]()}t.stateType=i.params.Type,t.sub=function(a){var o=angular.copy(t.data);o.isSubmit=a,delete o.step,delete o.InspectorNo,delete o.Id,a?swal({title:"请确认步骤是否完成?",text:"无论是否完成数据都会被保存",type:"warning",showCancelButton:!0,confirmButtonColor:"#00CC33",cancelButtonColor:"#DD6B55",confirmButtonText:"是",cancelButtonText:"否",closeOnConfirm:!0,closeOnCancel:!1},function(a){a||(o.isSubmit=!1),t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF10Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()}):t.myPromise=n.post(e+"inspect/"+i.params.SerialNo+"/insertF10Data/","JSON="+JSON.stringify(o)).then(function(e){swal("修改成功","您所做的修改已生效","success"),t.myPromise=null,i.reload(1)},function(t){swal("修改失败","您所做的修改未生效","error")})["finally"]()},o(),t.pass=function(){t.myPromise=n.get(e+"inspect/"+i.params.SerialNo+"/passProcess/F10").then(function(){swal("成功","报表已审核通过","success"),i.reload()},function(){swal("失败","报表审核通过失败","error")})}}]),function(){"use strict";angular.module("RMI",["ngAnimate","ngCookies","ngTouch","ngMessages","ui.router","ui.bootstrap","nya.bootstrap.select","textAngular","formly","formlyBootstrap","ngTable","ngResource","ui.checkbox","ui.select","pretty-checkable","validation","datatables","cgBusy","RMI.PlayCtrls","RMI.HomeCtrls","RMI.ProcessCtrls","RMI.ControlCtrls","RMI.TableCtrls","RMI.Validation","RMI.HomeServices","RMI.ProcessServices","RMI.ControlServices","RMI.UniversalServices","RMI.checkFormListCtrls","DEVBYCM.cmTemplateLoad","DEVBYCM.cmInput","DEVBYCM.cmSelect","DEVBYCM.cmCheckbox","DEVBYCM.cmRadio","DEVBYCM.cmToggle","DEVBYCM.cmTextarea","DEVBYCM.cmTable","DEVBYCM.cmBarcode","DEVBYCM.cmNavMenu","DEVBYCM.cmSideMenuBox","DEVBYCM.iaSelect","DEVBYCM.cmContentEditable","DEVBYCM.cmLoadingModule","DEVBYCM.cmNavBarModule","DEVBYCM.cmLoginModule","DEVBYCM.cmNotificationAreaModule"])}(),function(){"use strict";function t(t){t.setWrapper({name:"heading",template:'<div class="cmFormCollection heading">\n    <formly-transclude></formly-transclude>\n</div>'}),t.setWrapper({name:"fill-24",template:'<div style="height: 24px;width: 100%">\n    <formly-transclude></formly-transclude>\n</div>'}),t.setWrapper({name:"label-left",template:'<div class="cmFormCollection label-left">\n  <div class="left-label">{{options.templateOptions.label}}</div>\n  <div class="right-separator"></div>\n  <div class="content">\n    <formly-transclude></formly-transclude>  \n  </div>\n</div>'}),t.setWrapper({name:"label-top",template:'<div class="cmFormCollection label-top">\n  <div class="top-label">{{options.templateOptions.label}}</div>\n  <div class="bottom-separator"></div>\n  <div class="content">\n    <formly-transclude></formly-transclude>\n  </div>\n</div>'}),t.setWrapper({name:"label-colon",template:'<div class="cmFormCollection label-colon">\n  <div class="colon-label">{{options.templateOptions.label}}</div>\n  <div class="content">\n    <formly-transclude></formly-transclude>  \n  </div>\n</div>'}),t.setWrapper({name:"border-top-right-left",template:'<div class="cmFormCollection border-top-right-left">\n    <formly-transclude></formly-transclude>\n</div>'}),t.setWrapper({name:"border-bottom",template:'<div class="cmFormCollection border-bottom">\n    <formly-transclude></formly-transclude>\n</div>'}),t.setWrapper({name:"flex-col",template:'<div class="cmFormCollection flex-col">\n    <formly-transclude></formly-transclude>\n</div>'}),t.setWrapper({name:"flex-row",template:'<div class="cmFormCollection flex-row">\n    <formly-transclude></formly-transclude>\n</div>'}),t.setWrapper({name:"flex-cols",template:'<div class="cmFormCollection flex-cols">\n    <formly-transclude></formly-transclude>\n</div>'}),t.setWrapper({name:"flex-rows",template:'<div class="cmFormCollection flex-rows">\n    <formly-transclude></formly-transclude>\n</div>'})}t.$inject=["formlyConfigProvider"],angular.module("RMI").config(t)}(),function(){"use strict";function t(t){function e(t){return t=t.replace(/[-_s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),t.replace(/^([A-Z])/,function(t,e){return e?e.toLowerCase():""})}t.setType({name:"richEditor",template:'<text-angular class="richTextAngular" ng-model="model[options.key || index]"></text-angular>'}),t.setType({name:"blank",template:"<div></div>"});var n='<div class="row"><div class=""><h4 class="text-center">{{options.templateOptions.placeholder}}<h4><hr/></div></div>';t.setType({name:"subTitle",template:n});var a='<div><label>{{options.templateOptions.label}}</label> <ol   class="nya-bs-select col-sm-12 col-xs-12 col-md-12 col-lg12"    ng-model="model[options.key || index]"     id="{{id}}"     disabled="options.templateOptions.options.length === 0">    <li class="nya-bs-option" nya-bs-option="option in options.templateOptions.options">      <a>{{option.name}}</a>    </li>  </ol> </div>';t.setType({name:"basicSelect",template:a});var i='<input ng-readonly="{{options.templateOptions.readonly}}">';t.setType({name:"readonlyAbleInput",template:i});var o='<div>  <label>{{options.templateOptions.label}}</label>  <ol class="nya-bs-select col-sm-12 col-xs-12 col-md-12 col-lg12"     ng-model="model[options.key || index]"        data-live-search="true"        disabled="options.templateOptions.options.length === 0">       <li nya-bs-option="option in  options.templateOptions.options group by option.group"         >         <span class="dropdown-header">{{$group}}</span>         <a>           <span>{{option.name}}</span>           <span class="glyphicon glyphicon-ok check-mark"></span>         </a>       </li>  </ol></div>';t.setType({name:"groupedSelect",template:o});var s=["date-disabled","custom-class","show-weeks","starting-day","init-date","min-mode","max-mode","format-day","format-month","format-year","format-day-header","format-day-title","format-month-title","year-range","shortcut-propagation","datepicker-popup","show-button-bar","current-text","clear-text","close-text","close-on-date-selection","datepicker-append-to-body"],l=["datepicker-mode","min-date","max-date"],r={};angular.forEach(s,function(t){r[e(t)]={attribute:t}}),angular.forEach(l,function(t){r[e(t)]={bound:t}}),t.setType({name:"datepicker",template:'<input  id="{{id}}" class="form-control" ng-click="open($event)" ng-model="model[options.key  || index]" is-open="to.isOpen" ng-click="to.isOpen = true" datepicker-options="to.datepickerOptions" />',wrapper:["bootstrapLabel","bootstrapHasError"],controller:["$scope",function(t){t.open=function(e){e.preventDefault(),e.stopPropagation(),t.opened=!0}}],defaultOptions:{ngModelAttrs:r,templateOptions:{addonLeft:{"class":"glyphicon glyphicon-calendar",onClick:function(t,e){t.templateOptions.isOpen=!t.templateOptions.isOpen}},onFocus:function(t,e,n){n.to.isOpen=!n.to.isOpen},datepickerOptions:{}}}})}t.$inject=["formlyConfigProvider"],angular.module("RMI").config(t)}(),function(){"use strict";function t(t){t.setType({name:"cm-input",template:'<div class="cmFormCollection cmInput">\n  <label>\n    <div class="input-label">\n      {{options.templateOptions.label}}\n    </div>\n    <input type="{{options.templateOptions.type}}" ng-model="model[options.key]">\n  </label>\n</div>',link:function(t){}}),t.setType({name:"cm-select",template:'<div class="cmFormCollection cmSelect" style="width: {{options.templateOptions.width}}">\n  <label>\n    {{options.templateOptions.label}}\n  </label>\n  <div>\n    <div>\n      <ol class="nya-bs-select" ng-model="model[options.key || index]"\n          style="width: {{options.templateOptions.selectWidth}}"\n          title="请选择"\n          live-search="options.templateOptions.liveSearch===\'true\'"\n          disabled="options.templateOptions.options.length === 0">\n        <li ng-show="options.templateOptions.group"\n            nya-bs-option="option in  options.templateOptions.options group by option.group"\n            data-value="option.value"\n        >\n          <span class="dropdown-header">{{$group}}</span>\n          <a><span>{{option.name}}</span><span class="">1</span></a></li>\n        <li ng-show="!options.templateOptions.group"\n            nya-bs-option="option in  options.templateOptions.options"\n            data-value="option.value"\n        ><span\n          class="dropdown-header">{{$group}}</span>\n          <a><span>{{option.name}}</span><span class="">1</span></a></li>\n      </ol>\n    </div>\n  </div>\n</div>'}),t.setType({name:"cm-table",template:'<cm-formly-table model="model[options.key]" to="to" templateOptions="templateOptions"></cm-formly-table>'})}t.$inject=["formlyConfigProvider"];var e=1;angular.module("RMI").config(t).directive("cmFormlyTable",function(){return{restrict:"E",template:'<div class="cmFormCollection cmTable {{hideRepeat}} cm-animation-fade" style="{{uiIsEmptyTableInitial?\'min-height:163px;max-height:163px;\':\'\'}}">\n  <div class="loading-mask" ng-if="uiIsEmptyTableInitial">\n    <div class="text">Loading...</div>\n  </div>\n  <div>\n    <header class="table-head">\n      <div style="min-width: {{rowModifyClassWidth+\'px\'}};max-width: {{rowModifyClassWidth+\'px\'}};height: 100%;"></div>\n      <div class="head-cell" ng-repeat="cell in tableHeadCells track by $index" style="width: {{cell.width+\'px\'}}">\n        {{cell.name}}\n      </div>\n    </header>\n    <section class="table-body">\n      <div class="table-row" ng-repeat="element in model" ng-init="fields = funcCopyFields(to.fields)">\n        <div class="row-modify">\n          <a ng-click="funcRemoveWithConfirm($index)">删除</a>\n        </div>\n        <formly-form class="row-content" fields="fields" model="element" form="form"></formly-form>\n      </div>\n      <div class="table-row-no-content" ng-show="model.length===0">暂无内容</div>\n    </section>\n    <footer class="table-foot">\n      <div class="addNewRowButton">\n        <button type="button" class="btn btn-block btn-primary" ng-click="funcPushWithBringDown()">添加新的项目</button>\n      </div>\n    </footer>\n  </div>\n</div>',replace:!0,scope:{model:"=",to:"=",templateOptions:"="},link:function(t,e){var n=function(){setTimeout(function(){t.rowModifyClassWidth=$($(e).find(".row-modify")[0]).outerWidth(!0);var n=$(e).find(".formly")[0],a=$(n).find(".formly-field");t.tableHeadCells=a.map(function(){return{width:$(this).outerWidth(!0)}}).get(),angular.forEach(t.tableHeadCells,function(e,n){var a=t.to.fields[n].key;angular.forEach(t.to.relation,function(t){t.key===a&&(e.name=t.name)})}),t.$digest()},0)};$(window).bind("resize",function(){e.ready(function(){n()})}),setInterval(function(){e.ready(function(){n()})},750),t.$watch(function(){return angular.isUndefined(t.model)?0:t.model.length},function(){t.uiIsLoading=!0,setTimeout(function(){var n=$(e).find(".formly");n.map(function(a){$(this).find(".formly-field").map(function(){var i=$(this).next();$(this).find("input").unbind("keypress"),$(this).find("input").bind("keypress",function(o){var s=function(a,i){i-1>=a?$(n[a+1]).find(".formly-field").find("input").first().focus():(t.funcPushWithBringDown(),t.$apply(),l=$(e).find(".formly"),$(l[a+1]).find(".formly-field").find("input").first().focus())},l=null;if(o.ctrlKey===!0&&10===o.keyCode)o.preventDefault(),s(a,n.length-1);else if(13===o.keyCode){o.preventDefault();var r=i.find("input");r.length?r.focus():s(a,n.length-1)}})})}),setTimeout(function(){t.uiIsLoading=!1,t.$digest()},0)},0)}),t.uiIsEmptyTableInitial=!t.model,t.uiIsLoading=!0,t.funcPush(),setTimeout(function(){n(),t.funcPop(),t.uiIsEmptyTableInitial=!1,setInterval(function(){t.uiIsInitial=!1},0)},0)},controller:["$scope",function(t){function n(t){return t=angular.copy(t),a(t),t}function a(t){e++,angular.forEach(t,function(t,n){return t.fieldGroup?void a(t.fieldGroup):(t.templateOptions&&t.templateOptions.fields&&a(t.templateOptions.fields),void(t.id=t.id||t.key+"_"+n+"_"+e+i(0,9999)))})}function i(t,e){return Math.floor(Math.random()*(e-t))+t}t.formOptions={formState:t.formState},t.funcRemoveWithConfirm=function(e){var n=confirm("您确定要删除这一项吗？");n&&t.funcRemove(e)},t.funcRemove=function(e){t.model.splice(e,1)},t.funcPop=function(){t.model.pop()},t.funcPush=function(){t.model=t.model||[],t.model.push({})},t.funcPushWithBringDown=function(){t.model=t.model||[];var e=t.model,n=e[e.length-1],a={};n&&angular.forEach(t.to.bringDown,function(t){n[t.key]&&(a[t.key]=angular.copy(n[t.key]))}),e.push(a)},t.funcCopyFields=n}]}})}(),function(){"use strict";function t(t){t.debug("runBlock end")}t.$inject=["$log"],angular.module("RMI").run(t)}(),function(){"use strict";function t(t,e){t.state("home",{url:"/",views:{"":{templateUrl:"app/interaction/dashboard/index.html",controller:"HomeCtrl"},"main@home":{templateUrl:"app/interaction/dashboard/main.html",controller:"IndexCtrl"}}}).state("home.playground",{url:"Playground",views:{"main@home":{templateUrl:"app/interaction/playground/main.html",controller:"PlaygroundCtrl"}}}).state("home.process",{"abstract":!0,url:"Ins",views:{"main@home":{template:'<div ui-view=""></div>'}}}).state("home.process.detailInfo",{url:"/:ArrivalSerialNumber/Info/",templateUrl:"app/interaction/process/detail/info.html",controller:"ProcessDetailInfoCtrl"}).state("home.process.detailForm",{url:"/:ArrivalSerialNumber/Form/:FormId/?Mode",templateUrl:"app/interaction/process/detail/base.html",controller:"ProcessDetailFormCtrl"}).state("home.process.formListCheck",{url:"/Tasks/Check",templateUrl:"app/interaction/process/list/base.html",controller:"ProcessListCtrl"}).state("home.process.formListDataentry",{url:"/Tasks/Dataentry",templateUrl:"app/interaction/process/list/base.html",controller:"ProcessListCtrl"}).state("home.process.processList",{url:"/:Class/P/:ProcessTypeId-:Rev/?IsComplete",templateUrl:"app/interaction/process/list/base.html",controller:"ProcessListCtrl"}).state("home.process.checkFormList",{url:"/checkFormList/?:ID:/?:Type:/",templateUrl:"app/interaction/checkforms/formListAll.html",controller:"checkFormListCtrlAll"}).state("home.table",{"abstract":!0,url:"table",views:{"main@home":{templateUrl:"app/interaction/table/base.html",controller:"TableBaseCtrl"}}}).state("home.table.table1",{url:"/table1/",templateUrl:"app/interaction/table/tables/table1.html",controller:"tableTable1Ctrl"}).state("home.table.table2",{url:"/table2/",templateUrl:"app/interaction/table/tables/table2.html",controller:"tableTable2Ctrl"}).state("home.control",{"abstract":!0,url:"Control",views:{"main@home":{templateUrl:"app/interaction/control/base.html",controller:"ControlBaseCtrl"}}}).state("home.control.designProcess",{url:"/design/process/",templateUrl:"app/interaction/control/design/process.html",controller:"ControlDesignProcessCtrl"}).state("home.control.designEditProcess",{url:"/design/edit/process/?isEditCache&loadItemType",templateUrl:"app/interaction/control/design/edit/process.html",controller:"ControlDesignEditCtrl"}).state("home.control.designEditForm",{url:"/design/edit/form/?isEditCache&loadItemType",templateUrl:"app/interaction/control/design/edit/form.html",controller:"ControlDesignEditCtrl"}).state("home.control.designEditTable",{url:"/design/edit/table/?isEditCache",templateUrl:"app/interaction/control/design/edit/table.html",controller:"ControlDesignEditCtrl"}).state("home.control.designEditMap",{url:"/design/edit/map/?isEditCache",templateUrl:"app/interaction/control/design/edit/map.html",controller:"ControlDesignEditCtrl"}).state("home.control.designClassification",{url:"/design/classification/",templateUrl:"app/interaction/control/design/classification.html",controller:"ControlDesignClassificationCtrl"}).state("home.control.designSource",{url:"/design/source/",templateUrl:"app/interaction/control/design/source.html",controller:"ControlDesignSourceCtrl"}).state("home.control.feedbackNew",{url:"/feedback/new/",templateUrl:"app/interaction/control/feedback/new.html",controller:"ControlFeedbackCtrl"}).state("home.control.user",{url:"/user/",templateUrl:"app/interaction/control/user/all.html",controller:"ControlUserCtrl"}).state("home.control.supplier",{url:"/supplier/",templateUrl:"app/interaction/control/supplier/all.html",controller:"ControlSupplierCtrl"}).state("home.control.unit",{url:"/unit/",templateUrl:"app/interaction/control/unit/all.html",controller:"ControlUnitCtrl"}).state("home.control.material",{url:"/material/",templateUrl:"app/interaction/control/material/all.html",controller:"ControlMaterialCtrl"}).state("home.control.operationRecord",{url:"/operation/record/?top",templateUrl:"app/interaction/control/operation/record.html",controller:"ControlOperationCtrl"}).state("home.formsF01",{url:"forms01/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form1.html",controller:"form1Ctrl"}}}).state("home.formsF02",{url:"forms02/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form2.html",controller:"form2Ctrl"}}}).state("home.formsF03",{url:"forms03/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form3.html",controller:"form3Ctrl"}}}).state("home.formsF04",{url:"forms04/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form4.html",controller:"form4Ctrl"}}}).state("home.formsF05",{url:"forms05/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form5.html",controller:"form5Ctrl"}}}).state("home.formsF06",{url:"forms06/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form6.html",controller:"form6Ctrl"}}}).state("home.formsF07",{url:"forms07/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form7.html",controller:"form7Ctrl"}}}).state("home.formsF08",{url:"forms08/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form8.html",controller:"form8Ctrl"}}}).state("home.formsF09",{url:"forms09/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form9.html",controller:"form9Ctrl"}}}).state("home.formsF10",{url:"forms10/:ProcessID/:SerialNo/:Type",views:{"main@home":{templateUrl:"app/interaction/checkforms/forms/form10.html",controller:"form10Ctrl"}}}),e.otherwise("/")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("RMI").config(t)}(),function(){"use strict";angular.module("RMI").constant("malarkey",malarkey).constant("moment",moment).constant("SERVER_URL","/api/").constant("VERSION","1512.22.218").constant("ALL_FLOW_ID","B6EB0ACF-7C31-44F5-AE44-931EE2FF90A2").constant("AUTO_TAB_INTERVAL",5e3).constant("CHECK_ERROR_RULE",{A:[[2,8,2,1],[9,15,3,1],[16,25,5,2],[26,50,8,2],[51,90,13,3],[91,150,20,4],[151,280,32,6],[281,500,50,8],[501,1200,80,11],[1201,3200,125,15],[3201,1e4,200,22],[10001,35e3,315,22],[35001,15e4,500,22],[150001,5e5,800,22]],B:[[2,8,2,2],[9,15,3,2],[16,25,5,2],[26,50,8,3],[51,90,13,4],[91,150,20,6],[151,280,32,8],[281,500,50,11],[501,1200,80,15],[1201,3200,125,22],[3201,1e4,200,22],[10001,35e3,315,22],[35001,15e4,500,22],[150001,5e5,800,22]]})}(),function(){"use strict";angular.module("RMI").config(["nyaBsConfigProvider",function(t){t.setLocalizedText("zh-cn",{defaultNoneSelection:"",noSearchResult:"没有结果",numberItemSelected:"选中%d项"}),t.useLocale("zh-cn")}])}(),angular.module("RMI.Validation",[]).factory("iaValidationFac",["$rootScope",function(t){var e=[{label:"mm",weight:1},{label:"cm",weight:10},{label:"m",weight:1e3},{label:"g",weight:1},{label:"kg",weight:1e3}],n=function(t,e,n,i,o){var s=0,l=0;return"%"==i?(s=t*(1-.01*e),l=t*(1+.01*e),s=a(s,n,o),l=a(l,n,o),[s,l]):(t=a(t,n,o),e=a(e,i,o),[t-e,t+e])},a=function(t,n,a){var i=1,o=1,s=1;console.log("value:"+t);for(var l=0;l<e.length;l++)e[l].label==n&&(console.log("valueScale:"+e[l].label),o=e[l].weight),e[l].label==a&&(console.log("targetScale:"+e[l].label),s=e[l].weight);return i=o/s,console.log("ratio"+i.toString()),t*i},i=function(t,e,i,o,s,l){var r=n(parseFloat(t),parseFloat(i),e,o,e);console.log(r);var d=a(s,l,e);return d>=r[0]&&d<=r[1]};return{valid:i,calcRange:n,convertRange:a,quickValid:function(t,e,n){if(!t||!e||!n)return!0;var a="mm|cm|m|g|kg|%",o=parseFloat(t),s=parseFloat(e),l=parseFloat(n),r=t.toString().match(a)?t.match(a)[0]:"",d=e.toString().match(a)?e.match(a)[0]:r,c=n.toString().match(a)?n.match(a)[0]:r;return console.log("------------devSca:"+d),i(o,r,s,d,l,c)}}}]),angular.module("DEVBYCM.cmTemplateLoad",[]).directive("cmTemplateLoad",["UtilSvc","$templateCache",function(t,e){return{restrict:"E",template:'<div ng-include="templateUrl"></div>',scope:{model:"=",template:"@"},replace:!0,link:function(n){n.templateUrl="cmTemplateLoad"+t.random(16,8,!0,!1)+".html",e.put(n.templateUrl,n.template),n.$on("$destroy",function(){e.remove(n.templateUrl)})}}}]),angular.module("DEVBYCM.cmContentEditable",[]).directive("cmcontenteditable",["$timeout",function(t){return{restrict:"A",require:"?ngModel",terminal:!0,link:function(e,n,a,i){if(i){var o={};angular.forEach(["stripBr","noLineBreaks","selectNonEditable","moveCaretToEndOnChange"],function(t){var e=a[t];o[t]=e&&"false"!==e}),n.bind("input",function(a){e.$apply(function(){
var e,a,s;e=n.html(),s=!1,o.stripBr&&(e=e.replace(/<br>$/,"")),o.noLineBreaks&&(a=e.replace(/<div>/g,"").replace(/<br>/g,"").replace(/<\/div>/g,""),a!==e&&(s=!0,e=a)),i.$setViewValue(e),s&&i.$render(),""===e&&t(function(){n[0].blur(),n[0].focus()})})});var s=i.$render;i.$render=function(){var t,e,a,l;s&&s(),n.html(i.$viewValue||""),o.moveCaretToEndOnChange&&(t=n[0],a=document.createRange(),l=window.getSelection(),t.childNodes.length>0?(e=t.childNodes[t.childNodes.length-1],a.setStartAfter(e)):a.setStartAfter(t),a.collapse(!0),l.removeAllRanges(),l.addRange(a))},o.selectNonEditable&&n.bind("click",function(t){var e,n,a;a=t.toElement,a!==this&&"false"===angular.element(a).attr("contenteditable")&&(e=document.createRange(),n=window.getSelection(),e.setStartBefore(a),e.setEndAfter(a),n.removeAllRanges(),n.addRange(e))})}}}}]),angular.module("DEVBYCM.cmBarcode",[]).directive("cmBarcode",function(){return{restrict:"E",template:'<img src="">',scope:{value:"="},replace:!0,link:function(t,e){var n={width:2,height:80,quite:0,format:"CODE128",displayValue:!0,font:"Consolas",textAlign:"center",fontSize:17,backgroundColor:"",lineColor:"#000"};t.$watch(function(){return t.value},function(t){t&&JsBarcode(e[0],t,n)},!0)}}}),angular.module("DEVBYCM.cmToggle",[]).directive("cmToggle",["UtilSvc",function(t){return{restrict:"E",template:'<div class="cmFormCollection cmToggle">\n  <label>\n    {{label}}<input type="checkbox" ng-model="model">\n  </label>\n</div>',scope:{model:"=",label:"@"},replace:!0,link:function(t,e){}}}]),angular.module("DEVBYCM.cmTextarea",[]).directive("cmTextarea",function(){return{restrict:"E",template:'<div class="cmFormCollection cmTextarea">\n  <label>\n    <textarea ng-model="model"></textarea>\n  </label>\n</div>',scope:{model:"=",required:"="},replace:!0,link:function(t,e){}}}),angular.module("DEVBYCM.cmTable",[]).directive("cmTable",function(){return{restrict:"E",template:"<table>\n  <thead></thead>\n  <tbody></tbody>\n  <tfoot></tfoot>\n</table>",scope:{},replace:!0,link:function(t,e){}}}),angular.module("DEVBYCM.cmSelect",[]).directive("cmSelect",function(){return{restrict:"E",template:'<div class="cmFormCollection cmSelect" style="width: {{width}}">\n  <label>\n    {{label}}\n  </label>\n  <div>\n    <div>\n      <ol class="nya-bs-select" ng-model="model"\n          style="width: {{selectWidth}}"\n          title="请选择"\n          live-search="liveSearch===\'true\'"\n          disabled="options.length === 0">\n        <li ng-show="group"\n            nya-bs-option="option in  options group by option.group"\n            data-value="option.value"\n        >\n          <span class="dropdown-header">{{$group}}</span>\n          <a><span>{{option.name}}</span><span class="">1</span></a></li>\n        <li ng-show="!group"\n            nya-bs-option="option in  options"\n            data-value="option.value"\n        ><span\n          class="dropdown-header">{{$group}}</span>\n          <a><span>{{option.name}}</span><span class="">1</span></a></li>\n      </ol>\n    </div>\n  </div>\n</div>',scope:{model:"=",options:"=",width:"@",label:"@",liveSearch:"@"},replace:!0,link:function(t,e){}}}),angular.module("DEVBYCM.cmRadio",[]).directive("cmRadio",["UtilSvc",function(t){return{restrict:"E",template:'<div class="cmFormCollection cmRadio">\n  <label ng-repeat="option in options">\n    <input type="radio" name="{{name}}" ng-init="value[$index]=model" ng-model="value[$index]" ng-click="funcUpdateModel(value[$index])" ng-value="option">{{option}}\n  </label>\n</div>',scope:{model:"=",options:"="},replace:!0,link:function(e,n){e.name=t.random(16,8,!0,!1),e.funcUpdateModel=function(t){e.model=t}}}}]),angular.module("DEVBYCM.cmInput",[]).directive("cmInput",function(){return{restrict:"E",template:'<div class="cmFormCollection cmInput">\n  <label>\n    <input type="{{type}}" ng-model="model" required="{{required}}">\n  </label>\n</div>',scope:{model:"=",type:"@",required:"="},replace:!0,link:function(t,e){}}}),angular.module("DEVBYCM.cmCheckbox",[]).directive("cmCheckbox",["UtilSvc",function(t){return{restrict:"E",template:'<div class="cmFormCollection cmCheckbox">\n  <label ng-repeat="option in options">\n    <input type="checkbox" ng-model="value[$index]" ng-click="funcUpdateModel(value[$index],index,option)" ng-value="option">{{option}}\n  </label>\n</div>',scope:{model:"=",options:"="},replace:!0,link:function(e){angular.isArray(e.model)||(e.model=[]),e.name=t.random(16,8,!0,!1);var n=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;console.log("Cant find item in the array.")};e.funcUpdateModel=function(t,a,i){t?e.model.push(i):angular.isNumber(n(e.model,i))&&e.model.splice(n(e.model,i),1)}}}}]),angular.module("RMI.UniversalServices",[]).factory("UtilSvc",function(){return{random:function(t,e,n,a){if(1>t||t>36||0>e||e>16)return console.log("UtilSvc.random Error: radix="+t+" digit="+e+" isUppercase="+n+" isFillZero="+a),-1;var i=Math.round(Math.random()*Math.pow(t,e)).toString(t).toLowerCase();return n&&(i=i.toUpperCase()),a&&i.length!==e-1&&(i+=new Array(e-i.length).join("0")),i}}}).factory("KVStoreSvc",["$rootScope","$q","$http","SERVER_URL",function(t,e,n,a){var i=a+"kvstore/";return{create:function(t,a){var o=e.defer();return n.post(i+t+"/",angular.toJson(a)).success(function(t){o.resolve(angular.fromJson(t))}).error(function(t){o.reject(t)}),o.promise},read:function(t){var a=e.defer();return n.get(i+t+"/").success(function(t){a.resolve(angular.fromJson(t))}).error(function(t){a.reject(t)}),a.promise},update:function(t,a){var o=e.defer();return n.put(i+t+"/",angular.toJson(a)).success(function(t){o.resolve(angular.fromJson(t))}).error(function(t){o.reject(t)}),o.promise},"delete":function(t){var a=e.defer();return n["delete"](i+t+"/").success(function(t){a.resolve(angular.fromJson(t))}).error(function(t){a.reject(t)}),a.promise}}}]).factory("SQLQuerySvc",["$q","$http","SERVER_URL",function(t,e,n){return{query:function(a){var i=t.defer();return e.get(n+"sqlquery",{params:{sql:a}}).success(function(t){i.resolve(t)}).error(function(t){i.reject(t)}),i.promise}}}]),angular.module("RMI.ProcessServices",[]).factory("FormSvc",["$http","$rootScope","$state","$timeout","$q","SERVER_URL",function(t,e,n,a,i,o){return{stateParamsToFormTypeId:function(t){return{daohuo:{shouhuobaogao:"A01"},zhuliao:{waiguan:"B01",lihua:"B02",shimoya:"B03",yanseshougan:"B04",zhuliaoruku:"B05"},fuliao:{shangbiao:"C01",bugantie:"C02",zhika:"C03",huabian:"C04",goupan:"C05",tiaojiekou:"C06",jiandai:"C07",songjindai:"C08"}}[t["class"]][t.type]},fetchForms:function(e,n,a){var s=i.defer();return t.get(o+"forms/",{params:{ProcessTypeId:e,Rev:n,ProcessNodeTypeId:a}}).success(function(t){angular.forEach(t,function(t){t.Parameter&&angular.isString(t.Parameter)&&(t.Parameter=angular.fromJson(t.Parameter))}),s.resolve(t)}).error(function(t){s.reject(t)}),s.promise},fetchForm:function(e){var n=i.defer();return t.get(o+"forms/"+e+"/").success(function(t){t.Parameter&&angular.isString(t.Parameter)&&(t.Parameter=angular.fromJson(t.Parameter)),n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},fetchFormData:function(e){var n=i.defer();return t.get(o+"forms/"+e+"/data/").success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},fetchFormConfig:function(e){var n=i.defer();return t.get(o+"forms/"+e+"/config/").success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},saveFormDataToServer:function(e,n,a){var s=i.defer();return t.put(o+"forms/"+e+"/data/",n,{params:{autoSave:a}}).success(function(){s.resolve()}).error(function(t){s.reject(t)}),s.promise},requestCreate:function(e,n,a,s){var l=i.defer();return t.post(o+"forms/",{ArrivalSerialNumber:e,create:"true",ProcessTypeId:n,Rev:0,ProcessNodeTypeId:s,Status:"2"}).success(function(t){l.resolve(t)}).error(function(t){l.reject(t)}),l.promise},requestCancelEdit:function(e){var n=i.defer();return t.post(o+"forms/"+e+"/",{Status:"1"}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},requestEdit:function(e){var n=i.defer();return t.post(o+"forms/"+e+"/",{Status:"2"}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},requestConfirm:function(e){var n=i.defer();return t.post(o+"forms/"+e+"/",{Status:"3"}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},requestSubmit:function(e){var n=i.defer();return t.post(o+"forms/"+e+"/",{Status:"4"}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},requestAddToArrival:function(e){var n=i.defer();return t.post(o+"forms/"+e+"/",{addToArrival:"true"}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},requestAddToArrivalAndAddToProcess:function(e){var n=i.defer();return t.post(o+"forms/"+e+"/",{reAddToArrivalAndAddToProcess:"true"}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},requestSubmitAndAddToArrival:function(e){var n=this,a=i.defer();return t.post(o+"forms/"+e+"/",{Status:"4"}).success(function(t){n.requestAddToArrival(e).then(function(){a.resolve(t)},function(t){a.reject(t)})}).error(function(t){a.reject(t)}),a.promise},requestSubmitAndAddToArrivalAndAddToProcess:function(e){var n=this,a=i.defer();return t.post(o+"forms/"+e+"/",{Status:"4"}).success(function(){n.requestAddToArrivalAndAddToProcess(e).then(function(t){a.resolve(t)},function(t){a.reject(t)})}).error(function(t){a.reject(t)}),a.promise},updateFormTags:function(e,n){var a=i.defer();return t.put(o+"forms/"+e+"/tags/",n).success(function(t){a.resolve(angular.fromJson(t))}).error(function(t){a.reject(t)}),a.promise}}}]).factory("ProcessSvc",["SERVER_URL","$q","$http",function(t,e,n){var a=function(t){return angular.forEach(t,function(t){angular.forEach(t.Nodes,function(t){angular.isArray(t.Form.Tags)||(t.Form.Tags=angular.fromJson(t.Form.Tags))})}),t};return{_DEPRECATED_fetchArrivals:function(a){var i=e.defer();return n.get(t+"arrivals/",{params:{Class:a}}).success(function(t){i.resolve(t)}).error(function(t){i.reject(t)}),i.promise},_DEPRECATED_fetchProcessesByClass:function(i){var o=e.defer();return n.get(t+"processes/",{params:{Class:i}}).success(function(t){o.resolve(a(t))}).error(function(t){o.reject(t)}),o.promise},_DEPRECATED_requestAddToProcess:function(a){var i=e.defer();return n.post(t+"arrivals/"+a+"/",{addToProcess:"true"}).success(function(){i.resolve()}).error(function(t){i.reject(t)}),i.promise},_DEPRECATED_requestAddAllToProcess:function(){var a=e.defer();return n.post(t+"arrivals/",{addToProcess:"true"}).success(function(){a.resolve()}).error(function(t){a.reject(t)}),a.promise},fetchProcessTypesByClass:function(a){var i=e.defer();return n.get(t+"processtypes/",{params:{Class:a},cache:!0}).success(function(t){i.resolve(t)}).error(function(t){i.reject(t)}),i.promise},fetchProcess:function(i){var o=e.defer();return n.get(t+"processes/"+i+"/").success(function(t){o.resolve(a([t])[0])}).error(function(t){o.reject(t)}),o.promise},fetchProcessesByProcessTypeIdAndRev:function(i,o,s){var l=e.defer();return n.get(t+"processes/",{params:{ProcessTypeId:i,Rev:o,IsComplete:s.IsComplete}}).success(function(t){l.resolve(a(t))}).error(function(t){l.reject(t)}),l.promise},fetchProcessReference:function(a){var i=e.defer();return n.get(t+"processes/"+a+"/references/").success(function(t){angular.isArray(t)||(t=angular.fromJson(t)),i.resolve(t)}).error(function(t){i.reject(t)}),i.promise},updateProcessCheckStatus:function(a,i){var o=e.defer();return n.put(t+"processes/"+a+"/checkstatus",i).success(function(){o.resolve()}).error(function(t){o.reject(t)}),o.promise},updateProcessIsComplete:function(a,i){i===!0&&(i="true"),i===!1&&(i="false"),("true"!==i||"false"!==i||"waiting"!==i)&&console.warn("IsComplete Value error: "+i),i=angular.toJson(i);var o=e.defer();return n.put(t+"processes/"+a+"/iscomplete",i).success(function(){o.resolve()}).error(function(t){o.reject(t)}),o.promise},fetchProcessNodeTypes:function(a,i){var o=e.defer();return n.get(t+"processtypes/"+a+"/processnodetypes/",{params:{Rev:i}}).success(function(t){o.resolve(t)}).error(function(t){o.reject(t)}),o.promise},updateProcessNodeAvailableFlag:function(a,i,o){var s=e.defer();return n.put(t+"processes/"+a+"/processnodes/"+i+"/availableflag",o).success(function(){s.resolve()}).error(function(t){s.reject(t)}),s.promise},updateProcessNodeCheckStatus:function(a,i,o){var s=e.defer();return n.put(t+"processes/"+a+"/processnodes/"+i+"/checkstatus",o).success(function(){s.resolve()}).error(function(t){s.reject(t)}),s.promise},updateProcessNodeConclusion:function(a,i,o){var s=e.defer();return n.put(t+"processes/"+a+"/processnodes/"+i+"/conclusion",o).success(function(){s.resolve()}).error(function(t){s.reject(t)}),s.promise}}}]).filter("FormStatusFilter",function(){return function(t){switch(t){case"0":return"未创建";case"1":return"待编辑";case"2":return"正在编辑";case"3":return"确认可提交";case"4":return"已提交";case void 0:return"未创建";default:return"读取出错"}}}).filter("TrueFalseShiFouFilter",function(){return function(t){return"true"===t?"是":"false"===t?"否":t===!0?"是":"否"}}).filter("ProcessNodeStatusFilter",function(){return function(t,e,n,a){if(n=+n,a=+a,a||(a=0),n||(n=0),e){if(angular.isUndefined(n))return"可用";switch(n=parseInt(n)){case 0:return"可用";case 1:return"可用";case 2:return"编辑中";case 3:return"编辑中";case 4:switch(a){case 0:return"待审核";case 1:return"已完成";case 2:return"审核不通过"}return"待审核"}return e+n+a}return"不可用"}}).filter("ProcessIsCompleteFilter",function(){return function(t){switch(t=angular.lowercase(t)){case"true":return"是";case"false":return"否";case"waiting":return"等待最终审核";default:console.warn("IsComplete value error: "+t)}}}).filter("ProcessNodeAvailableFlagFilter",function(){return function(t){switch(t){case"default":return"自动开启";case"true":return"手动开启";case"false":return"手动禁用"}return t}}),angular.module("RMI.ControlServices",[]).factory("ControlDesignSvc",["$http","$rootScope","$timeout","$q","SERVER_URL","KVStoreSvc",function(t,e,n,a,i,o){var s="Form.Source",l={general:{process:{Id:"X01",Name:"",Rev:0,Class:"辅料",CompleteCondition:"PN01.Status=4",Reference:'[{"Id":"arrival","Name":"shbg","Order":1,"Visible":true,"Components":[{"Order":1,"Visible":true,"Type":"table","Query":"select * from 123132","Data":[{"a":11,"b":22}],"Relation":{"a":"yi","b":"er"}},{"Order":2,"Visible":true,"Type":"map","Data":{"a":11,"b":22},"Relation":{"a":"yi","b":"er"}},{"Order":3,"Visible":true,"Type":"html","Data":"<div>1</div>"}]}]'},form:{OptionalTags:["Error.A","Error.B","Error.C"]},map:{Type:"map",Style:"flex",Show:"true",QuickInitial:"(function(ref,util){var data={}; return data;})"},table:{Type:"table",Show:"true",QuickInitial:"(function(ref,util){var data=[]; return data;})"}},item:{process:{Id:"",Order:null,Name:"",ProcessTypeId:"",Rev:"",Description:"",AvailableCondition:"1",FormConfig:[]},form:{Order:null,Type:"map",Style:"flex",Show:"true",Config:"",DatabaseTableName:""},map:{Order:null,Name:"",LeftDescription:"",RightDescription:"",AttributeName:"",Row:"",Group:"",Width:"",Type:"text",Sources:[],Options:[],min:null,max:null,ngMinlength:null,ngMaxlength:null,ngPattern:null,ngTrim:!0,required:!0,disabled:!1,ngRequired:!0,ngDisabled:!1,ngChange:""},table:{Order:null,Name:"",AttributeName:"",Row:"",Group:"",Width:"",Type:"text",Sources:[],Options:[],min:null,max:null,ngMinlength:null,ngMaxlength:null,ngPattern:null,ngTrim:!0,required:!0,disabled:!1,ngRequired:!0,ngDisabled:!1,ngChange:""}}},r={table:{order:null,active:!1,content:{general:l.general.table,item:l.item.table,items:[]}},map:{order:"",active:!1,content:{general:l.general.map,item:l.item.map,items:[]}},form:{order:null,active:!1,content:{general:l.general.form,item:l.item.form,items:[]}},process:{order:null,active:!1,content:{general:l.general.process,item:l.item.process,items:[]}}};return{getPresetConfig:function(){return l},getCacheConfig:function(t){return r[t]},getCacheItemConfigByChildConfig:function(t){return{map:function(t){var e=t.content.general;return e.Config=t.content.items,e},table:function(t){var e=t.content.general;return e.Config=t.content.items,e},form:function(t){var e={FormConfig:{}};return e.FormConfig=t.content.general,e.FormConfig.Components=t.content.items,e}}[t](r[t])},saveItemCacheConfig:function(t,e){e?r[t].content.item=e:0},saveCacheConfig:function(t,e,n,a){r[t].content.items=e,n?r[t].content.general=n:0,a?r[t].order=a:0},saveCacheConfigByFatherConfig:function(t,e,n){var a={map:function(t){return{general:function(){var e=angular.copy(t);return delete e.Config,e}(),items:function(){return t.Config}()}},table:function(t){return{general:function(){var e=angular.copy(t);return delete e.Config,e}(),items:t.Config}},form:function(t){return{general:function(){var e=angular.copy(t.FormConfig);return delete e.Components,e}(),items:t.FormConfig.Components}},process:function(t){return{items:t}}},i=a[e](t);this.saveCacheConfig(e,i.items,i.general,n)},fetchProcessTypes:function(){var e=a.defer();return t.get(i+"processtypes/").success(function(t){e.resolve(t)}).error(function(t){e.reject(t)}),e.promise},fetchProcessType:function(e){var n=a.defer();return t.get(i+"processtypes/"+e+"/",{params:{Rev:0}}).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},fetchProcessNodeTypes:function(e,n){var o=a.defer();return t.get(i+"processtypes/"+e+"/processnodetypes/",{params:{Rev:n}}).success(function(t){o.resolve(t)}).error(function(t){o.reject(t)}),o.promise},createProcessType:function(e){var n=a.defer();return t.post(i+"processtypes/"+e.Id+"/",e).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},updateProcessType:function(e,n){var o=a.defer();return t.put(i+"processtypes/"+e+"/",n).success(function(t){o.resolve(t)}).error(function(t){o.reject(t)}),o.promise},createProcessNodeType:function(e){var n=a.defer();return t.post(i+"processtypes/"+e.ProcessTypeId+"/processnodetypes/"+e.Id+"/",e).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},createProcessNodeTypes:function(e){var n=a.defer();return t.post(i+"processtypes/"+e[0].ProcessTypeId+"/processnodetypes/",e).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},updateProcessNodeTypes:function(t,e){return this.createProcessNodeTypes(e)},fetchSubclasses:function(){var e=a.defer();return t.get(i+"processtypes/subclasses/").success(function(t){e.resolve(t)}).error(function(t){e.reject(t)}),e.promise},createSubclass:function(e){var n=a.defer();return t.post(i+"processtypes/subclasses/",e).success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},deleteSubclass:function(e){var n=a.defer();return t["delete"](i+"processtypes/subclasses/"+e+"/").success(function(t){n.resolve(t)}).error(function(t){n.reject(t)}),n.promise},createSourceToKVStore:function(t){var e=a.defer();return o.read(s).then(function(n){angular.forEach(n,function(t){t.Name===n.Name&&e.reject("Sources Name Existed.")}),o.update(s,n.concat([t])).then(function(t){e.resolve(t)},function(t){e.reject(t)})},function(t){e.reject(t)}),e.promise},deleteSourceFromKVStore:function(t){var e=a.defer();return o.read(s).then(function(n){angular.forEach(n,function(e,a){e.Name===t&&n.splice(a,1)}),o.update(s,n).then(function(t){e.resolve(t)},function(t){e.reject(t)})},function(t){e.reject(t)}),e.promise},readSourcesFromKVStore:function(){var t=a.defer();return o.read(s).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}}}]).factory("ControlFeedbackSvc",["$http","$q","SERVER_URL",function(t,e,n){return{createFeedback:function(a){var i=e.defer();return t.post(n+"feedback/",a).success(function(t){i.resolve(t)}).error(function(t){i.reject(t)}),i.promise}}}]).factory("ControlOperationSvc",["$http","$q","SERVER_URL",function(t,e,n){return{fetchOperations:function(a,i){i||(i=1e3),a="User";var o=e.defer();return t.get(n+"users/"+a+"/operations/",{params:{top:i}}).success(function(t){o.resolve(t)}).error(function(t){o.reject(t)}),o.promise}}}]).factory("ControlUserSvc",["$http","$q","SERVER_URL",function(t,e,n){return{fetchUsers:function(){var a=e.defer();return t.get(n+"users/").success(function(t){a.resolve(t)}).error(function(t){a.reject(t)}),a.promise}}}]).filter("FormProcessChineseFilter",function(){return function(t){return"form"===t||"Form"===t?"表单":"process"===t||"Process"===t?"表单":void 0}}),angular.module("RMI.HomeServices",[]).factory("LoginSvc",["$q","$http","$state","SERVER_URL","cmLoginSvc","AccountSvc","$interval","$timeout",function(t,e,n,a,i,o,s,l){var r="false";r="true"==document.cookie.split("=")[1];var d=document.location.hash;console.log(document.cookie);var c=function(){r===!1&&(document.location.hash="#",i.show())};return l(function(){c()}),s(function(){c()},3e5),{isLoggedIn:function(){return r},login:function(n,i){var s=t.defer();return e.post(a+"users/"+n+"/login/",{Id:n,Password:i}).success(function(t){r=!0,o.setCurrentUser(t),localStorage.setItem("LoginSvc.isLoggedIn",!0),document.cookie="isLoggedin=true",s.resolve(t),console.log(d),"#/"!=d?document.location.hash=d:document.location.hash="#/Ins/Tasks/Dataentry"}).error(function(t){s.reject(t)}),s.promise},logout:function(){var n=o.currentUser().ID,i=t.defer();return e.post(a+"users/"+n+"/logout/").success(function(){r=!1,localStorage.setItem("LoginSvc.isLoggedIn",!1),i.resolve(),l(function(){c()},1e3)}).error(function(){i.reject()}),i.promise},getSavedUsers:function(){var t=angular.fromJson(localStorage.getItem("Account.SavedUsers"));return angular.isArray(t)||(t=[]),t},setSavedUsers:function(t){angular.isArray(t)&&localStorage.setItem("Account.SavedUsers",angular.toJson(t))}}}]).factory("AccountSvc",["$state","$rootScope",function(t,e){var n={Username:"未登录",Id:"?",Department:"?",Job:"?"},a=angular.copy(n);a=JSON.parse(localStorage.getItem("Account.currentUser")),console.log(a);var i=function(){return[]},o=function(t){var e={"home.control.designProcess":"Permission.UI.Control.EditProcess","home.control.designEditProcess":"Permission.UI.Control.EditProcess","home.control.designEditForm":"Permission.UI.Control.EditProcess","home.control.designEditTable":"Permission.UI.Control.EditProcess","home.control.designEditMap":"Permission.UI.Control.EditProcess","home.control.designSource":"Permission.UI.Control.EditProcess"},n=i(),a=function(t,e){if(angular.isArray(t)){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}return console.error("Param set not an array."),!1},o=!0;return angular.forEach(e,function(e,i){t.name===i&&(o=a(n,e))}),o};e.$on("$stateChangeStart",function(t,e,n){o(e,n)||(alert("您没有权限查看此页面！\n如有疑问，请于系统管理->问题反馈中提交您的反馈"),t.preventDefault())});var s=function(){return{"UserSetting.UI.Process.List.DefaultProcessType":{"收货":{Enable:!1,ProcessTypeId:"AR01",Rev:0},"主料":{Enable:!1,ProcessTypeId:"R01",Rev:0},"辅料":{Enable:!1,ProcessTypeId:"R02",Rev:0}}}}();return{currentUser:function(){return a},getCurrentUser:function(){return a},setCurrentUser:function(t){a=t,localStorage.setItem("Account.currentUser",angular.toJson(t))},getUserSetting:function(t){return s[t]?s[t]:void 0},setUserSetting:function(t,e){s[t]=e}}}]),angular.module("RMI").run(["$templateCache",function(t){t.put("app/interaction/checkforms/formListAll.html",'<cm-side-menu-box><cm-side-menu style="width: 60px"><style>\n      .form-list-hero {\n        text-align: center;\n      }\n\n      .center {\n        text-align: center;\n      }\n      .formItem {\n\n      }\n      .formcontent {\n        border: 1px solid rgb(221, 221, 221);\n        margin: 5px 5px 5px 5px;\n      }\n\n      .formcontent:hover {\n        border: 3px solid rgb(225, 225, 225);\n        margin: 3px 3px 3px 3px;\n      }\n\n      .big-icon:hover {\n        transform: scale(1.2);\n        -webkit-transform: scale(1.2);\n        -moz-transform: scale(1.2);\n        -o-transform: scale(1.2);\n        -ms-transform: scale(1.2);\n\n      }\n\n      .big-icon {\n        transition: All 0.4s ease-in-out;\n        -webkit-transition: All 0.4s ease-in-out;\n        -moz-transition: All 0.4s ease-in-out;\n        -o-transition: All 0.4s ease-in-out;\n\n      }\n\n      .progress {\n        margin: 20px\n      }\n    </style></cm-side-menu><cm-side-menu-content style="left:60px" cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>表格列表</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span class="ion-home"></span> 回到主页</a></section></cm-side-menu-content-header><section>{{$state.params}}<div class="col-md-2 center formItem" ng-repeat="form in formList" style="padding:5px 5px 5px 5px"><div class="formcontent"><button class="btn btn-link pull-left" ng-click="del(form)" ng-show="false">删除</button><hr style="visibility: hidden"><div class="form-list-hero"><button title="填写表单" class="btn btn-link big-icon" ng-click="entry(form)"><span style="" ng-style="{\'font-size\': \'150px\',\'color\':\'#000066\'}" class="ion-clipboard"></span></button></div><h4>{{form.name}}</h4><p style="color:#999999;font-size: 12px">最近由{{form.modifyPeople}}于{{form.modifyTime}}修改</p><hr><div class="hint_area"><div class="progress"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="3" ng-style="{width:form.states+\'%\'}"><span style="font-color:black" ng-show="form.states >= 20">{{form.currentState}}</span></div><span style="font-color:black" ng-show="form.states <20">{{form.currentState}}</span></div></div></div></div></section></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/control/base.html",'<cm-side-menu-box><cm-side-menu><section class="category"><h4>流程表单设计</h4><ul><li ui-sref-active="active" ui-sref="home.control.designClassification">检验任务分配规则</li></ul><h4>使用管理</h4><ul><li ui-sref-active="active" ui-sref="home.control.user">用户管理</li><li ui-sref-active="active" ui-sref="home.control.supplier">供应商管理</li><li ui-sref-active="active" ui-sref="home.control.material">材料名称管理</li><li ui-sref-active="active" ui-sref="home.control.unit">单位管理</li></ul><h4>问题反馈</h4><ul><li ui-sref-active="active" ui-sref="home.control.feedbackNew">提交新问题</li></ul></section></cm-side-menu><div ui-view=""></div></cm-side-menu-box>'),t.put("app/interaction/dashboard/index.html",'<style>\r\n  .home-container{\r\n    position: fixed;\r\n    /*border-top: 1px dashed #DEDEDE;*/\r\n    border-top: 2px solid #dddddd;\r\n/*    top: 28px;right: 28px;\r\n    bottom: 28px;left: 28px;\r\n    border: 1px solid rgba(0, 90, 161, 0.4);\r\n    box-shadow: 0 0 15px rgba(102, 175, 233, 0.4);*/\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n  }\r\n  .content-container{\r\n    position: absolute;\r\n    /*top: 45px;*/\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n  }\r\n  .navbar{\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n  }\r\n  .main{\r\n    /*padding-top: 52px;*/\r\n  }\r\n</style><div class="home-container"><cm-login></cm-login><cm-loading></cm-loading><cm-nav-menu></cm-nav-menu><div class="content-container"><div class="main" ui-view="main"></div></div></div>'),t.put("app/interaction/dashboard/main.html",'<cm-side-menu-box><cm-side-menu><section class="category"><h4>登录信息</h4><ul><li>姓名：{{currentUser.Name}}</li><li>工号：{{currentUser.ID}}</li></ul></section><section class="category" ng-if="false"><h4>消息通知</h4><ul><li>新数据提示 12</li></ul></section></cm-side-menu><cm-side-menu-content class="tmp-home-main"><cm-side-menu-content-header><section class="title"><h2 title="{{version}}">美山子原材料检验系统</h2></section><section class="toolbar"><div class="button" ui-sref="home.control.feedbackNew">意见反馈</div><cm-person></cm-person></section></cm-side-menu-content-header><article><header><div class="jumbotron"><h3><span class="ion-arrow-right-b" style="padding-right: 16px"></span>欢迎回来，{{currentUser.Name}} !</h3><p>现在是{{currentTime | date:\' yyyy年MM月dd日 HH:mm:ss \'}}，下面是与您相关的一些信息。</p><form class="form-inline" style="margin: 4px auto 14px auto" ng-submit="funcQuickGoProcess(quickGoProcessASN)"><div class="form-group"><label class="sr-only"></label><div class="input-group"><div class="input-group-addon">流程编号</div><input type="text" class="form-control" ng-model="quickGoProcessASN" autofocus=""></div></div><button type="submit" class="btn btn-primary">快速跳转</button></form></div></header><section ng-init="role=\'luruyuan\'" class="card-list"><div ng-show="role===\'luruyuan\'" class="row"><div class="col-sm-4"><div class="card card-block" ng-click="funcAddArrivalForm()"><h3 class="card-title">查看任务列表</h3><p class="card-text">点此查看进行中的任务列表</p></div></div><div class="col-sm-4" ui-sref="home.control.operationRecord({\'top\':500})"><div class="card card-block"><h3 class="card-title">查看操作记录</h3><p class="card-text">开发中</p></div></div><div class="col-sm-4" ng-click="JumpToUpdate()"><div class="card card-block"><h3 class="card-title">更新记录</h3><p class="card-text">最后更新时间：2016.4.28</p></div></div></div><div ng-show="role===\'zhuliaojianyanyuan\'" class="row"><div class="col-sm-4"><div class="card card-block" ui-sref="home.process.processList({ \'Class\': \'主料\', \'ProcessTypeId\':undefined, \'ProcessNodeTypeId\':undefined, \'Rev\':undefined })"><h3 class="card-title">查看主料检验队列</h3><p class="card-text">查看待检验材料并进行检验录入</p></div></div><div class="col-sm-4" ui-sref="home.control.operationRecord({\'top\':500})"><div class="card card-block"><h3 class="card-title">查看操作记录</h3><p class="card-text">查阅您的最近的修改记录</p></div></div></div><div ng-show="role===\'fuliaojianyanyuan\'" class="row"><div class="col-sm-4"><div class="card card-block" ui-sref="home.process.processList({ \'Class\': \'辅料\', \'ProcessTypeId\':undefined, \'ProcessNodeTypeId\':undefined, \'Rev\':undefined })"><h3 class="card-title">查看辅料检验队列</h3><p class="card-text">查看待检验材料并进行检验录入</p></div></div><div class="col-sm-4" ui-sref="home.control.operationRecord({\'top\':500})"><div class="card card-block"><h3 class="card-title">查看操作记录</h3><p class="card-text">查阅您的最近的修改记录</p></div></div></div></section><br></article></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/playground/main.html",'<div ng-controller="PlaygroundCtrl"><ui-select ng-model="selectedItem"><ui-select-match><span ng-bind="$select.selected.name"></span></ui-select-match><ui-select-choices repeat="item in (itemArray | filter: $select.search) track by item.id" refresh="xx($select)"><span ng-bind="item.name"></span></ui-select-choices></ui-select></div>'),t.put("app/interaction/playground/test.html",'<tbody><span ng-repeat-start="(k,v) in data"></span> <span ng-repeat-start="(k1,v1) in v.listData"></span><tr><td rowspan="{{x}}">{{k}}</td><td rowspan="{{x}}">{{v}}</td></tr><tfoot ng-repeat-end=""></tfoot></tbody>'),t.put("app/interaction/table/base.html",'<cm-side-menu-box><cm-side-menu><section class="category"><h4>报表</h4><ul><li ui-sref-active="active" ui-sref="home.table.table1">供应商交货情况分析</li><li ui-sref-active="active" ui-sref="home.table.table2">检验工时汇总</li></ul></section></cm-side-menu><div ui-view=""></div></cm-side-menu-box>'),t.put("app/components/ui/cmLoading/template.html",'<div class="cmLoading"><div class="shade" ng-if="isShow"></div><div class="loading cm-animation-fade" ng-if="false"><div class="spinner spinner-lines"><svg viewbox="0 0 64 64"><g stroke-width="7" stroke-linecap="round"><line x1="10" x2="10" y2="48" y1="16"></line><animate attributename="y1" dur="750ms" values="16;18;28;18;16;16" repeatcount="indefinite"></animate><animate attributename="y2" dur="750ms" values="48;46;36;44;48;48" repeatcount="indefinite"></animate><animate attributename="stroke-opacity" dur="750ms" values="1;.4;.5;.8;1;1" repeatcount="indefinite"></animate><line x1="24" x2="24" y2="45.3897" y1="17.3052"></line><animate attributename="y1" dur="750ms" values="16;16;18;28;18;16" repeatcount="indefinite"></animate><animate attributename="y2" dur="750ms" values="48;48;46;36;44;48" repeatcount="indefinite"></animate><animate attributename="stroke-opacity" dur="750ms" values="1;1;.4;.5;.8;1" repeatcount="indefinite"></animate><line x1="38" x2="38" y2="38.7793" y1="24.5258"></line><animate attributename="y1" dur="750ms" values="18;16;16;18;28;18" repeatcount="indefinite"></animate><animate attributename="y2" dur="750ms" values="44;48;48;46;36;44" repeatcount="indefinite"></animate><animate attributename="stroke-opacity" dur="750ms" values=".8;1;1;.4;.5;.8" repeatcount="indefinite"></animate><line x1="52" x2="52" y2="42.5258" y1="21.4742"></line><animate attributename="y1" dur="750ms" values="28;18;16;16;18;28" repeatcount="indefinite"></animate><animate attributename="y2" dur="750ms" values="36;44;48;48;46;36" repeatcount="indefinite"></animate><animate attributename="stroke-opacity" dur="750ms" values=".5;.8;1;1;.4;.5" repeatcount="indefinite"></animate></g></svg></div></div><div class="pane cm-animation-fade" ng-if="isShow"><div class="content"><span ng-if="status===\'inProgress\'"></span> <span ng-if="status===\'success\'"></span> <span ng-if="status===\'error\'"></span> {{content}}</div></div></div>'),
t.put("app/components/ui/cmLogin/template.html",'<div class="cmLogin"><div class="shade" ng-if="isShow" ng-click="funcTryToClose()"></div><div class="pane-a cm-animation-fade" ng-if="isShow"><header style="position: relative;"><div class="close-button ion-ios-close" ng-show="isLoggedIn" ng-click="funcTryToClose()"></div><br><br><div style="text-align: center"><h3 style="text-shadow:0 0 2px #DDDDDD">美山子原材料检验</h3></div></header><div class="content" ng-controller="cmLoginCtrl" ng-switch="uiWhichPanel"><section class="switchPanel" ng-switch-when="switch"><div class="avatar-group"><div class="avatar" ng-repeat="user in savedUsers" ng-mouseleave="uiCurrentHoverIndex=null" ng-mouseenter="uiCurrentHoverIndex=$index"><div class="remove ion-ios-close" ng-show="user.Username&&uiCurrentHoverIndex===$index" ng-click="funcRemoveUser($index)"></div><div ng-click="funcDisplayUserLogin(user)"><img ng-src="{{user.Avatar}}"><div class="name" ng-show="user.Username&&uiCurrentHoverIndex===$index">{{user.Username}}</div></div></div></div><br><div class="description" ng-show="savedUsers.length>0">请选择一个用户以登录<span ng-show="savedUsers.length<4">，<a ng-click="funcDisplayNewUserLogin()">或添加一个</a></span></div><div class="description" ng-show="!savedUsers.length>0">还没有存储的用户<span ng-show="savedUsers.length<4">，<a ng-click="funcDisplayNewUserLogin()">点此添加一个</a></span></div></section><section class="loginPanel" ng-switch-when="login"><form ng-submit="funcLogin()"><div class="center"><div style="margin-right: 25px"><div class="avatar" ng-mouseenter="uiIsHover=true" ng-mouseleave="uiIsHover=false"><img ng-src="{{selectedUser.Avatar}}"><div class="name" ng-show="uiIsHover">{{selectedUser.Username}}</div></div></div><div class="login-form {{uiIsInputError?\'has-error\':\'\'}}"><div><label><input type="text" class="form-control above" ng-model="selectedUser.ID" ng-change="funcCancelInputErrorMark();funcUserIdChanged()" autofocus="" placeholder="工号" required="" ng-disabled="uiIsLoggingIn"></label></div><hr><div><label><input type="password" class="form-control below" ng-model="selectedUser.Password" ng-change="funcCancelInputErrorMark()" placeholder="密码" required="" ng-disabled="uiIsLoggingIn"></label></div><div class="options"><label><input type="checkbox" value="true" checked="checked" ng-model="selectedUser.AutoUpdateSavedUser" ng-disabled="uiIsLoggingIn"> <span>保存登录凭证</span></label> <label ng-show="savedUsers.length>0"><span ng-show="uiIsLoggingIn">其他用户</span> <a ng-show="!uiIsLoggingIn" ng-click="funcCancelInputErrorMark();funcDisplayUserSwitch()">其他用户</a></label></div></div></div><div class="form-group"><br><button type="submit" class="btn btn-primary login-button" ng-disabled="uiIsLoggingIn"><span ng-show="!uiIsLoggingIn">登录</span> <span ng-show="uiIsLoggingIn">正在登录中...</span></button></div></form></section><section class="successPanel" ng-switch-when="success"><div class="success"><span class="ion-checkmark-round"></span>登录成功！1秒后返回</div></section></div></div></div>'),t.put("app/components/ui/cmNavBar/template.html",'<div class="cmNavBar" ng-controller="cmNavBarCtrl"><div class="nav-part hide-style"><span ng-show="destType===\'state\'" class="icon button ion-android-arrow-back {{canGoBack?\'active\':\'\'}}" ng-click="goBack()"></span> <a ng-show="destType===\'url\'" ng-href="{{url}}" class="icon button ion-android-arrow-back {{canGoBack?\'active\':\'\'}}"></a> <a ng-show="destType===\'null\'" class="icon button ion-android-arrow-back"></a><div class="current" ng-click="toggleMenu()"><span class="icon {{menuItem.icon||\'ion-ios-photos-outline\'}}"></span> <span class="text">{{menuItem.title||"其他"}}</span> <span class="down"></span> <span class="down ion-ios-arrow-down"></span></div></div><div class="title-part" ng-if="false"><div><span class="title">{{title}}</span></div><div><span class="button active">{{$state.$current.name}}</span> <span class="button active" ng-if="">反馈</span></div></div></div>'),t.put("app/components/ui/cmNavMenu/template.html",'<div class="cmNavMenu"><div class="shade" ng-if="show" ng-click="close()"></div><div class="triangle cm-animation-fade" ng-if="show"></div><div class="navMenu cm-animation-fade" ng-if="show"><div class="content"><div class="block"><div class="item" ng-repeat="i in menuItems" ng-click="goAndClose(i.state,i.params)" ng-show="i.show"><div class="icon {{i.icon}}"></div><div class="label">{{i.label}}</div></div></div></div></div></div>'),t.put("app/components/ui/cmNotificationArea/template.html",'<div class="cmNotificationArea"><div class="button {{uiIsPanelShow?\'active\':\'\'}}" ng-click="uiIsPanelShow=!uiIsPanelShow"><div class="item"><span class="ion-android-person"></span>{{currentUser.Name}}</div></div><div class="panel" ng-show="uiIsPanelShow"><div class="option" ng-click="funcSwitchUser()">切换用户</div><div class="option" ng-click="funcLogout()">退出登录</div></div></div>'),t.put("app/components/ui/cmSideMenuBox/template.html",'<div ng-transclude=""></div>'),t.put("app/components/ui/iaSelect/iaSelect.html",'<ui-select ng-model="bindModel" theme="bootstrap" focus-on="click" append-to-body="false" on-select="change($item,$model)"><ui-select-match placeholder="请选择"><span ng-bind="$select.selected"></span></ui-select-match><ui-select-choices repeat="item in (itemArray | filter: $select.search)" refresh="sync($select.search)"><span ng-bind="item"></span></ui-select-choices></ui-select>'),t.put("app/interaction/checkforms/forms/form1.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>商标、纸卡、不干贴检收记录</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span class="ion-home"></span> 回到主页</a></section></cm-side-menu-content-header><section><form name="form" novalidate=""><center><h3>商标、纸卡、不干贴检收记录</h3></center><div class="row"><div class="col-xs-3">到料日期：<span>{{info.ArriveTime | date:\'yyyy-MM-dd\'}}</span></div><div class="col-xs-3">货号：<span>{{info.ProductNo}}</span></div><div class="col-xs-3">色号：<span>{{info.ColorNo}}</span></div><div class="col-xs-3">供应商：{{info.GongYingShang}}</div></div><div class="row" style="margin-top: 10px"><div class="col-xs-3">到料总数：<span>{{data.DaoLiaoZongShu}}</span></div><div class="col-xs-3">订单号：<input ng-readonly="stateType != \'dataEntry\'" type="text" style="max-width: 100px;max-height: 21px" name="dingdanhao" ng-model="data.DingDanHao" class="inline-input"></div><div class="col-xs-3" ng-show="stateType == \'dataEntry\'">步骤选择*:<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div><div class="col-xs-3">种类*: {{info.CaiLiaoMingCheng}} {{info.CaiLiaoDaLei}}</div></div><div style="margin-top: 10px" class="row"><div class="col-xs-6">生产日期：<input ng-readonly="stateType != \'dataEntry\'" type="date" style="" name="dingdanhao" ng-model="data.ShengChanRiQi" class="inline-input"></div><div class="col-xs-6">检验总数：{{data.JianYanZongShu}}</div></div><hr><table class="table table-bordered table-condensed"><thead><tr><th>序号</th><th>规格*</th><th style="min-width: 200px">投产数/订单数</th><th>标识数</th><th>实测数</th><th>检验数</th><th style="min-width: 150px">合格数*</th><th>外观</th><th>净重</th><th>克重</th><th>扫描结果</th><th>检验号</th><th>其它</th><th ng-hide="stateType != \'dataEntry\'">操作</th><th ng-show="stateType != \'dataEntry\'">填写人</th></tr></thead><tbody id="data"><tr ng-repeat="row in data.listData"><td>{{$index+1}}</td><td><input ng-readonly="stateType != \'dataEntry\'" name="GuiGe{{$index}}" class="inline-input short" placeholder="规格" type="text" ng-class="{error:row.GuiGe.$error}" ng-model="row.GuiGe"></td><td style="max-width: 170px;min-width: 170px"><input type="checkbox" ng-model="row.hasDingDanShu" ng-disabled="stateType != \'dataEntry\'">订单数 <input type="number" ng-readonly="stateType != \'dataEntry\'" class="inline-input short" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-model="row.DingDanShu" ng-show="row.hasDingDanShu" ng-disabled="!row.hasDingDanShu"> <input type="checkbox" ng-model="row.hasTouChanShu" ng-disabled="stateType != \'dataEntry\'">投产数 <input type="number" ng-readonly="stateType != \'dataEntry\'" class="inline-input short" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-model="row.TouChanShu" ng-show="row.hasTouChanShu" ng-disabled="!row.hasTouChanShu"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="number" placeholder="标识数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="stepNext(row,3)" class="inline-input short" min="1" ng-model="row.BiaoZhiShu"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="number" name="shiceshu" placeholder="实测数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="row.HeGeShu = row.ShiCeShu;row.JianYanShu=row.HeGeShu" class="inline-input short" ng-model="row.ShiCeShu"></td><td style="max-width: 80px;min-width: 80px"><input ng-readonly="stateType != \'dataEntry\'" type="number" placeholder="检验数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" class="inline-input short" ng-model="row.JianYanShu" ng-change=""></td><td style="max-width: 80px;min-width: 80px"><input ng-readonly="stateType != \'dataEntry\'" name="HeGeShu{{$index}}" type="number" placeholder="合格数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="calcDaoLiaoSum(data.listData)" class="inline-input short" ng-class="{warning:row.HeGeShu<(row.TouChanShu||row.DingDanShu||row.BiaoZhiShu)}" ng-model="row.HeGeShu"> <span ng-if="row.HeGeShu<(row.TouChanShu||row.DingDanShu||row.BiaoZhiShu)" style="color: red">缺{{(row.TouChanShu||row.DingDanShu||row.BiaoZhiShu)-row.HeGeShu}}件</span></td><td><input ng-disabled="stateType != \'dataEntry\'" type="checkbox" class="inline-input short" ng-model="row.WaiGuan">OK</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.JingZhong"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.KeZhong"></td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="NG" ng-model="row.SaoMiaoJieGuo">NG <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="OK" ng-model="row.SaoMiaoJieGuo">OK <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="BuSaoMiao" ng-model="row.SaoMiaoJieGuo">不扫描</td><td><input ng-readonly="stateType != \'dataEntry\'" type="text" placeholder="检验号" class="inline-input short" ng-model="row.JianYanHao" ng-class="{\'warning\':row.JianYanHao != \'3\'}"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="text" placeholder="其他" class="inline-input" style="width: 95%" ng-model="row.QiTa"></td><td ng-hide="stateType != \'dataEntry\'"><a class="btn btn-link" ng-click="del(row)">删除</a></td><td ng-show="stateType != \'dataEntry\'">{{row.Inspector}}</td></tr></tbody><tfoot><tr><td>主吊牌</td><td><input ng-readonly="stateType != \'dataEntry\'" name="GuiGe{{$index}}" class="inline-input short" placeholder="规格" type="text" ng-class="{error:data.ZhuDiaoPai.GuiGe.$error}" ng-model="data.ZhuDiaoPai.GuiGe"></td><td style="max-width: 170px;min-width: 170px"><input type="checkbox" ng-model="data.ZhuDiaoPai.hasDingDanShu" ng-disabled="stateType != \'dataEntry\'">订单数 <input type="number" ng-readonly="stateType != \'dataEntry\'" class="inline-input short" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-model="data.ZhuDiaoPai.DingDanShu" ng-show="data.ZhuDiaoPai.hasDingDanShu" ng-disabled="!data.ZhuDiaoPai.hasDingDanShu"> <input type="checkbox" ng-model="data.ZhuDiaoPai.hasTouChanShu" ng-disabled="stateType != \'dataEntry\'">投产数 <input type="number" ng-readonly="stateType != \'dataEntry\'" class="inline-input short" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-model="data.ZhuDiaoPai.TouChanShu" ng-show="data.ZhuDiaoPai.hasTouChanShu" ng-disabled="!data.ZhuDiaoPai.hasTouChanShu"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="number" placeholder="标识数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="stepNext(data.ZhuDiaoPai,3)" class="inline-input short" min="1" ng-model="data.ZhuDiaoPai.BiaoZhiShu"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="number" name="shiceshu" placeholder="实测数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="data.ZhuDiaoPai.HeGeShu = data.ZhuDiaoPai.ShiCeShu;data.ZhuDiaoPai.JianYanShu=data.ZhuDiaoPai.HeGeShu/10" class="inline-input short" ng-model="data.ZhuDiaoPai.ShiCeShu"></td><td style="max-width: 80px;min-width: 80px"><input ng-readonly="stateType != \'dataEntry\'" type="number" placeholder="检验数" class="inline-input short" ng-model="data.ZhuDiaoPai.JianYanShu" ng-bind="data.ZhuDiaoPai.HeGeShu" ng-change="data.ZhuDiaoPai.HeGeShu=data.ZhuDiaoPai.JianYanShu"></td><td style="max-width: 80px;min-width: 80px"><input ng-readonly="stateType != \'dataEntry\'" name="HeGeShu{{$index}}" type="number" placeholder="合格数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="calcDaoLiaoSum(data.listData);" class="inline-input short" ng-class="{warning:data.ZhuDiaoPai.HeGeShu<(data.ZhuDiaoPai.TouChanShu||data.ZhuDiaoPai.DingDanShu||data.ZhuDiaoPai.BiaoZhiShu)}" ng-model="data.ZhuDiaoPai.HeGeShu"> <span ng-if="data.ZhuDiaoPai.HeGeShu<(data.ZhuDiaoPai.TouChanShu||data.ZhuDiaoPai.DingDanShu||data.ZhuDiaoPai.BiaoZhiShu)" style="color: red">缺{{(data.ZhuDiaoPai.TouChanShu||data.ZhuDiaoPai.DingDanShu||data.ZhuDiaoPai.BiaoZhiShu)-data.ZhuDiaoPai.HeGeShu}}件</span></td><td><input ng-disabled="stateType != \'dataEntry\'" type="checkbox" class="inline-input short" ng-model="data.ZhuDiaoPai.WaiGuan">OK</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.ZhuDiaoPai.JingZhong"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.ZhuDiaoPai.KeZhong"></td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="NG" ng-model="data.ZhuDiaoPai.SaoMiaoJieGuo">NG <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="OK" ng-model="data.ZhuDiaoPai.SaoMiaoJieGuo">OK <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="BuSaoMiao" ng-model="data.ZhuDiaoPai.SaoMiaoJieGuo">不扫描</td><td><input ng-readonly="stateType != \'dataEntry\'" type="text" placeholder="检验号" class="inline-input short" ng-model="data.ZhuDiaoPai.JianYanHao" ng-class="{\'warning\':data.ZhuDiaoPai.JianYanHao != \'3\'}"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="text" placeholder="其他" class="inline-input" style="width: 95%" ng-model="data.ZhuDiaoPai.QiTa"></td><td ng-hide="stateType != \'dataEntry\'"></td><td ng-show="stateType != \'dataEntry\'">{{data.ZhuDiaoPai.Inspector}}</td></tr><tr ng-if="info.CaiLiaoDaLai == \'外销吊牌\'"><td>成份</td><td><input ng-readonly="stateType != \'dataEntry\'" name="GuiGe{{$index}}" class="inline-input short" placeholder="规格" type="text" ng-class="{error:data.ChengFen.GuiGe.$error}" ng-model="data.ChengFen.GuiGe"></td><td style="max-width: 170px;min-width: 170px"><input type="checkbox" ng-model="data.ChengFen.hasDingDanShu" ng-disabled="stateType != \'dataEntry\'">订单数 <input type="number" ng-readonly="stateType != \'dataEntry\'" class="inline-input short" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-model="data.ChengFen.DingDanShu" ng-show="data.ChengFen.hasDingDanShu" ng-disabled="!data.ChengFen.hasDingDanShu"> <input type="checkbox" ng-model="data.ChengFen.hasTouChanShu" ng-disabled="stateType != \'dataEntry\'">投产数 <input type="number" ng-readonly="stateType != \'dataEntry\'" class="inline-input short" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-model="data.ChengFen.TouChanShu" ng-show="data.ChengFen.hasTouChanShu" ng-disabled="!data.ChengFen.hasTouChanShu"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="number" placeholder="标识数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="stepNext(data.ChengFen,3)" class="inline-input short" min="1" ng-model="data.ChengFen.BiaoZhiShu"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="number" name="shiceshu" placeholder="实测数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="data.ChengFen.HeGeShu = data.ChengFen.ShiCeShu;data.ChengFen.JianYanShu=data.ChengFen.HeGeShu" class="inline-input short" ng-model="data.ChengFen.ShiCeShu"></td><td style="max-width: 80px;min-width: 80px"><input ng-readonly="stateType != \'dataEntry\'" name="HeGeShu{{$index}}" type="number" placeholder="合格数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" ng-change="calcDaoLiaoSum(data.listData);data.ChengFen.JianYanShu=data.ChengFen.HeGeShu" class="inline-input short" ng-class="{warning:data.ChengFen.HeGeShu<(data.ChengFen.TouChanShu||data.ChengFen.DingDanShu||data.ChengFen.BiaoZhiShu)}" ng-model="data.ChengFen.HeGeShu"> <span ng-if="data.ChengFen.HeGeShu<(data.ChengFen.TouChanShu||data.ChengFen.DingDanShu||data.ChengFen.BiaoZhiShu)" style="color: red">缺{{(data.ChengFen.TouChanShu||data.ChengFen.DingDanShu||data.ChengFen.BiaoZhiShu)-data.ChengFen.HeGeShu}}件</span></td><td style="max-width: 80px;min-width: 80px"><input ng-readonly="stateType != \'dataEntry\'" type="number" placeholder="检验数" ng-pattern="/^[0-9]*[1-9][0-9]*$/" class="inline-input short" ng-model="data.ChengFen.JianYanShu" ng-bind="data.ChengFen.HeGeShu"></td><td><input ng-disabled="stateType != \'dataEntry\'" type="checkbox" class="inline-input short" ng-model="data.ChengFen.WaiGuan">OK</td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="NG" ng-model="data.ChengFen.SaoMiaoJieGuo">NG <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="OK" ng-model="data.ChengFen.SaoMiaoJieGuo">OK</td><td><input ng-readonly="stateType != \'dataEntry\'" type="text" placeholder="检验号" class="inline-input short" ng-model="data.ChengFen.JianYanHao" ng-class="{\'warning\':data.ChengFen.JianYanHao != \'3\'}"></td><td><input ng-readonly="stateType != \'dataEntry\'" type="text" placeholder="其他" class="inline-input" style="width: 95%" ng-model="data.ChengFen.QiTa"></td><td ng-hide="stateType != \'dataEntry\'"></td><td ng-show="stateType != \'dataEntry\'">{{data.ChengFen.Inspector}}</td></tr><tr><td colspan="12">默认检验号：<input ng-readonly="stateType != \'dataEntry\'" type="text" style="max-width: 100px;max-height: 21px" name="jianyanhao" ng-model="data.default_jianyanhao" class="inline-input" ng-change="onJianYanHaoDefaultChange(data.default_jianyanhao)"></td><td colspan="3"><button ng-click="add()" ng-hide="stateType != \'dataEntry\'" class="btn btn-link">添加</button></td></tr></tfoot></table><span style="color: grey" ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(form.$invalid,true)"><span class="ion-checkmark"></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false,false)"><span class="ion-archive"></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span class="ion-checkmark"></span> 通过</button></section><span style="color: grey" ng-show="info.check && stateType != \'dataEntry\'">已通过，审批人：{{info.Assessor}}，审批时间：{{info.AssessTime}}</span></form></section></cm-side-menu-content></cm-side-menu-box><style>\n  .inline-input {\n    border-top: hidden;\n    border-left: hidden;\n    border-right: hidden;\n    border-bottom: 1px solid black;\n\n  }\n\n  .short {\n    max-width: 60px;\n  }\n\n  input.ng-invalid {\n    border: 1px solid red;\n  }\n\n  select.ng-invalid {\n    border: 1px solid red;\n  }\n\n  .ng-untouched {\n    border-top: hidden;\n    border-left: hidden;\n    border-right: hidden;\n    /*border-bottom: 1px solid black;*/\n  }\n\n  .warning{\n    border: 1px solid red;\n  }\n\n\n</style>'),t.put("app/interaction/checkforms/forms/form10.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>材料模压测试报告</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span></span> 回到主页</a></section></cm-side-menu-content-header><style>\n      .inline-input {\n        border-top: hidden;\n        border-left: hidden;\n        border-right: hidden;\n        border-bottom: 1px solid black;\n\n      }\n\n      .short {\n        max-width: 85px;\n      }\n      input.input-warning {\n        border: 1px solid orange!important;\n      }\n\n      input.ng-invalid {\n        border: 1px solid red;\n      }\n\n      input.ng-untouched {\n        border-top: none;\n      !important;\n        border-left: none;\n      !important;\n        border-right: none;\n      !important;\n        border-bottom: 1px solid black;\n      !important;\n      }\n\n      select.ng-invalid {\n        border: 1px solid red;\n      }\n\n      select.ng-untouched {\n        border-top: none;\n      !important;\n        border-left: none;\n      !important;\n        border-right: none;\n      !important;\n        border-bottom: 1px solid black;\n      !important;\n      }\n      th{\n        text-align: center;\n      }\n\n      td{\n        text-align: center;\n      }\n\n      textarea{\n        margin-top: 5px;\n      }\n    </style><section><form name="form" novalidate=""><center><h3>材料模压测试报告</h3></center><div class="row"><div class="col-xs-3">选择步骤*：<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div></div><hr><table class="table table-bordered table-condensed"><tbody><tr><th rowspan="5">送样品部门</th><th>材料名称</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.CaiLiaoMingCheng"></td><th>材料成分</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.CaiLiaoChengFen"></td></tr><tr><th>供应商</th><th>{{data.GongYingShang}}</th><th>货号/色号</th><th>{{data.HuoHao}}/{{data.SeHao}}</th></tr><tr><th>到料时间</th><th>{{data.DaoLiaoShiJian}}</th><th>卷号/缸号</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.JuanHao"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.GangHao"></td></tr><tr><th>品牌/系列名</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.PingPai" class="inline-input"></td><th>款号</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.KuanHao" class="inline-input"></td></tr><tr><td colspan="4">用途： <input type="radio" value="MianBu" ng-model="data.YongTu">用于面布 <input type="radio" value="GaiMianBu" ng-model="data.YongTu">用于盖棉布 <input type="radio" value="TieBuMoBei" ng-model="data.YongTu">用于贴布模杯 <input type="radio" value="QiTa" ng-model="data.YongTu">其他 <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.YongTuBeiZhu" class="inline-input"><br>模压条件： 上模温度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TiaoJianShangMoWenDu" class="inline-input short"> 下模温度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TiaoJianXiaMoWenDu" class="inline-input short"> 时间：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TiaoJianShiJian" class="inline-input short"> 深度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TiaoJianShenDu" class="inline-input short"><br>其他：<textarea type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.MoYaTiaoJianBeiZhu"></textarea> <span class="pull-right">送检人/日期：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.SongJianRen" class="inline-input short">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.SongJianRenRiQi" class="inline-input short"></span></td></tr><tr><th>工艺备注</th><td colspan="4">使用模具：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShiYongMuJu" class="inline-input short"> 主料（模杯）：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuLiao" class="inline-input"><br>模压参数： 上模温度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CanShuShangMoWenDu" class="inline-input short"> 下模温度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CanShuXiaMoWenDu" class="inline-input short"> 时间：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CanShuShiJian" class="inline-input short"> 深度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CanShuShenDu" class="inline-input short"><br>其他：<textarea type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.MoYaCanShuBeiZhu"></textarea> <span class="pull-right">工艺员：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.GongYiYuan" class="inline-input short">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.GongYiYuanRiQi" class="inline-input short"></span></td></tr><tr><th>试模压部门验证意见</th><td colspan="4">贴合技术参数： 胶水型号：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TieHeJiaoShui" class="inline-input short"> 温度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TieHeWenDu" class="inline-input short"> 速度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TieHeSuDu" class="inline-input short"> 压力：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TieHeYaLi" class="inline-input short"><br>其他：<textarea type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TieHeQiTa"></textarea><br><hr>模压参数： 上模温度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JiShuCanShuShangMoWenDu" class="inline-input short"> 下模温度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JiShuCanShuXiaMoWenDu" class="inline-input short"> 时间：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JiShuCanShuShiJian" class="inline-input short"> 深度：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JiShuCanShuShenDu" class="inline-input short"><br>其他：<textarea type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JiShuCanShuBeiZhu"></textarea><hr>验证过程中发现的问题点： <textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.WenTiDian"></textarea><hr>试样人/日期：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShiYangRen" class="inline-input short">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShiYangRenRiQi" class="inline-input short"> 试压后确认人/日期：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShiYaHouQueRen" class="inline-input short">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShiYaHouQueRenRiQi" class="inline-input short"> 工艺确认人/日期：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.GongYiQueRen" class="inline-input short">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.GongYiQueRenRiQi" class="inline-input short"></td></tr><tr><th>采购部门</th><td colspan="4">确认人/日期：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CaiGouBuMenQueRen" class="inline-input short">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CaiGouBuMenQueRenRiQi" class="inline-input short"> 审核人/日期：<input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CaiGouBuMenShenHe" class="inline-input short">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CaiGouBuMenShenHeRiQi" class="inline-input short"></td></tr></tbody><tfoot><tr><th>结论</th><td colspan="4"><input type="radio" value="HeGe" ng-model="data.JieLun">合格 <input type="radio" value="BuHeGe" ng-model="data.JieLun">不合格 <input type="radio" value="QiTa" ng-model="data.JieLun">其他 <input type="text" class="inline-input" ng-model="data.JieLunBeiZhu"></td></tr></tfoot></table><span ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false)"><span></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span></span> 通过</button></section></form></section></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/checkforms/forms/form2.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px;overflow-x: hidden"><cm-side-menu-content-header><section class="title"><h2>材料验收记录（辅料）</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span class="ion-home"></span> 回到主页</a> <a ng-click="new()" class="btn btn-link"><span class="ion-home"></span> 新建</a></section></cm-side-menu-content-header><section><center><h3>材料验收记录（辅料）</h3></center><form name="form" novalidate=""><div class="row"><div class="col-xs-3">到料日期：<span>{{info.ArriveTime | date:\'yyyy-MM-dd\'}}</span></div><div class="col-xs-2">货号：<span>{{info.ProductNo}}</span></div><div class="col-xs-2">色号：<span>{{info.ColorNo}}</span></div><div class="col-xs-2">材料名称：{{info.CaiLiaoMingCheng}}</div><div class="col-xs-3">到料总数（米/卷）： <span ng-bind="info.DaoLiaoZongShu"></span></div></div><div class="row" style="margin-top:10px"><div class="col-xs-3">检验数：{{totalCount}}</div><div class="col-xs-2">A/B类别：<select ng-disabled="stateType!=\'dataEntry\'" ng-model="data.LeiBie"><option value="A">A</option><option value="B">B</option></select></div><div class="col-xs-2">供应商：{{info.GongYingShang}}</div><div class="col-xs-2">步骤*：<select ng-disabled="stateType!=\'dataEntry\'" ng-model="data.selectedStep" required=""><option ng-repeat="x in data.step | filter:{name:\'!审核\'}" value="{{x.value}}">{{x.name}}</option></select></div><div class="col-xs-3">产品种类： {{info.CaiLiaoDaLei}}</div></div><hr>填写项目： <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasKuanDuOrGuiGe">宽度/规格 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasCiDian">疵点 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasDuiChenXingOrWanQuDu"> 对称性/弯曲度 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasKeZhong"> 克重 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasKaiDu"> 开度 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasHouDu"> 厚度 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasHuaXingXunHuan"> 花型循环 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasChangKuan"> 长/宽<div class="row" style="overflow-x: auto; padding: 10px 10px 10px 10px"><table class="table table-bordered table-condensed ng-animinate"><thead><tr><th rowspan="2">卷号</th><th rowspan="2">缸号</th><th rowspan="1" colspan="{{5}}">数量( 米 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.MiIsChecked"> 片 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.PianIsChecked"> 个 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.GeIsChecked"> 付 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.FuIsChecked"> 枚 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.MeiIsChecked"> 卷 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.JuanIsChecked"> 公斤 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.GongJinIsChecked"> 克 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.KeIsChecked"> )</th><th colspan="4" ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">宽度 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.GuiGeOrKuanDu" value="KuanDu"> 规格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.GuiGeOrKuanDu" value="GuiGe"> （单位: <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" style="background: none" ng-model="data.GuiGeOrKuanDuDanWei">）</th><th colspan="2" ng-show="data.XiangMuFlag.hasCiDian">疵点</th><th colspan="2" ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">对称性 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.DuiChenXingOrWanQuDu" value="DuiChenXing"> 弯曲度 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.DuiChenXingOrWanQuDu" value="WanQuDu"> （单位: <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" style="background: none" ng-model="data.DuiChenXingOrWanQuDuDanWei">）</th><th colspan="2" ng-show="data.XiangMuFlag.hasKeZhong">克重 （单位：<input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" style="background: none" ng-model="data.KeZhongDanWei"> ）</th><th colspan="2" ng-show="data.XiangMuFlag.hasKaiDu">开度（松紧带、肩带）（杯）</th><th colspan="2" ng-show="data.XiangMuFlag.hasHouDu">厚度（薄膜，百美贴）</th><th colspan="4" ng-show="data.XiangMuFlag.hasHuaXingXunHuan">花型循环</th><th colspan="8" ng-show="data.XiangMuFlag.hasChangKuan">长/宽</th><th rowspan="2">等级判定</th><th rowspan="2">备注</th><th rowspan="2">手揉回缩率</th><th rowspan="2">自然回缩率</th><th rowspan="2" ng-show="stateType == \'dataEntry\'">操作</th><th rowspan="2" ng-show="stateType != \'dataEntry\'">检验员</th></tr><tr><th>皮标1</th><th>实测1</th><th>皮标2</th><th>实测2</th><th>检验数*</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">标准值</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">实测1</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">实测2</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">实测3</th><th ng-show="data.XiangMuFlag.hasCiDian">疵点</th><th ng-show="data.XiangMuFlag.hasCiDian">接头</th><th ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">标准值</th><th ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">实测</th><th ng-show="data.XiangMuFlag.hasKeZhong">标准</th><th ng-show="data.XiangMuFlag.hasKeZhong">实测</th><th ng-show="data.XiangMuFlag.hasKaiDu">标准值</th><th ng-show="data.XiangMuFlag.hasKaiDu">实测值</th><th ng-show="data.XiangMuFlag.hasHouDu">标准</th><th ng-show="data.XiangMuFlag.hasHouDu">实测</th><th ng-show="data.XiangMuFlag.hasHuaXingXunHuan">标准</th><th ng-show="data.XiangMuFlag.hasHuaXingXunHuan">字长</th><th ng-show="data.XiangMuFlag.hasHuaXingXunHuan">花型</th><th ng-show="data.XiangMuFlag.hasHuaXingXunHuan">总循环</th><th ng-show="data.XiangMuFlag.hasChangKuan">标准值</th><th ng-show="data.XiangMuFlag.hasChangKuan">实测1</th><th ng-show="data.XiangMuFlag.hasChangKuan">实测2</th><th ng-show="data.XiangMuFlag.hasChangKuan">实测3</th><th ng-show="data.XiangMuFlag.hasChangKuan">标准值</th><th ng-show="data.XiangMuFlag.hasChangKuan">实测1</th><th ng-show="data.XiangMuFlag.hasChangKuan">实测2</th><th ng-show="data.XiangMuFlag.hasChangKuan">实测3</th></tr></thead><tbody id="data"><tr ng-repeat="row in data.listData"><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="卷号" ng-model="row.JuanHao"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="缸号" ng-model="row.GangHao"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="皮标1" ng-model="row.ShuLiangPiBiao1"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="实测1" ng-model="row.ShuLiangShiCe1" ng-class="{\'input-warning\':comparePiBiaoShiCe(row.ShuLiangPiBiao1,row.ShuLiangShiCe1)}"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="皮标2" ng-model="row.ShuLiangPiBiao2"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="实测2" ng-model="row.ShuLiangShiCe2" ng-class="{\'input-warning\':comparePiBiaoShiCe(row.ShuLiangPiBiao2,row.ShuLiangShiCe2)}"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="检验数" required="" ng-change="calctotalSum(data.listData)" ng-model="row.JianYanShu"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.KuanDuOrGuiGeBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.KuanDuOrGuiGeBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测1" ng-class="{\'input-warning\':!validateScale(row.KuanDuOrGuiGeBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuOrGuiGeBiaoZhunPianCha,row.KuanDuOrGuiGeShiCe1)}" ng-model="row.KuanDuOrGuiGeShiCe1"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测2" ng-class="{\'input-warning\':!validateScale(row.KuanDuOrGuiGeBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuOrGuiGeBiaoZhunPianCha,row.KuanDuOrGuiGeShiCe2)}" ng-model="row.KuanDuOrGuiGeShiCe2"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测3" ng-class="{\'input-warning\':!validateScale(row.KuanDuOrGuiGeBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuOrGuiGeBiaoZhunPianCha,row.KuanDuOrGuiGeShiCe3)}" ng-model="row.KuanDuOrGuiGeShiCe3"></td><td ng-show="data.XiangMuFlag.hasCiDian"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" ng-class="{\'input-warning\':isWarningJiDian(row.JianYanShu,row.CiDianJiDian,data.LeiBie,data.ChanPinZhongLei)}" placeholder="记点" ng-model="row.CiDianJiDian"></td><td ng-show="data.XiangMuFlag.hasCiDian"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="接头" ng-class="{\'input-warning\':isWarningJiFen(row.JianYanShu,row.CiDianJiFen,data.ChanPinZhongLei)}" ng-model="row.CiDianJiFen"></td><td ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">≤ <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.DuiChenXingOrWanQuDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'input-warning\':Float(row.DuiChenXingOrWanQuDuShiCe)>Float(row.DuiChenXingOrWanQuDuBiaoZhunPianCha)}" ng-model="row.DuiChenXingOrWanQuDuShiCe"></td><td ng-show="data.XiangMuFlag.hasKeZhong"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.KeZhongBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.KeZhongBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasKeZhong"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'input-warning\':!validateScale(row.KeZhongBiaoZhunZhi+data.KeZhongDanWei, row.KeZhongBiaoZhunPianCha,row.KeZhongShiCe)}" ng-model="row.KeZhongShiCe"></td><td ng-show="data.XiangMuFlag.hasKaiDu">≥ <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.KaiDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasKaiDu"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'input-warning\':Float(row.KaiDuShiCe) < Float(row.KaiDuBiaoZhunPianCha)}" ng-model="row.KaiDuShiCe"></td><td ng-show="data.XiangMuFlag.hasHouDu"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.HouDuBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.HouDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasHouDu"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'input-warning\':!validateScale(row.HouDuBiaoZhunZhi, row.HouDuBiaoZhunPianCha,row.HouDuShiCe)}" ng-model="row.HouDuShiCe"></td><td ng-show="data.XiangMuFlag.hasHuaXingXunHuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.HuaXingBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.HuaXingBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasHuaXingXunHuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'inpuFt-warning\':!validateScale(row.HuaXingBiaoZhunZhi, row.HuaXingBiaoZhunPianCha,row.HuaXingShiCe1)}" ng-model="row.HuaXingShiCe1"></td><td ng-show="data.XiangMuFlag.hasHuaXingXunHuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'inpuFt-warning\':!validateScale(row.HuaXingBiaoZhunZhi, row.HuaXingBiaoZhunPianCha,row.HuaXingShiCe2)}" ng-model="row.HuaXingShiCe2"></td><td ng-show="data.XiangMuFlag.hasHuaXingXunHuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'inpuFt-warning\':!validateScale(row.HuaXingBiaoZhunZhi, row.HuaXingBiaoZhunPianCha,row.HuaXingShiCe3)}" ng-model="row.HuaXingShiCe3"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.KuanDuBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.KuanDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测1" ng-class="{\'input-warning\':!validateScale(row.KuanDuBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuBiaoZhunPianCha,row.KuanDuShiCe1)}" ng-model="row.KuanDuShiCe1"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测2" ng-class="{\'input-warning\':!validateScale(row.KuanDuBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuBiaoZhunPianCha,row.KuanDuShiCe2)}" ng-model="row.KuanDuShiCe2"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测3" ng-class="{\'input-warning\':!validateScale(row.KuanDuBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuBiaoZhunPianCha,row.KuanDuShiCe3)}" ng-model="row.KuanDuShiCe3"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.ChangDuBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.ChangDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测1" ng-class="{\'input-warning\':!validateScale(row.ChangDuBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.ChangDuBiaoZhunPianCha,row.ChangDuShiCe1)}" ng-model="row.ChangDuShiCe1"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测2" ng-class="{\'input-warning\':!validateScale(row.ChangDuBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.ChangDuBiaoZhunPianCha,row.ChangDuShiCe2)}" ng-model="row.ChangDuShiCe2"></td><td ng-show="data.XiangMuFlag.hasChangKuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测3" ng-class="{\'input-warning\':!validateScale(row.ChangDuBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.ChangDuBiaoZhunPianCha,row.ChangDuShiCe3)}" ng-model="row.ChangDuShiCe3"></td><td><input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="row.DengJiPanDing" value="A">A <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="row.DengJiPanDing" value="C">C</td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="备注" ng-model="row.BeiZhu"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="row.ShouRouHuiSuoLv" placeholder="" class="input-common"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="row.ZiRanHuiSuoLv" placeholder="" class="input-common"></td><td ng-show="stateType == \'dataEntry\'"><a class="btn btn-link" ng-click="del(row)">删除</a></td><td ng-show="stateType != \'dataEntry\'"><span>{{row.Inspector}}</span></td></tr></tbody><tfoot><tr><td colspan="1"><button class="btn btn-link" ng-click="add()">添加</button></td><td colspan="8">1、对色：与标准色卡比对 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.hasBiaoZhunSeKa"> <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.BiaoZhunSeKa" class="input-short"> 级，与材料封样比对<input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.hasCaiLiaoFengYang"> <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.CaiLiaoFengYang" class="input-short"> 级<br>2、气味 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="ZhengChang" ng-model="data.QiWei">正常 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="BuZhengChang" ng-model="data.QiWei">不正常，有 <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.QiWeiBeiZhu" class="input-short">味<br>3、氨纶实验结果 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.AnLunShiYan" value="HeGe"> 合格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.AnLunShiYan" value="BuHeGe"> 不合格<br>4、验针结果： <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" ng-model="data.YanZhenJieGuo"><br>5、正、反面：<input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ZhengFanMian" value="ZhengQue">正确 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ZhengFanMian" value="BuZhengQue">不正确<br>6、手感： <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.ShouGan" class="input-common"><br>7、纱向：<input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShaXiang" value="ZhengQue">正确<input value="BuZhengQue" ng-model="data.ShaXiang" type="radio">不正确<br>8、材料疵点主要问题说明： <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" style="min-width: 300px;max-width: 300px" ng-model="data.CaiLiaoCiDianZhuYaoWenTi"><br>9、印标位置：<input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.YinBiaoWeiZhi" value="ZhengQue">正确 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.YinBiaoWeiZhi" value="BuZhengQue">不正确<br><textarea name="" id="" cols="80" rows="3" ng-model="data.GangTuoBeiZhu" ng-disabled="stateType!=\'dataEntry\'"></textarea></td><td colspan="99">结论： <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="HeGe" ng-model="data.JieLun">合格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="BuHeGe" ng-model="data.JieLun">不合格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="BuZuoPanDing" ng-model="data.JieLun">不作判定 <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.JieLunBeiZhu" class="input-common"><br><input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.check1">用手折胶骨，不易变形折断<br><input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.check2">用白布擦拭无脏污<br><input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.check3">用手拉丝不易断，粗细均匀，外观OK<br></td></tr></tfoot></table></div><span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span> <button ng-disabled="!form.$valid" class="pull-right btn btn-default" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span class="ion-checkmark"></span> 提交</button> <button ng-disabled="!form.$valid" class="pull-right btn btn-default" ng-show="stateType == \'dataEntry\'" style="margin-right: 10px" ng-click="sub(false)"><span class="ion-archive"></span> 保存</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType != \'dataEntry\' && !info.check" ng-click="pass()"><span class="ion-checkmark"></span> 通过</button></form></section></cm-side-menu-content></cm-side-menu-box><style>\n  .input-common {\n    max-width: 80px;\n    border-top: none;\n    border-bottom: 1px solid black;\n    border-right: none;\n    border-left: none;\n  }\n\n  .input-short {\n    max-width: 50px;\n    border-top: none;\n    border-bottom: 1px solid black;\n    border-right: none;\n    border-left: none;\n  }\n\n  /*input.ng-untouched {*/\n  /*border-top: none;*/\n  /*!important;*/\n  /*border-left: none;*/\n  /*!important;*/\n  /*border-right: none;*/\n  /*!important;*/\n  /*border-bottom: 1px solid black;*/\n  /*!important;*/\n  /*}*/\n\n  input.input-warning {\n    border: 1px solid red!important;\n  }\n\n  input.ng-invalid {\n    border: 1px solid red;\n  }\n\n\n\n  select.ng-invalid {\n    border: 1px solid red;\n  }\n\n  select.ng-untouched {\n    border-top: none;\n  !important;\n    border-left: none;\n  !important;\n    border-right: none;\n  !important;\n    border-bottom: 1px solid black;\n  !important;\n  }\n\n  body {\n    overflow-x: hidden;\n  }\n</style>'),
t.put("app/interaction/checkforms/forms/form3.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>实验室检测报告</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span></span> 回到主页</a></section></cm-side-menu-content-header><style>\n      .inline-input {\n        border-top: hidden;\n        border-left: hidden;\n        border-right: hidden;\n        border-bottom: 1px solid black;\n\n      }\n\n      .short {\n        max-width: 60px;\n      }\n\n      .warning{\n        border: 1px solid red!important;\n      }\n    </style><section><form name="form" novalidate=""><center><h3>实验室检测报告</h3></center><div class="row"><div class="col-xs-3">选择步骤：<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div></div><hr><table class="table table-bordered table-condensed"><tbody><tr><th rowspan="9" style="max-width: 30px;text-wrap: avoid">申请部门填写</th><th colspan="2" class="xl73" width="144">样品名称</th><td colspan="8" class="xl73" width="576"><input ng-readonly="stateType != \'dataEntry\'" class="inline-input" ng-model="data.YangPinMingChen"></td><th colspan="4" class="xl73" width="288">色 号</th><td colspan="4" class="xl73" width="288">{{info.ColorNo}}</td><th colspan="5" class="xl73" width="360">来样日期</th><td colspan="3" class="xl73" width="216"><span>{{info.ArriveTime | date:\'yyyy-MM-dd\'}}</span></td></tr><tr><th colspan="2" class="xl77" width="144">批次/缸号</th><td colspan="12" class="xl77" width="864"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.PiCiAndGangHao"></td><th colspan="2" class="xl77" width="144">要求日期</th><td colspan="10" class="xl77" width="720"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="ZhengChang" ng-model="data.ZhengChangOrJiaJi">正常 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="JiaJi" ng-model="data.ZhengChangOrJiaJi">加急</td></tr><tr><th colspan="2" class="xl77" width="144">材料性质</th><td colspan="12" class="xl77" width="864"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="AiMu" ng-model="data.CaiLiaoXingZhi">爱慕 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="ZiGou" ng-model="data.CaiLiaoXingZhi">自购</td><th colspan="2" class="xl82" width="144">申请部门</th><td colspan="3" class="xl82" width="216"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.ShenQingBuMen"></td><th colspan="5" class="xl82" width="360">送检人</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.SongJianRen"></td></tr><tr><th colspan="2" class="xl77" width="144">检测性质</th><td colspan="12" class="xl77" width="864"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="ChouJian" ng-model="data.JianCeXingZhi">抽检 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="CaiLiao" ng-model="data.JianCeXingZhi">材料开发 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="ZiGou" ng-model="data.JianCeXingZhi">自购开发</td><th colspan="2" class="xl77" width="144">委外项目</th><td colspan="10" class="xl77" width="720"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="YouHaiWuZhi" ng-model="data.WeiWaiXiangMu">抽检 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="LiHuaChangGui" ng-model="data.WeiWaiXiangMu">材料开发 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QuanTao" ng-model="data.WeiWaiXiangMu">自购开发</td></tr><tr><th colspan="2" class="xl77" width="144">来样情况</th><td colspan="12" class="xl77" width="864"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DaHuoYang" ng-model="data.LaiYangQingKuang">大货样 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DaHuo" ng-model="data.LaiYangQingKuang">大货 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="YanFaXiaoYang" ng-model="data.LaiYangQingKuang">研发小样 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="KeHuFanKui" ng-model="data.LaiYangQingKuang">客户反馈</td><th colspan="2" class="xl77" width="144">参考标准</th><td colspan="10" class="xl77" width="720"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.CanKaoBiaoZhun"></td></tr><tr><th colspan="2" class="xl77" width="144">操作工艺</th><td colspan="24" class="xl87" width="1728"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.CaoZuoGongYi"></td></tr><tr><th rowspan="3" class="xl90" width="72">申请外检样品所含材料成分</th><th colspan="2" class="xl77" width="144">序号</th><th colspan="4" class="xl93" width="288">材料名称</th><th colspan="4" class="xl93" width="288">货号</th><th colspan="4" class="xl93" width="288">色号</th><th colspan="5" class="xl93" width="360">材料批次/缸号</th><th colspan="6" class="xl93" width="432">供<span>&nbsp;</span>应<span>&nbsp;</span>商</th></tr><tr><th colspan="2" class="xl93" width="144"><span lang="EN-US">1</span></th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianCaiLiaoMingChen1" class="inline-input"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianHuoHao1" class="inline-input"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianSeHao1" class="inline-input"></td><td colspan="5" class="xl77" width="360"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianPiCiGangHao1" class="inline-input"></td><td colspan="6" class="xl77" width="432"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianGongYingShang1" class="inline-input"></td></tr><tr><th colspan="2" class="xl93" width="144"><span lang="EN-US">2</span></th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianCaiLiaoMingChen2" class="inline-input"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianHuoHao2" class="inline-input"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianSeHao2" class="inline-input"></td><td colspan="5" class="xl77" width="360"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianPiCiGangHao2" class="inline-input"></td><td colspan="6" class="xl77" width="432"><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.WaiJianGongYingShang2" class="inline-input"></td></tr><tr><th colspan="7" class="xl97" width="504">检测项目</th><th colspan="2" class="xl93" width="144">标准值</th><th colspan="4" class="xl93" width="370">检测结果</th><th colspan="9" class="xl93" width="648">检测项目</th><th colspan="4" class="xl93" width="216">标准值</th><th class="xl65" width="72">检测结果</th></tr><tr><th colspan="7" class="xl99"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasDuanLieQiangLi">断裂强力</th><td colspan="2" class="xl77"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DuanLieQiangLiBiaoZhun2"></td><td colspan="4" class="xl77"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.DuanLieQiangLiJianCeJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.DuanLieQiangLiJianCeJieGuo2"></td><th colspan="9" class="xl77" width="648"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasYaXianYingDu">压陷硬度</th><td colspan="4" class="xl77" width="200"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.YaXianYingDuBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.YaXianYingDuJianCeJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.YaXianYingDuJianCeJieGuo2"></td></tr><tr><th colspan="6" rowspan="2" class="xl100" width="432"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasSiPoQiangLi">撕破强力</th><th class="xl67" width="72">经向</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiPoQiangLiJingXiangBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.SiPoQiangLiJingXiangJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.SiPoQiangLiJingXiangJieGuo2"></td><th colspan="9" class="xl77" width="648"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasMiDu"> 密度（kg/m^3）</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.MiDuBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.MiDuJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.MiDuJieGuo2"></td></tr><tr><th class="xl67" width="72">纬向</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiPoQiangLiWeiXiangBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.SiPoQiangLiWeiXiangJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.SiPoQiangLiWeiXiangJieGuo2"></td><th colspan="5" rowspan="2" class="xl105" width="360"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasHuiTanXing">回弹性</th><th colspan="4" class="xl77" width="288">回弹高度</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.HuiTanGaoDuBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.HuiTanGaoDuJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.HuiTanGaoDuJieGuo2"></td></tr><tr><th colspan="7" class="xl99" width="504"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasDingPoQiangLi">顶破强力</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DingPoQiangLiBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.DingPoQiangLiJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.DingPoQiangLiJieGuo2"></td><th colspan="4" class="xl77" width="288">回弹率</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.HuiTanLvBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.HuiTanLvJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.HuiTanLvJieGuo2"></td></tr><tr><th colspan="7" rowspan="2" class="xl106" width="360"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasBoLiQiangLi"> 剥离强力</th><td colspan="2" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.BoLiQiangLi1BiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.BoLiQiangLi1JieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.BoLiQiangLi1JieGuo2"></td><th colspan="9" class="xl77" width="648"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasKangHuangBian">抗黄变时间</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.KangHuangBianBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.KangHuangBianJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.KangHuangBianJieGuo2"></td></tr><tr><td colspan="2" class="xl82" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.BoLiQiangLi2BiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.BoLiQiangLi2JieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.BoLiQiangLi2JieGuo2"></td><th colspan="5" rowspan="2" class="xl113" width="360"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasDuanLieShenChangLv"> 断裂伸长率</th><th colspan="4" class="xl77" width="288">断裂标距</th><td colspan="4" class="xl118" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DuanLieBiaoJuBiaoZhun2"></td><td class="xl68" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DuanLieBiaoJuJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DuanLieBiaoJuJieGuo2"></td></tr><tr><th colspan="6" rowspan="2" class="xl100" width="432"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasTanXingShenChangLv"> 弹性伸长率 <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TanXingShenChangLv" class="inline-input" style="max-width:20px">（kgf/N/磅）</th><th class="xl67" width="72">经向</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.TanXingShenChangLvJingXiangBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.TanXingShenChangLvJingXiang1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.TanXingShenChangLvJingXiang2"></td><th colspan="4" class="xl77" width="288">断裂伸长率</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DuanLieShenChangLvBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DuanLieShenChangLvJieGuo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.DuanLieShenChangLvJieGuo2"></td></tr><tr><th class="xl67" width="72">纬向</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.TanXingShenChangLvWeiXiangBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.TanXingShenChangLvWeiXiang1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.TanXingShenChangLvWeiXiang2"></td><th colspan="5" rowspan="2" class="xl105" width="360"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasLaShenQiangDu"> 拉伸强度</th><th colspan="4" class="xl77" width="288">最大力值</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.LaShenQiangDuZuiDaLiZhiBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.LaShenQiangDuZuiDaLiZhi1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.LaShenQiangDuZuiDaLiZhi2"></td></tr><tr><th colspan="6" rowspan="2" class="xl100" width="432"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasNaiZaoXiSeLaoDu"> 耐皂洗色牢度（级）</th><th class="xl67" width="72">变色</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.NaiZaoXiBianSeBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiZaoXiBianSe1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiZaoXiBianSe2"></td><th colspan="4" class="xl77" width="288">拉伸强度</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.LaShenQiangDuLaShenQiangDuBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.LaShenQiangDuLaShenQiangDu1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.LaShenQiangDuLaShenQiangDu2"></td></tr><tr><th class="xl67" width="72">沾色</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.NaiZaoXiSeLaoDuZhanSeBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiZaoXiSeLaoDuZhanSe1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiZaoXiSeLaoDuZhanSe2"></td><th colspan="5" rowspan="2" class="xl105" width="360"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasSiLieQiangDu"> 撕裂强度</th><th colspan="4" class="xl77" width="288">最大撕裂力值</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiLieQiangDuZuiDaSiLieLiZhiBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiLieQiangDuZuiDaSiLieLiZhi1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiLieQiangDuZuiDaSiLieLiZhi2"></td></tr><tr><th colspan="6" rowspan="2" class="xl100" width="432"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasNaiShuiXiSeLaoDu"> 耐水洗色牢度（级）</th><th class="xl67" width="72">变色</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.NaiShuiXiSeLaoDuBianSeBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiShuiXiSeLaoDuBianSe1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiShuiXiSeLaoDuBianSe2"></td><th colspan="4" class="xl77" width="288">撕裂强度</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiLieQiangDuSiLieQiangDuBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiLieQiangDuSiLieQiangDu1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.SiLieQiangDuSiLieQiangDu2"></td></tr><tr><th class="xl67" width="72">沾色</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.NaiShuiXiSeLaoDuZhanSeBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiShuiXiSeLaoDuZhanSe1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiShuiXiSeLaoDuZhanSe2"></td><th colspan="9" class="xl82" width="648"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasFenHuangBian"> 酚黄变</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.FenHuangBianBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.FenHuangBian1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.FenHuangBian2"></td></tr><tr><th colspan="6" rowspan="2" class="xl100" width="432"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasNaiHanZiSeLaoDu"> 耐汗渍色牢度（级）</th><th class="xl67" width="72">变色</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.NaiHanZiSeLaoDuBianSeBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiHanZiSeLaoDuBianSe1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiHanZiSeLaoDuBianSe2"></td><th colspan="9" class="xl77" width="648"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasJiaQuan"> 甲醛含量（PPM）</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.JiaQuanBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.JiaQuan1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.JiaQuan2"></td></tr><tr><th class="xl67" width="72">沾色</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.NaiHanZiSeLaoDuZhanSeBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiHanZiSeLaoDuZhanSe1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiHanZiSeLaoDuZhanSe2"></td><th colspan="9" class="xl77" width="648"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasPH"> PH值</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.PHBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.PH1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.PH2"></td></tr><tr><th colspan="6" rowspan="2" class="xl100" width="432"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasNaiMoCaSeLaoDu"> 耐摩擦色牢度（级）</th><th class="xl67" width="72">干摩</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.GanMoBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.GanMo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.GanMo2"></td><th colspan="9" class="xl77" width="648"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasXiHouNiuDu"> 洗后扭度（度）</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiHouNiuDuBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiHouNiuDu1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiHouNiuDu2"></td></tr><tr><th class="xl67" width="72">湿摩</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.ShiMoBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.ShiMo1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.ShiMo2"></td><th colspan="5" rowspan="2" class="xl105" width="360"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasXiDiSuoShuiLv"> 洗涤缩水率</th><th colspan="4" class="xl93" width="288">经向</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiDiSuoShuiLvJingXiangBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiDiSuoShuiLvJingXiang1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiDiSuoShuiLvJingXiang2"></td></tr><tr><th colspan="7" class="xl99" width="504"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasNaiReSeLaoDu"> 耐热压色牢度T</th><td colspan="2" class="xl77" width="144"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.NaiReSeLaoDuBiaoZhun2"></td><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiReSeLaoDu1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.NaiReSeLaoDu2"></td><th colspan="4" class="xl93" width="288">纬向</th><td colspan="4" class="xl77" width="288"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiDiSuoShuiLvWeiXiangBiaoZhun2"></td><td class="xl66" width="72"><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiDiSuoShuiLvWeiXiang1"> <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.XiDiSuoShuiLvWeiXiang2"></td></tr><tr><td colspan="27" rowspan="2" class="xl100" width="1944">其他检测项目及要求： <textarea ng-disabled="stateType != \'dataEntry\'" name="" id="" cols="50" rows="3" ng-model="data.QiTaYaoQiu"></textarea></td></tr><tr><span lang="EN-US"></span></tr><tr><td colspan="10" class="xl100" width="720">评定： <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="HeGe" ng-model="data.PingDing">合格 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BuHeGe" ng-model="data.PingDing">不合格 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="KaiFaCeShi" ng-model="data.PingDing">开发测试，不做判定</td><td colspan="17" rowspan="3" class="xl105" width="1224"></td></tr><tr></tr><tr><td colspan="10" class="xl99" width="720">不合格处理： <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.BuHeGeChuLi"></td></tr><tr><td colspan="27" class="xl99" width="1944">备注：检测仅对来样负责</td></tr><tr><td colspan="27" class="xl99" width="1944">余样记录： <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DiuQi" ng-model="data.YuYangJiLu">丢弃 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="WuYuYang" ng-model="data.YuYangJiLu">无余样 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="TuiHui" ng-model="data.YuYangJiLu">退回</td></tr></tbody></table><span ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}} 于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false)"><span></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span></span> 通过</button></section></form></section></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/checkforms/forms/form4.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>疲劳拉伸测试报告</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span></span> 回到主页</a></section></cm-side-menu-content-header><style>\n      .inline-input {\n        border-top: hidden;\n        border-left: hidden;\n        border-right: hidden;\n        border-bottom: 1px solid black;\n\n      }\n\n      .short {\n        max-width: 60px;\n      }\n\n      th{\n        text-align: center;\n      }\n\n      td{\n        text-align: center;\n      }\n    </style><section><form name="form" novalidate=""><center><h3>疲劳拉伸测试报告</h3></center><div class="row"><div class="col-xs-3">选择步骤*：<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div></div><hr><table class="table table-bordered table-condensed"><tbody><tr><th rowspan="9">试样描述</th><th>申请部门/人</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.ShenQingBuMenOrRen"></td><th>申请日期</th><td><input type="date" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.ShenQingRiQi"></td></tr><tr><th>样品</th><th>1</th><th>2</th><th>3</th></tr><tr><th>款号</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.KuanHao1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.KuanHao2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.KuanHao3" class="inline-input"></td></tr><tr><th>颜色</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.YanSe1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.YanSe2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.YanSe3" class="inline-input"></td></tr><tr><th>数量</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuLiang1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuLiang2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuLiang3" class="inline-input"></td></tr><tr><th>要求拉伸次数</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CiShu1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CiShu2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.CiShu3" class="inline-input"></td></tr><tr><th>要求拉伸距离</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JuLi1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JuLi2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.JuLi3" class="inline-input"></td></tr><tr><td colspan="4">拉伸目的： <textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.LaShenMuDi" cols="130" rows="3"></textarea></td></tr><tr><td colspan="4">拉伸前描述： <textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.LaShenMiaoShu" cols="130" rows="3"></textarea></td></tr><tr><th colspan="5">拉伸后状况描述</th></tr><tr><th>1</th><td colspan="4"><textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuangKuangMiaoShu1" cols="150" rows="3"></textarea></td></tr><tr><th>2</th><td colspan="4"><textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuangKuangMiaoShu2" cols="150" rows="3"></textarea></td></tr><tr><th>3</th><td colspan="4"><textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuangKuangMiaoShu3" cols="150" rows="3"></textarea></td></tr></tbody><tfoot><th>结果判定</th><td colspan="4"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="HeGe" ng-model="data.JieGuo">合格 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BuHeGe" ng-model="data.JieGuo">不合格 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="KaiFaCeShi" ng-model="data.JieGuo">开发测试，不做判定</td></tfoot></table><span ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false)"><span></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span></span> 通过</button></section></form></section></cm-side-menu-content></cm-side-menu-box>'),
t.put("app/interaction/checkforms/forms/form5.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>模杯水洗报告</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span></span> 回到主页</a></section></cm-side-menu-content-header><style>\n      .inline-input {\n        border-top: hidden;\n        border-left: hidden;\n        border-right: hidden;\n        border-bottom: 1px solid black;\n        max-width: 150px;\n      }\n\n      .short {\n        max-width: 60px;\n      }\n\n      th {\n        text-align: center;\n      }\n\n      td {\n        text-align: center;\n      }\n    </style><section><form name="form" novalidate=""><center><h3>模杯水洗报告</h3></center><div class="row"><div class="col-xs-3">选择步骤*：<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div></div><hr><table class="table table-bordered table-condensed"><tbody><tr><th rowspan="4">试样描述</th><th colspan="2">申请部门</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.ShenQingBuMen"></td><th colspan="2">申请日期</th><td><input type="date" class="inline-input" ng-model="data.ShenQingRiQi"></td></tr><tr><th colspan="2">模杯杯型</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.MoBeiBeiXing"></td><th colspan="2">颜色/数量</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.YanSe">/ <input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.ShuLiang"></td></tr><tr><th style="vertical-align: middle" rowspan="2">模压条件</th><th>温度</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.MoYaTiaoJianWenDu" class="inline-input"></td><th style="vertical-align: middle" rowspan="2">贴合条件</th><th>温度</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TieHeTiaoJianWenDu" class="inline-input"></td></tr><tr><th>时间</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.MoYaTiaoJianShiJian" class="inline-input"></td><th>时间</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.TieHeTiaoJianShiJian" class="inline-input"></td></tr><tr><th colspan="7">洗涤方法选择</th></tr><tr><th colspan="2">水温</th><td colspan="5"><input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuiWen" value="LenShui">冷水 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuiWen" value="30">30℃ <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuiWen" value="40">40℃</td></tr><tr><th colspan="2">转速（转/分钟）</th><td colspan="5"><input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuanSu" value="400">400 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuanSu" value="600">600 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuanSu" value="800">800 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ZhuanSu" value="1000">1000</td></tr><tr><th colspan="2">烘干方法</th><td colspan="5"><input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.HongGan" value="BiaoZhun">标准 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.HongGan" value="QiangLi">强力 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.HongGan" value="DieWen">低温 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.HongGan" value="QingWei">轻微</td></tr><tr><th colspan="2">洗涤次数（次）</th><td colspan="5"><input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiCiShu" value="3">3 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiCiShu" value="5">5 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiCiShu" value="10">10 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiCiShu" value="15">15 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiCiShu" value="20">20 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiCiShu" value="25">25</td></tr><tr><th colspan="2">洗涤剂（2g/次）</th><td colspan="5"><input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiJi" value="Jia">加 <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="data.XiDiJi" value="BuJia">不加</td></tr><tr><th colspan="2">其他要求</th><td colspan="5"><textarea ng-disabled="stateType != \'dataEntry\'" cols="120" rows="3" ng-model="data.QiTaYaoQiu"></textarea></td></tr></tbody></table><table id="data" class="table table-bordered table-condensed" style="margin-top: -20px"><tbody><tr><th colspan="13">洗涤过程记录及结果判定</th></tr><tr><th rowspan="2">次数</th><th colspan="4"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasQiZhouQiMao">起皱/起毛程度</th><th colspan="4"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasTuoJiaoQiPao">脱胶/起泡程度</th><th colspan="4"><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasBaoKou">爆口程度</th><th rowspan="2">操作</th></tr><tr><th>1</th><th>2</th><th>3</th><th>4</th><th>1</th><th>2</th><th>3</th><th>4</th><th>1</th><th>2</th><th>3</th><th>4</th></tr><tr ng-repeat="row in data.listData"><td>{{$index+1}}</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.QiZhouQiMao1"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.QiZhouQiMao2"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.QiZhouQiMao3"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.QiZhouQiMao4"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.TuoJiaoQiPao1"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.TuoJiaoQiPao2"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.TuoJiaoQiPao3"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.TuoJiaoQiPao4"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.BaoKou1"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.BaoKou2"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.BaoKou3"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="row.BaoKou4"></td><td><a ng-click="del(row)" class="btn btn-link">删除</a></td></tr><tr><td colspan="13"></td><td colspan="1"><button class="btn btn-link" ng-click="add()">添加</button></td></tr></tbody><tfoot></tfoot></table><span ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false)"><span></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span></span> 通过</button></section></form></section></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/checkforms/forms/form6.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>成品洗涤测试报告</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span></span> 回到主页</a></section></cm-side-menu-content-header><style>\n      .inline-input {\n        border-top: hidden;\n        border-left: hidden;\n        border-right: hidden;\n        border-bottom: 1px solid black;\n\n      }\n\n      .short {\n        max-width: 60px;\n      }\n      input.input-warning {\n        border: 1px solid orange!important;\n      }\n\n      input.ng-invalid {\n        border: 1px solid red;\n      }\n\n      input.ng-untouched {\n        border-top: none;\n      !important;\n        border-left: none;\n      !important;\n        border-right: none;\n      !important;\n        border-bottom: 1px solid black;\n      !important;\n      }\n\n      select.ng-invalid {\n        border: 1px solid red;\n      }\n\n      select.ng-untouched {\n        border-top: none;\n      !important;\n        border-left: none;\n      !important;\n        border-right: none;\n      !important;\n        border-bottom: 1px solid black;\n      !important;\n      }\n      th{\n        text-align: center;\n      }\n\n      td{\n        text-align: center;\n      }\n    </style><section><form name="form" novalidate=""><center><h3>成品洗涤测试报告</h3></center><div class="row"><div class="col-xs-3">选择步骤*：<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div></div><hr><table class="table table-bordered table-condensed"><tbody><tr><th rowspan="7">试样描述</th><th>申请部门/人</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input" ng-model="data.ShenQingBuMenOrRen"></td><th>申请日期</th><td><input type="date" class="inline-input" ng-model="data.ShenQingRiQi"></td></tr><tr><th>样品</th><th>1</th><th>2</th><th>3</th></tr><tr><th>款号</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.KuanHao1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.KuanHao2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.KuanHao3" class="inline-input"></td></tr><tr><th>颜色</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.YanSe1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.YanSe2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.YanSe3" class="inline-input"></td></tr><tr><th>数量</th><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuLiang1" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuLiang2" class="inline-input"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="data.ShuLiang3" class="inline-input"></td></tr><tr><td colspan="4">洗涤目的： <textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.LaShenMuDi" cols="130" rows="3"></textarea></td></tr><tr><td colspan="4">洗涤描述： <textarea ng-disabled="stateType != \'dataEntry\'" ng-model="data.LaShenMiaoShu" cols="130" rows="3"></textarea></td></tr><tr><th colspan="5">洗涤方法选择</th></tr><tr><th>程序</th><th>温度（℃）</th><th>转数（转/分钟）</th><th>烘干</th><th>洗涤次数</th></tr><tr><td><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasMianMaZhiWu">棉麻织物</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="LengShui" ng-model="data.MianMaZhiWuWenDu">冷水 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="40" ng-model="data.MianMaZhiWuWenDu">40 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="60" ng-model="data.MianMaZhiWuWenDu">60 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="95" ng-model="data.MianMaZhiWuWenDu">95</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="400" ng-model="data.MianMaZhiWuZhuanShu">400 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="600" ng-model="data.MianMaZhiWuZhuanShu">600 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="800" ng-model="data.MianMaZhiWuZhuanShu">800 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="1000" ng-model="data.MianMaZhiWuZhuanShu">1000 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="1200" ng-model="data.MianMaZhiWuZhuanShu">1200</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BiaoZhun" ng-model="data.MianMaZhiWuHongGan">标准 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QiangLi" ng-model="data.MianMaZhiWuHongGan">强力 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DiWen" ng-model="data.MianMaZhiWuHongGan">低温 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QingWei" ng-model="data.MianMaZhiWuHongGan">轻微</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.MianMaZhiWuCiShu">次</td></tr><tr><td><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasJingXiZhiWu">精细织物</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="LengShui" ng-model="data.JingXiZhiWuWenDu">冷水 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="30" ng-model="data.JingXiZhiWuWenDu">30 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="40" ng-model="data.JingXiZhiWuWenDu">40</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="400" ng-model="data.JingXiZhiWuZhuanShu">400 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="600" ng-model="data.JingXiZhiWuZhuanShu">600 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="800" ng-model="data.JingXiZhiWuZhuanShu">800</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BiaoZhun" ng-model="data.JingXiZhiWuHongGan">标准 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QiangLi" ng-model="data.JingXiZhiWuHongGan">强力 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DiWen" ng-model="data.JingXiZhiWuHongGan">低温 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QingWei" ng-model="data.JingXiZhiWuHongGan">轻微</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.JingXiZhiWuCiShu">次</td></tr><tr><td><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasYangMaoOrShouXi">羊毛/手洗</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="LengShui" ng-model="data.YangMaoOrShouXiWenDu">冷水 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="30" ng-model="data.YangMaoOrShouXiWenDu">30 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="40" ng-model="data.YangMaoOrShouXiWenDu">40</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="400" ng-model="data.YangMaoOrShouXiZhuanShu">400 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="600" ng-model="data.YangMaoOrShouXiZhuanShu">600 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="800" ng-model="data.YangMaoOrShouXiZhuanShu">800 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="1000" ng-model="data.YangMaoOrShouXiZhuanShu">1000</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BiaoZhun" ng-model="data.YangMaoOrShouXiHongGan">标准 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QiangLi" ng-model="data.YangMaoOrShouXiHongGan">强力 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DiWen" ng-model="data.YangMaoOrShouXiHongGan">低温 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QingWei" ng-model="data.YangMaoOrShouXiHongGan">轻微</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.YangMaoOrShouXiCiShu">次</td></tr><tr><td><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasRenZaoXianWei">人造纤维</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="LengShui" ng-model="data.RenZaoXianWeiWenDu">冷水 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="30" ng-model="data.RenZaoXianWeiWenDu">30 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="40" ng-model="data.RenZaoXianWeiWenDu">40</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="400" ng-model="data.RenZaoXianWeiZhuanShu">400 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="600" ng-model="data.RenZaoXianWeiZhuanShu">600 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="800" ng-model="data.RenZaoXianWeiZhuanShu">800 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="1000" ng-model="data.RenZaoXianWeiZhuanShu">1000</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BiaoZhun" ng-model="data.RenZaoXianWeiHongGan">标准 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QiangLi" ng-model="data.RenZaoXianWeiHongGan">强力 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DiWen" ng-model="data.RenZaoXianWeiHongGan">低温 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QingWei" ng-model="data.RenZaoXianWeiHongGan">轻微</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.RenZaoXianWeiCiShu">次</td></tr><tr><td><input type="checkbox" ng-disabled="stateType != \'dataEntry\'" ng-model="data.hasKuaiSuXi">快速洗</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="LengShui" ng-model="data.KuaiSuXiWenDu">冷水 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="30" ng-model="data.KuaiSuXiWenDu">30 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="40" ng-model="data.KuaiSuXiWenDu">40</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="400" ng-model="data.KuaiSuXiZhuanShu">400 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="600" ng-model="data.KuaiSuXiZhuanShu">600 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="800" ng-model="data.KuaiSuXiZhuanShu">800 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="1000" ng-model="data.KuaiSuXiZhuanShu">1000</td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BiaoZhun" ng-model="data.KuaiSuXiHongGan">标准 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QiangLi" ng-model="data.KuaiSuXiHongGan">强力 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="DiWen" ng-model="data.KuaiSuXiHongGan">低温 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="QingWei" ng-model="data.KuaiSuXiHongGan">轻微</td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" class="inline-input short" ng-model="data.KuaiSuXiCiShu">次</td></tr><tr><th rowspan="2">其他洗涤要求</th><td colspan="4"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="JiaXiDiJi" ng-model="data.XiDiJi">加洗涤剂 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BuJiaXiDiJi" ng-model="data.XiDiJi">不加洗涤剂</td></tr><tr><td colspan="4"><textarea ng-disabled="stateType != \'dataEntry\'" cols="130" rows="3" ng-model="data.XiDiYaoQiu"></textarea></td></tr><tr><th colspan="5">水洗后试样描述</th></tr><tr><th>1</th><td colspan="4"><textarea ng-disabled="stateType != \'dataEntry\'" cols="130" rows="3" ng-model="data.ShuiXiHouShiYangMiaoShu1"></textarea></td></tr><tr><th>2</th><td colspan="4"><textarea ng-disabled="stateType != \'dataEntry\'" cols="130" rows="3" ng-model="data.ShuiXiHouShiYangMiaoShu2"></textarea></td></tr><tr><th>3</th><td colspan="4"><textarea ng-disabled="stateType != \'dataEntry\'" cols="130" rows="3" ng-model="data.ShuiXiHouShiYangMiaoShu3"></textarea></td></tr></tbody><tfoot><th>结果判定</th><td colspan="4"><input type="radio" ng-disabled="stateType != \'dataEntry\'" value="HeGe" ng-model="data.JieGuo">合格 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="BuHeGe" ng-model="data.JieGuo">不合格 <input type="radio" ng-disabled="stateType != \'dataEntry\'" value="KaiFaCeShi" ng-model="data.JieGuo">开发测试，不做判定</td></tfoot></table><span ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false)"><span></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span></span> 通过</button></section></form></section></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/checkforms/forms/form7.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>海绵检验记录</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span></span> 回到主页</a></section></cm-side-menu-content-header><style>\n      input.input-warning {\n        border: 1px solid orange!important;\n      }\n      .inline-input {\n        border-top: hidden;\n        border-left: hidden;\n        border-right: hidden;\n        border-bottom: 1px solid black;\n        max-width: 150px;\n      }\n\n      .short {\n        max-width: 60px;\n      }\n\n      th {\n        text-align: center;\n      }\n\n      td {\n        text-align: center;\n      }\n    </style><section><form name="form" novalidate=""><center><h3>海绵检验记录</h3></center><div class="row"><div class="col-xs-3">选择步骤*：<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div><div class="col-xs-3">到料日期：<span>{{info.ArriveTime | date:\'yyyy-MM-dd\'}}</span></div><div class="col-xs-3">供货商：<input ng-disabled="stateType != \'dataEntry\'" type="text" class="inline-input" ng-model="data.GongHuoShang"></div></div><hr><table class="table table-bordered table-condensed"><thead><tr><th rowspan="2">品名货号</th><th rowspan="2">到料数</th><th rowspan="2">抽验数</th><th rowspan="2">卷号</th><th colspan="2">规格</th><th>色泽</th><th>手感</th><th>气孔</th><th>瑕疵</th><th colspan="2">密度</th><th rowspan="2">结果</th><th ng-if="stateType==\'dataEntry\'" rowspan="2">操作</th><th ng-if="stateType!=\'dataEntry\'" rowspan="2">检验员</th></tr><tr><th>标准值</th><th>实测</th><th>同比不低于四级</th><th>整批对比</th><th colspan="2">参照技术要求和标准</th><th>标准值</th><th>实测</th></tr></thead><tbody id="data"><tr ng-repeat="row in data.listData"><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.PinMingHuoHao" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.DaoLiaoShu" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.ChouYanShu" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.JuanHao" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.GuiGeBiaoZhunZhi" class="inline-input short">± <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.GuiGeBiaoZhunPianCha" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.GuiGeShiCe" ng-class="{\'input-warning\':!validateScale(row.GuiGeBiaoZhunZhi,row.GuiGeBiaoZhunPianCha,row.GuiGeShiCe)}" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.SeZe" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.ShouGan" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.QiKong" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.XiaCi" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.MiDuBiaoZhunZhi" class="inline-input short">± <input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.MiDuBiaoZhunPianCha" class="inline-input short"></td><td><input type="text" ng-disabled="stateType != \'dataEntry\'" ng-model="row.MiDuShiCe" ng-class="{\'input-warning\':!validateScale(row.MiDuBiaoZhunZhi,row.MiDuBiaoZhunPianCha,row.MiDuShiCe)}" class="inline-input short"></td><td><input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="row.SaoMiaoJieGuo" value="OK">OK <input type="radio" ng-disabled="stateType != \'dataEntry\'" ng-model="row.SaoMiaoJieGuo" value="NG">NG</td><td><a ng-if="stateType==\'dataEntry\'" ng-click="del(row)" class="btn btn-link">删除</a> <span ng-bind="row.Inspector" ng-if="stateType!=\'dataEntry\'"></span></td></tr></tbody><tfoot><tr><td><button ng-if="stateType==\'dataEntry\'" ng-click="add()" class="btn btn-link">添加</button></td><td colspan="13"></td></tr><tr><td colspan="14">试模压： <input type="radio" ng-model="data.ShiMoYa" value="HeGe">合格 <input type="radio" ng-model="data.ShiMoYa" value="BuHeGe">不合格 |气味： <input type="radio" ng-model="data.QiWei" value="QingWei">轻微 <input type="radio" ng-model="data.QiWei" value="YanZhong">严重 |结果： <input type="radio" ng-model="data.JieGuo" value="HeGe">合格 <input type="radio" ng-model="data.JieGuo" value="BuHeGe">不合格 <input type="radio" ng-model="data.JieGuo" value="WuBiaoZhun">无标准，不作判定</td></tr></tfoot></table><span ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false)"><span></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span></span> 通过</button></section></form></section></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/checkforms/forms/form8.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px"><cm-side-menu-content-header><section class="title"><h2>白油检验记录</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span></span> 回到主页</a></section></cm-side-menu-content-header><style>\n      input.input-warning {\n        border: 1px solid orange!important;\n      }\n      .inline-input {\n        border-top: hidden;\n        border-left: hidden;\n        border-right: hidden;\n        border-bottom: 1px solid black;\n        max-width: 150px;\n      }\n\n      .short {\n        max-width: 60px;\n      }\n\n      th {\n        text-align: center;\n      }\n\n      td {\n        text-align: center;\n      }\n    </style><section><form name="form" novalidate=""><center><h3>白油检验记录</h3></center><div class="row"><div class="col-xs-3">选择步骤*：<select ng-model="data.selectedStep" required=""><option value="{{x.value}}" ng-repeat="x in data.step | filter:{name:\'!审核\'}">{{x.name}}</option></select></div><div class="col-xs-3">到料日期：<span>{{info.ArriveTime | date:\'yyyy-MM-dd\'}}</span></div><div class="col-xs-3">供货商：<input ng-disabled="stateType != \'dataEntry\'" type="text" class="inline-input" ng-model="data.GongHuoShang"></div><div class="col-xs-3">送货单号：<input ng-disabled="stateType != \'dataEntry\'" type="text" class="inline-input" ng-model="data.SongHuoDanHao"></div></div><div class="row"><div class="col-xs-3">到货数量： <span ng-bind="info.DaoLiaoZongShu"></span></div><div class="col-xs-3">检验数量：<input ng-disabled="stateType != \'dataEntry\'" type="text" class="inline-input" ng-model="data.totalCount"></div></div><hr><table class="table table-bordered table-condensed"><thead><tr><th>桶号</th><th>标识数</th><th>实测数</th><th>标识是否清楚</th><th>外包装是否破损</th><th>有无杂质</th><th>颜色（无色透明）</th><th>有无异味</th><th>结果</th><th ng-if="stateType==\'dataEntry\'" rowspan="2">操作</th><th ng-if="stateType!=\'dataEntry\'" rowspan="2">检验员</th></tr></thead><tbody id="data"><tr ng-repeat="row in data.listData"><td><input ng-disabled="stateType != \'dataEntry\'" type="text" class="inline-input short" ng-model="row.TongHao"></td><td><input ng-disabled="stateType != \'dataEntry\'" type="text" class="inline-input short" ng-model="row.BiaoZhiShu"></td><td><input ng-disabled="stateType != \'dataEntry\'" type="text" class="inline-input short" ng-model="row.ShiCeShu" ng-class="{\'input-warning\':Float(row.ShiCeShu)<Float(row.BiaoZhiShu)}"></td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="Shi" ng-model="row.BiaoZhi">是 <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="Fou" ng-model="row.BiaoZhi">否</td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="Shi" ng-model="row.WaiBaoZhuang">是 <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="Fou" ng-model="row.WaiBaoZhuang">否</td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="You" ng-model="row.ZaZhi">有 <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="Wu" ng-model="row.ZaZhi">无</td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="ZhengChang" ng-model="row.YanSe">正常 <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="YiChang" ng-model="row.YanSe">异常</td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="You" ng-model="row.YiWei">有 <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="Wu" ng-model="row.YiWei">无</td><td><input ng-disabled="stateType != \'dataEntry\'" type="radio" value="OK" ng-model="row.JieGuo">OK <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="NG" ng-model="row.JieGuo">NG</td><td><a ng-click="data.listData.splice(data.listData.indexOf(row),1)" class="btn btn-link" ng-if="stateType == \'dataEntry\'">删除</a> <span ng-bind="row.Inspector" ng-if="stateType!=\'dataEntry\'"></span></td></tr></tbody><tfoot><tr><td><button ng-if="stateType==\'dataEntry\'" ng-click="add()" class="btn btn-link">添加</button></td><td colspan="13"></td></tr><tr><td colspan="5">备注： <textarea ng-disabled="stateType != \'dataEntry\'" name="" id="" cols="80" rows="3" ng-model="data.BeiZhu"></textarea></td><td colspan="5">判定： <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="HeGe" ng-model="data.PanDing">合格 <input ng-disabled="stateType != \'dataEntry\'" type="radio" value="BuHeGe" ng-model="data.PanDing">不合格</td></tr></tfoot></table><span ng-show="stateType == \'dataEntry\'">带*的项目为必填项，填写错误的项目会用红色的方框圈出</span> <span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button class="btn btn-default pull-right" ng-disabled="!form.$valid" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span></span> 提交</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType == \'dataEntry\'" ng-click="sub(false)"><span></span> 保存</button><section ng-show="stateType != \'dataEntry\' && !info.check"><button style="margin-right: 10px" class="btn btn-default pull-right" ng-click="pass()"><span></span> 通过</button></section></form></section></cm-side-menu-content></cm-side-menu-box>'),
t.put("app/interaction/checkforms/forms/form9.html",'<cm-side-menu-box cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu style="width: 60px"></cm-side-menu><cm-side-menu-content style="left:60px;overflow-x: hidden"><cm-side-menu-content-header><section class="title"><h2>材料验收记录（面料，花边）</h2></section><section class="toolbar"><a href="#" class="btn btn-link"><span class="ion-home"></span> 回到主页</a></section></cm-side-menu-content-header><section><center><h3>材料验收记录（面料，花边）</h3></center><form name="form" novalidate=""><div class="row"><div class="col-xs-3">到料日期：<span>{{info.ArriveTime | date:\'yyyy-MM-dd\'}}</span></div><div class="col-xs-2">货号：<span>{{info.ProductNo}}</span></div><div class="col-xs-2">色号：<span>{{info.ColorNo}}</span></div><div class="col-xs-2">材料名称： {{info.CaiLiaoMingCheng}}</div><div class="col-xs-3">到料总数： <span ng-bind="info.DaoLiaoZongShu"></span></div></div><div class="row" style="margin-top:10px"><div class="col-xs-3">检验数：{{totalCount}}</div><div class="col-xs-2">A/B类别：<select ng-disabled="stateType!=\'dataEntry\'" ng-model="data.LeiBie"><option value="A">A</option><option value="B">B</option></select></div><div class="col-xs-2">供应商：{{info.GongYingShang}}</div><div class="col-xs-2">步骤*：<select ng-disabled="stateType!=\'dataEntry\'" ng-model="data.selectedStep" required=""><option ng-repeat="x in data.step | filter:{name:\'!审核\'}" value="{{x.value}}">{{x.name}}</option></select></div><div class="col-xs-3">产品种类：{{info.CaiLiaoDaLei}}</div></div><div class="row"></div><hr>填写项目： <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasKuanDuOrGuiGe">宽度/规格 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasCiDian">疵点 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasDuiChenXingOrWanQuDu"> 对称性 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasKeZhong"> 克重<input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasHouDu"> 厚度/扭斜角 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasHuaXingXunHuan"> 花型循环 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.XiangMuFlag.hasShuiXi"> 水洗<div class="row" style="overflow-x: auto; padding: 10px 10px 10px 10px"><table class="table table-bordered table-condensed ng-animinate"><thead><tr><th rowspan="2">卷号</th><th rowspan="2">缸号</th><th rowspan="1" colspan="{{5}}">数量( 米 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.MiIsChecked"> 片 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.PianIsChecked"> 个 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.GeIsChecked"> 付 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.FuIsChecked"> 枚 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.MeiIsChecked"> 卷 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.JuanIsChecked"> 公斤 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShuLiang.GongJinIsChecked"> )</th><th rowspan="2">条数/接头</th><th colspan="4" ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">宽度 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.GuiGeOrKuanDu" value="KuanDu"> 规格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.GuiGeOrKuanDu" value="GuiGe"> （单位: <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" style="background: none" ng-model="data.GuiGeOrKuanDuDanWei">）</th><th colspan="2" ng-show="data.XiangMuFlag.hasCiDian">疵点</th><th colspan="2" ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">对称性 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.DuiChenXingOrWanQuDu" value="DuiChenXing">（单位: <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" style="background: none" ng-model="data.DuiChenXingOrWanQuDuDanWei">）</th><th colspan="2" ng-show="data.XiangMuFlag.hasKeZhong">克重</th><th colspan="2" ng-show="data.XiangMuFlag.hasKaiDu">开度（松紧带、肩带）</th><th colspan="2" ng-show="data.XiangMuFlag.hasHouDu">厚度<input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.HouDuOrNiuXieJiao" value="HouDu"> 扭斜角<input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.HouDuOrNiuXieJiao" value="NiuXieJiao"></th><th colspan="2" ng-show="data.XiangMuFlag.hasHuaXingXunHuan">花型循环</th><th rowspan="2" ng-show="data.XiangMuFlag.hasShuiXi">水洗</th><th rowspan="2">等级判定</th><th rowspan="2">备注</th><th rowspan="2" ng-show="stateType == \'dataEntry\'">操作</th><th rowspan="2" ng-show="stateType != \'dataEntry\'">检验员</th></tr><tr><th>皮标1</th><th>实测1</th><th>皮标2</th><th>实测2</th><th>检验数*</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">标准值</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">实测1</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">实测2</th><th ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe">实测3</th><th ng-show="data.XiangMuFlag.hasCiDian">疵点</th><th ng-show="data.XiangMuFlag.hasCiDian">记分</th><th ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">标准值</th><th ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">实测</th><th ng-show="data.XiangMuFlag.hasKeZhong">标准</th><th ng-show="data.XiangMuFlag.hasKeZhong">实测</th><th ng-show="data.XiangMuFlag.hasKaiDu">标准值</th><th ng-show="data.XiangMuFlag.hasKaiDu">实测值</th><th ng-show="data.XiangMuFlag.hasHouDu">标准</th><th ng-show="data.XiangMuFlag.hasHouDu">实测</th><th ng-show="data.XiangMuFlag.hasHuaXingXunHuan">标准</th><th ng-show="data.XiangMuFlag.hasHuaXingXunHuan">实测</th></tr></thead><tbody id="data"><tr ng-repeat="row in data.listData"><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="卷号" ng-model="row.JuanHao"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="缸号" ng-model="row.GangHao"></td><td><input type="number" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="皮标1" ng-model="row.ShuLiangPiBiao1"></td><td><input type="number" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="实测1" ng-model="row.ShuLiangShiCe1" ng-class="{\'input-warning\':comparePiBiaoShiCe(row.ShuLiangPiBiao1,row.ShuLiangShiCe1)}"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="皮标2" ng-model="row.ShuLiangPiBiao2"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="实测2" ng-model="row.ShuLiangShiCe2" ng-class="{\'input-warning\':comparePiBiaoShiCe(row.ShuLiangPiBiao2,row.ShuLiangShiCe2)}"></td><td><input type="number" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="检验数" required="" ng-change="calctotalSum(data.listData)" ng-model="row.JianYanShu"></td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="条数/接头" ng-model="row.TiaoShuOrJieTou"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.KuanDuOrGuiGeBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.KuanDuOrGuiGeBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测1" ng-class="{\'input-warning\':!validateScale(row.KuanDuOrGuiGeBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuOrGuiGeBiaoZhunPianCha,row.KuanDuOrGuiGeShiCe1)}" ng-model="row.KuanDuOrGuiGeShiCe1"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测2" ng-class="{\'input-warning\':!validateScale(row.KuanDuOrGuiGeBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuOrGuiGeBiaoZhunPianCha,row.KuanDuOrGuiGeShiCe2)}" ng-model="row.KuanDuOrGuiGeShiCe2"></td><td ng-show="data.XiangMuFlag.hasKuanDuOrGuiGe"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测3" ng-class="{\'input-warning\':!validateScale(row.KuanDuOrGuiGeBiaoZhunZhi+data.GuiGeOrKuanDuDanWei, row.KuanDuOrGuiGeBiaoZhunPianCha,row.KuanDuOrGuiGeShiCe3)}" ng-model="row.KuanDuOrGuiGeShiCe3"></td><td ng-show="data.XiangMuFlag.hasCiDian" colspan="2"><a ng-click="CiDianRecord(row.CiDian,row.JiDianOrJiFen)" class="btn btn-link">录入</a><select ng-model="row.JiDianOrJiFen"><option value="JiDian">记点</option><option value="JiFen">记分</option></select><span ng-repeat="mis in row.CiDian"><span ng-if="row.JiDianOrJiFen == \'JiDian\'">{{mis.count}}x{{mis.mistake.label}}</span> <span ng-if="row.JiDianOrJiFen == \'JiFen\'">{{mis.score}}分{{mis.mistake.label}}</span></span></td><td ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu">≤ <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.DuiChenXingOrWanQuDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasDuiChenXingOrWanQuDu"><input type="number" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="" ng-model="row.DuiChenXingOrWanQuDuShiCe"></td><td ng-show="data.XiangMuFlag.hasKeZhong"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.KeZhongBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.KeZhongBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasKeZhong"><input type="number" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'input-warning\':!validateScale(row.KeZhongBiaoZhunZhi, row.KeZhongBiaoZhunPianCha,row.KeZhongShiCe)}" ng-model="row.KeZhongShiCe"></td><td ng-show="data.XiangMuFlag.hasKaiDu"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.KaiDuBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.KaiDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasKaiDu"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'input-warning\':!validateScale(row.KaiDuBiaoZhunZhi, row.KaiDuBiaoZhunPianCha,row.KaiDuShiCe)}" ng-model="row.KaiDuShiCe"></td><td ng-show="data.XiangMuFlag.hasHouDu">≤ <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.HouDuBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasHouDu"><input type="number" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'input-warning\':!validateScale(row.HouDuBiaoZhunZhi, row.HouDuBiaoZhunPianCha,row.HouDuShiCe)}" ng-model="row.HouDuShiCe"></td><td ng-show="data.XiangMuFlag.hasHuaXingXunHuan"><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="标准" ng-model="row.HuaXingBiaoZhunZhi">± <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="偏差" ng-model="row.HuaXingBiaoZhunPianCha"></td><td ng-show="data.XiangMuFlag.hasShuiXi"><input type="radio" ng-model="row.ShuiXi" value="HeGe">合格 <input type="radio" ng-model="row.ShuiXi" value="BuHeGe">不合格</td><td ng-show="data.XiangMuFlag.hasHuaXingXunHuan"><input type="number" ng-readonly="stateType!=\'dataEntry\'" class="input-short" placeholder="实测" ng-class="{\'inpuFt-warning\':!validateScale(row.HuaXingBiaoZhunZhi, row.HuaXingBiaoZhunPianCha,row.HuaXingShiCe)}" ng-model="row.HuaXingShiCe"></td><td><input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="row.DengJiPanDing" value="A">A <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="row.DengJiPanDing" value="C">C</td><td><input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" placeholder="备注" ng-model="row.BeiZhu"></td><td ng-show="stateType == \'dataEntry\'"><a class="btn btn-link" ng-click="del(row)">删除</a></td><td ng-show="stateType != \'dataEntry\'"><span>{{row.Inspector}}</span></td></tr></tbody><tfoot><tr><td colspan="1"><button class="btn btn-link" ng-click="add()">添加</button></td><td colspan="8">1、对色：与标准色卡比对 <input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.hasBiaoZhunSeKa"> <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.BiaoZhunSeKa" class="input-short"> 级，与材料封样比对<input type="checkbox" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.hasCaiLiaoFengYang"> <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.CaiLiaoFengYang" class="input-short"> 级<br>*渐变色差：<input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.JianBianSeCha" class="input-short"> 级<br>2、气味 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="ZhengChang" ng-model="data.QiWei">正常 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="BuZhengChang" ng-model="data.QiWei">不正常，有 <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.QiWeiBeiZhu" class="input-short">味<br>3、氨纶实验结果 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.AnLunShiYan" value="HeGe"> 合格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.AnLunShiYan" value="BuHeGe"> 不合格<br>4、印花正、反面：<input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ZhengFanMian" value="ZhengQue">正确 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ZhengFanMian" value="BuZhengQue">不正确<br>5、料样手感： <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.ShouGan" class="input-common"><br>6、印花方向及纱向：<input type="radio" ng-disabled="stateType!=\'dataEntry\'" ng-model="data.ShaXiang" value="ZhengQue">正确<input value="BuZhengQue" ng-model="data.ShaXiang" type="radio">不正确<br>7、材料疵点主要问题说明： <textarea name="" id="" cols="45" rows="3" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.CaiLiaoCiDianZhuYaoWenTi"></textarea><br>8、实花高：标准值：<input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" ng-model="data.ShiHuaGaoBiaoZhun"> 实测值：<input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" ng-model="data.ShiHuaGaoShiCe"><br>9、 实花宽：标准值：<input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" ng-model="data.ShiHuaKuanBiaoZhun"> 实测值：<input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" ng-model="data.ShiHuaKuanShiCe"> 10、滴水测试： <input type="text" ng-readonly="stateType!=\'dataEntry\'" class="input-common" ng-model="data.DiShui"></td><td colspan="99">结论： <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="HeGe" ng-model="data.JieLun">合格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="BuHeGe" ng-model="data.JieLun">不合格 <input type="radio" ng-disabled="stateType!=\'dataEntry\'" value="BuZuoPanDing" ng-model="data.JieLun">不作判定 <input type="text" ng-readonly="stateType!=\'dataEntry\'" ng-model="data.JieLunBeiZhu" class="input-common"></td></tr></tfoot></table></div><span ng-show="stateType != \'dataEntry\' && info.check">审批人：{{info.Assessor}}于{{info.AssessTime}}审批</span><button ng-disabled="!form.$valid" class="pull-right btn btn-default" ng-show="stateType == \'dataEntry\'" ng-click="sub(true)"><span class="ion-checkmark"></span> 提交</button> <button class="pull-right btn btn-default" ng-show="stateType == \'dataEntry\'" style="margin-right: 10px" ng-click="sub(false)"><span class="ion-archive"></span> 保存</button> <button style="margin-right: 10px" class="btn btn-default pull-right" ng-show="stateType != \'dataEntry\' && !info.check" ng-click="pass()"><span class="ion-checkmark"></span> 通过</button></form></section></cm-side-menu-content></cm-side-menu-box><style>\n  .input-common {\n    max-width: 80px;\n    border-top: none;\n    border-bottom: 1px solid black;\n    border-right: none;\n    border-left: none;\n  }\n\n  .input-short {\n    max-width: 50px;\n    border-top: none;\n    border-bottom: 1px solid black;\n    border-right: none;\n    border-left: none;\n  }\n\n  input.input-warning {\n    border: 1px solid red!important;\n  }\n\n  input.ng-invalid {\n    border: 1px solid red;\n  }\n\n  input.ng-untouched {\n    border-top: none;\n  !important;\n    border-left: none;\n  !important;\n    border-right: none;\n  !important;\n    border-bottom: 1px solid black;\n  !important;\n  }\n\n  select.ng-invalid {\n    border: 1px solid red;\n  }\n\n  select.ng-untouched {\n    border-top: none;\n  !important;\n    border-left: none;\n  !important;\n    border-right: none;\n  !important;\n    border-bottom: 1px solid black;\n  !important;\n  }\n\n  body {\n    overflow-x: hidden;\n  }\n</style>'),t.put("app/interaction/checkforms/forms/form9_mistake.html",'<div cg-busy="{promise:myPromise,message:\'请稍后...\'}"><div class="modal-header"><h3 class="modal-title">疵点修改</h3></div><div class="modal-body"><style>\n      .modify-info-div {\n        margin-top: 5px;\n        margin-bottom: 3px;\n      }\n    </style><div class="row"><div class="col-xs-2" ng-repeat="mis in mistakeList" style="margin-top: 5px"><button ng-click="countPlus(mis)" class="btn btn-primary btn-block" style="min-height: 50px">{{mis.label}}</button></div></div><hr><div class="row"><div class="col-md-12"><table class="table table-bordered"><thead><tr><th>疵点</th><th ng-if="model.type==\'JiDian\'">记点</th><th ng-if="model.type==\'JiFen\'">记分</th><th>操作</th></tr></thead><tbody><tr ng-repeat="row in model.rowData track by $index"><td>{{row.mistake.label}}</td><td ng-if="model.type==\'JiDian\'"><input type="text" class="input-common" ng-model="row.count" style="max-width: 50px ;"></td><td ng-if="model.type==\'JiFen\'"><input type="radio" value="1" ng-model="row.score">1 <input type="radio" value="2" ng-model="row.score">2 <input type="radio" value="3" ng-model="row.score">3 <input type="radio" value="4" ng-model="row.score">4</td><td><a class="btn btn-link">删除</a></td></tr></tbody></table></div></div><hr></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">确定</button></div></div>'),t.put("app/interaction/control/design/classification.html",'<cm-side-menu-content class="control"><cm-side-menu-content-header><section class="title">查看并修改原材料检验任务分配规则</section><section class="toolbar"></section></cm-side-menu-content-header><section class="block" ng-show="0"><h4>添加新的对应</h4><section class="map"><div class="row"><div class="item"><div class="name">物料名称</div><div class="input"><input type="text"></div></div><div class="item"><div class="name">对应流程类型</div><div class="input"><select name="" id=""></select></div></div></div></section><input class="btn btn-default" type="submit" id="submit" value="添加"></section><section class="block"><h4>当前分配规则</h4><br><table class="table table-hover table-bordered"><thead><tr><th>#</th><th>物料名称</th><th>流程类型</th><th>大类</th><th>操作</th></tr></thead><tbody><tr><td></td><td><label style="width: 100%;margin: 0;"><input style="border: 0;" type="text" ng-model="subclass.Subclass"></label></td><td><label style="width: 100%;margin: 0;"><select style="border: 0;" ng-model="subclass.ProcessTypeId" ng-options="ProcessType.Id as (ProcessType.Name+\' \'+ProcessType.Id) group by ProcessType.Class for ProcessType in OptionalProcessTypes track by ProcessType.Name"><option value="" ng-show="!subclass.ProcessTypeId">-- 请选择流程类型 --</option></select></label></td><td>-</td><td><a ng-click="funcSubmitSubclass(subclass)">添加</a></td></tr><tr ng-repeat="subclass in subclasses"><td>{{ $index+1 }}</td><td>{{subclass.Subclass}}</td><td>{{subclass.Name+\' \'+subclass.ProcessTypeId}}</td><td>{{subclass.Class}}</td><td><a ng-click="funcRemoveSubclass(subclass.Id)">删除</a></td></tr></tbody></table></section></cm-side-menu-content>'),t.put("app/interaction/control/design/process.html",'<cm-side-menu-content class="control"><cm-side-menu-content-header><section class="title">查看并修改流程信息</section><section class="toolbar"><div class="button">添加新的流程</div><div class="button" ui-sref="home.control.designEditProcess({\'isEditCache\':\'cache\'})">进入缓存流程编辑</div></section></cm-side-menu-content-header><section class="block" ng-if="false"><h4>编辑流程基本信息</h4><section class="map"><div class="row"><div class="item"><div class="name">Id</div><input class="value" type="text"></div><div class="item"><div class="name">分类</div><input class="value" type="text"></div><div class="item"><div class="name">名称</div><input class="value" type="text"></div><div class="item"></div></div><div class="row"><div class="item"><div class="name">描述</div><input type="text" class="value" style="width: 67%;"></div></div></section><input class="btn btn-default" type="submit" id="submit" value="添加"></section><section class="block"><h4>当前流程列表</h4><br><table class="table table-hover table-bordered"><thead><tr><th width="15%">Id</th><th width="15%">Rev</th><th width="15%">分类</th><th width="15%">名称</th><th width="40%">描述</th><th width="15%">操作</th></tr></thead><tbody><tr ng-repeat="processType in processTypes"><td>{{processType.Id}}</td><td>{{processType.Rev}}</td><td>{{processType.Class}}</td><td>{{processType.Name}}</td><td>{{processType.Description}}</td><td><span style="cursor: pointer" ng-click="funcEditProcess(processType.Id,processType.Rev)">编辑</span></td></tr></tbody></table></section></cm-side-menu-content>'),t.put("app/interaction/control/design/source.html",'<cm-side-menu-content class="form-table control"><cm-side-menu-content-header><section class="title"><h2>配置选项数据来源</h2></section><section class="toolbar"><div class="button {{uiIsAddPanelShow?\'active\':\'\'}}" ng-click="$parent.uiIsAddPanelShow=!$parent.uiIsAddPanelShow">添加新来源</div></section></cm-side-menu-content-header><section class="block" ng-show="uiIsAddPanelShow"><h4>新的选项数据来源</h4><form name="addNewCol" ng-submit="funcCreateSource()"><section class="map"><div class="row"><div class="item"><div class="name">来源描述</div><div><input type="text" class="value" ng-model="config.Description" placeholder="描述来源内容" required=""></div></div><div class="item"><div class="name">调用名</div><div><input type="text" class="value" ng-model="config.Name" placeholder="调用使用的名称，限字母" required=""></div></div><div class="item"></div></div><div class="row"><div class="item"><div class="name">类型</div><div><label title="字面量"><input type="radio" ng-model="config.Type" id="inlineRadio1" value="value">字面量</label> <label title="SQL查询"><input type="radio" ng-model="config.Type" id="inlineRadio2" value="sql" disabled="">SQL查询</label> <label title="关联关系"><input type="radio" ng-model="config.Type" id="inlineRadio3" value="relation" disabled="">关联关系</label></div></div></div><div class="row" ng-show="config.Type===\'value\'"><div class="item"><div class="name">可选值</div><input type="text" class="value" ng-model="config.Value" ng-list="" placeholder="使用 , 分开多个选项" style="width: 60%"></div></div></section><input class="btn btn-default" type="submit" id="submit" value="提交到服务器"></form></section><section class="block"><h4>存储的选项数据来源</h4><table class="table table-hover table-bordered table-condensed"><thead><tr><th width="5%">序号</th><th width="5%">修改</th><th width="15%">来源描述</th><th width="10%">调用名</th><th width="10%">类型</th><th width="55%">可选值</th></tr></thead><tbody><tr ng-repeat="config in configs"><td>{{$index+1}}</td><td ng-click="funcDeleteSource(config.Name)" style="cursor: pointer;">删除</td><td>{{config.Description}}</td><td>{{config.Name}}</td><td>{{config.Type}}</td><td>{{config.Value}}</td></tr><tr ng-show="!(configs.length>0)"><td colspan="6" style="height: 64px;text-align:center;line-height:64px;background-color: #F4F4F4;font-size: 15px">服务器上还没有选项数据来源</td></tr></tbody></table></section><section class="block"><pre>\r\n      {{configs}}\r\n    </pre></section></cm-side-menu-content>'),t.put("app/interaction/control/feedback/new.html",'<cm-side-menu-content><cm-side-menu-content-header><section class="title"><h2>提交您的反馈</h2></section></cm-side-menu-content-header><section style="width: 67%;"><form ng-submit="funcSubmitNewFeedback(feedback)"><h5>主题</h5><input type="text" class="form-control" ng-model="feedback.Subject"><br><h5>反馈内容</h5><textarea rows="15" class="form-control" style="resize: none" ng-model="feedback.Content" required=""></textarea><br><button class="btn btn-default">提交</button></form></section></cm-side-menu-content>'),t.put("app/interaction/control/material/add_group_model.html",'<div cg-busy="{promise:myPromise,message:\'请稍后...\'}"><div class="modal-header"><h3 class="modal-title">添加项目</h3></div><div class="modal-body"><div class="row"><div class="col-md-12"><label for="">名称</label> <input type="text" ng-model="item.name" value="" class="form-control"></div><div class="col-md-12" ng-if="!isGroup"><label for="">工时</label> <input type="text" ng-model="item.time" value="" class="form-control"></div><div class="col-md-12" ng-if="!isGroup"><label for="">大类</label><select ng-model="item.cataid" class="form-control"><option ng-repeat="group in dataGroup" value="{{group.id}}">{{group.name}}</option></select></div></div></div><div class="modal-footer"><button class="btn btn-primary" type="button" ng-click="ok()">确定</button> <button class="btn btn-warning" type="button" ng-click="cancel()">取消</button></div></div>'),t.put("app/interaction/control/material/all.html",'<cm-side-menu-content cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>供应商管理</h2></section><section class="toolbar"></section></cm-side-menu-content-header><section><uib-tabset active="active"><uib-tab index="1" heading="物料管理"><hr><button class="btn btn-link" style="float: right" ng-click="add_group(single_url)">添加</button><table class="table table-bordered" style="margin-top: 10px" ng-table="single_table_params"><tbody><tr ng-repeat="row in $data | filter:{$:search}" ng-if="row.id"><td style="max-width: 50px;min-width: 50px" title="\'序号\'">{{$index+1}}</td><td title="\'名称\'" style="max-width: 250px" class="animate-switch-container" filter="{name: \'text\'}" ng-switch="" on="row.isEditting"><span ng-bind="row.name" ng-switch-default=""></span><div class="animate-switch" ng-switch-when="true" ng-class="{\'has-error\':!row.name}"><input style="max-width: 300px" type="text" ng-model="row.name" class="form-control" required=""></div></td><td title="\'大类\'" style="min-width: 250px" class="animate-switch-container" ng-switch="" on="row.isEditting"><span ng-switch-default=""><span ng-if="group.id == row.cataid" ng-repeat="group in data_group">{{group.name}}</span></span><div class="animate-switch" ng-switch-when="true" ng-class="{\'has-error\':!row.cataid}"><select ng-model="row.cataid" class="form-control"><option ng-repeat="group in data_group" value="{{group.id}}">{{group.name}}</option></select></div></td><td title="\'工时\'" style="max-width: 250px" class="animate-switch-container" ng-switch="" on="row.isEditting"><span ng-bind="row.time" ng-switch-default=""></span><div class="animate-switch" ng-switch-when="true" ng-class="{\'has-error\':!row.time}"><input style="max-width: 300px" type="text" ng-model="row.time" class="form-control" required=""></div></td><td title="\'操作\'" style="max-width: 100px"><button class="btn btn-default" ng-show="!row.isEditting" ng-click="alterRow(row,single_url)">修改</button> <button class="btn btn-default" ng-show="row.isEditting" ng-disabled="!row.name || !row.id" ng-click="save(row,single_url)">完成</button> <button class="btn btn-default" ng-show="!row.isEditting" ng-click="del(row,single_url)">删除</button><span ng-bind="row.hint"></span></td></tr></tbody></table></uib-tab><uib-tab index="0" heading="物料种类管理"><hr><button class="btn btn-link" style="float: right" ng-click="add_group(group_url)">添加</button><table class="table table-bordered" style="margin-top: 10px" ng-table="group_table_params"><tbody><tr ng-repeat="row in $data | filter:{$:search}" ng-if="row.id"><td style="max-width: 50px;min-width: 50px" title="\'序号\'">{{$index+1}}</td><td title="\'名称\'" style="max-width: 250px" class="animate-switch-container" filter="{name: \'text\'}" ng-switch="" on="row.isEditting"><span ng-bind="row.name" ng-switch-default=""></span><div class="animate-switch" ng-switch-when="true" ng-class="{\'has-error\':!row.name}"><input style="max-width: 300px" type="text" ng-model="row.name" class="form-control" required=""></div></td><td title="\'操作\'" style="max-width: 100px"><button class="btn btn-default" ng-show="!row.isEditting" ng-click="alterRow(row,group_url)">修改</button> <button class="btn btn-default" ng-show="row.isEditting" ng-disabled="!row.name || !row.id" ng-click="save(row,group_url)">完成</button> <button class="btn btn-default" ng-show="!row.isEditting" ng-click="del(row,group_url)">删除</button><span ng-bind="row.hint"></span></td></tr></tbody></table></uib-tab></uib-tabset></section></cm-side-menu-content>'),t.put("app/interaction/control/operation/record.html",'<cm-side-menu-content><cm-side-menu-content-header><section class="title"><h2>查看操作记录</h2></section></cm-side-menu-content-header><table class="table"><thead><tr><th>时间</th><th>对象</th><th>描述</th><th>操作</th><th>用户名</th><th>IP</th></tr></thead><tbody><tr ng-repeat="operation in operations"><td>{{operation.Time | date:\'MM月dd日&nbsp;&nbsp;HH:mm \'}}</td><td><a ng-click="funcGo(operation.Type,operation.Id)">{{operation.Type | FormProcessChineseFilter}}&nbsp;{{operation.Id}}</a></td><td>{{operation.Description}}</td><td>{{operation.Operation}}</td><td>{{operation.Username}}</td><td>{{operation.IP}}</td></tr></tbody></table></cm-side-menu-content>'),t.put("app/interaction/control/supplier/all.html",'<cm-side-menu-content cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>供应商管理</h2></section><section class="toolbar"><button class="btn btn-link" style="float: right" ng-click="add()">添加</button></section></cm-side-menu-content-header><section><table class="table table-bordered"><thead><tr><th>序号</th><th>供应商代码</th><th>供应商名称</th><th>操作</th></tr></thead><tr ng-repeat="row in data"><td style="max-width: 50px;min-width: 50px">{{$index+1}}</td><td style="min-width: 250px" class="animate-switch-container" ng-switch="" on="row.isEditting"><span ng-bind="row.code" ng-switch-default=""></span><div class="animate-switch" ng-switch-when="true"><input style="max-width: 300px" type="text" ng-model="row.code" class="form-control" required=""></div></td><td style="min-width: 250px" class="animate-switch-container" ng-switch="" on="row.isEditting"><span ng-bind="row.name" ng-switch-default=""></span><div class="animate-switch" ng-switch-when="true" ng-class="{\'has-error\':!row.name}"><input style="max-width: 300px" type="text" ng-model="row.name" class="form-control" required=""></div></td><td style="max-width: 100px"><button class="btn btn-default" ng-show="!row.isEditting" ng-click="alterRow(row)">修改</button> <button class="btn btn-default" ng-show="row.isEditting" ng-disabled="!row.name" ng-click="save(row)">完成</button> <button class="btn btn-default" ng-show="!row.isEditting" ng-click="del(row)">删除</button><span ng-bind="row.hint"></span></td></tr></table></section></cm-side-menu-content>'),t.put("app/interaction/control/unit/all.html",'<cm-side-menu-content cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>供应商管理</h2></section><section class="toolbar"><button class="btn btn-link" style="float: right" ng-click="add()">添加</button></section></cm-side-menu-content-header><section><table class="table table-bordered"><thead><tr><th>序号</th><th>名字</th><th>操作</th></tr></thead><tr ng-repeat="row in data"><td style="max-width: 50px;min-width: 50px">{{$index+1}}</td><td style="min-width: 250px" class="animate-switch-container" ng-switch="" on="row.isEditting"><span ng-bind="row.name" ng-switch-default=""></span><div class="animate-switch" ng-switch-when="true"><input style="max-width: 300px" type="text" ng-model="row.name" class="form-control" required=""></div></td><td style="max-width: 100px"><button class="btn btn-default" ng-show="!row.isEditting" ng-click="alterRow(row)">修改</button> <button class="btn btn-default" ng-show="row.isEditting" ng-disabled="!row.name" ng-click="save(row)">完成</button> <button class="btn btn-default" ng-show="!row.isEditting" ng-click="del(row)">删除</button><span ng-bind="row.hint"></span></td></tr></table></section></cm-side-menu-content>'),
t.put("app/interaction/control/user/all.html",'<cm-side-menu-content ng-controller="ControlUserCtrl as vm" cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>用户管理</h2></section><section class="toolbar"><button class="btn btn-link" style="float: right" ng-click="vm.addNew();">添加用户</button></section></cm-side-menu-content-header><section><table class="table table-striped"><thead><tr><th>工号</th><th>姓名</th><th>部门</th><th>岗位</th><th><span class="pull-right" style="padding-left:12px;padding-right:12px;">修改</span></th></tr></thead><tbody><tr ng-repeat="model in vm.history"><td>{{model.ID}}</td><td>{{model.Name}}</td><td ng-repeat="department in vm.departments | filter:{value:model.DepartmentID}">{{department.name || 1}}</td><td ng-repeat="job in vm.jobs | filter:{value:model.JobID}">{{job.name || 1}}</td><td><button class="btn btn-link pull-right" ng-click="vm.edit(model,false)">修改</button> <button class="btn btn-link pull-right" ng-click="vm.del(model)">删除</button></td></tr></tbody></table></section></cm-side-menu-content>'),t.put("app/interaction/control/user/modify.html",'<div cg-busy="{promise:myPromise,message:\'请稍后...\'}"><div class="modal-header"><h3 class="modal-title">添加或修改用户</h3></div><div class="modal-body"><form name="vm.form2"><formly-form model="vm.formData.model" fields="vm.formData.fields" form="vm.form" options="vm.formData.options"></formly-form></form><hr></div><div class="modal-footer"><button class="btn btn-primary" ng-click="vm.ok()" ng-disabled="vm.form2.$invalid">提交</button> <button class="btn btn-warning" ng-click="vm.cancel()">取消</button></div></div>'),t.put("app/interaction/process/detail/base.html",'<cm-side-menu-box><cm-side-menu style="width: 60px;box-sizing: border-box;font-size: 22px;"><div style="height: 67%;display: flex;flex-direction:column;justify-content: center;"><div ng-show="form.Status===\'2\'"><ul ng-if="false"><li class="{{uiIsReferencePanelShow?\'active\':\'\'}}" ng-click="funcSwitchReferencePanel()" style="padding: 0;"><div class="ion-ios-bookmarks" style="text-align: center;height: 100%;" title="参考"></div></li></ul><ul><li ng-click="funcSideSaveForm()" style="padding: 0;"><div class="ion-folder" style="text-align: center;height: 100%;" title="暂存"></div></li></ul><ul><li class="{{option.all.isEditable?\'\':\'active\'}}" ng-click="funcSideViewForm()" style="padding: 0;"><div class="ion-eye" style="text-align: center;height: 100%;" title="查看"></div></li><li class="{{option.all.isEditable?\'active\':\'\'}}" ng-click="funcSideEditForm()" style="padding: 0;"><div class="ion-edit" style="text-align: center;height: 100%;" title="编辑"></div></li></ul><ul></ul></div><div ng-show="form.Status!==\'2\'"><ul><li class="disabled" style="padding: 0;"><div class="ion-folder" style="text-align: center;height: 100%;" data-trigger="hover" data-type="info" data-title="保存" bs-tooltip=""></div></li></ul><ul><li class="disabled {{option.all.isEditable?\'\':\'active\'}}" style="padding: 0;"><div class="ion-eye" style="text-align: center;height: 100%;" data-trigger="hover" data-type="info" data-title="查看" bs-tooltip=""></div></li><li class="disabled {{option.all.isEditable?\'active\':\'\'}}" style="padding: 0;"><div class="ion-edit" style="text-align: center;height: 100%;" data-trigger="hover" data-type="info" data-title="编辑" bs-tooltip=""></div></li></ul><ul></ul></div></div></cm-side-menu><ng-include ng-if="state.current.name===\'home.process.detailForm\'" src="\'app/interaction/process/detail/form.html\'"></ng-include></cm-side-menu-box>'),t.put("app/interaction/process/detail/form.html",'<cm-side-menu-content style="left: 60px;"><cm-side-menu-content-header><section class="form-infomation"><div class="basic">{{formInfo.Status | FormStatusFilter}}：{{formInfo.Id}}</div><div class="edit" title="创建：由 {{formInfo.CreateUserName}} 在 {{formInfo.CreateTime | date:\'MM/dd hh:mm:ss\'}}">最后修改：由 {{formInfo.LastModifiedUserName}} 在 {{formInfo.LastModifiedTime | date:\'MM/dd hh:mm:ss\'}}</div></section><section class="toolbar"><div class="button" ng-show="formInfo.Status===\'2\'&&!uiIsAutoSaveFormData" ng-click="funcSaveToServer()">暂存</div><div class="button disabled" ng-show="formInfo.Status===\'2\'&&uiIsAutoSaveFormData">自动暂存中...</div><div class="button" ng-show="formInfo.Status===\'2\'" ng-click="funcSubmitForm()">提交表单</div></section></cm-side-menu-content-header><section class="block" ng-show="uiIsReferencePanelShow&&references.length"><div class="reference-switch" style="display: flex;"><div ng-repeat="ref in references" class="switcher {{$index===uiCurrentActiveReferenceIndex?\'active\':\'\'}}" ng-click="funcSwitchReference($index)" title="{{ref.Id}}">{{ref.Name}}</div></div><hr style="margin: 6px 0 12px 0;"><ng-include src="\'app/interaction/process/detail/reference.html\'"></ng-include></section><section ng-show="stateParams.ArrivalSerialNumber===\'ARRIVAL\'&&formInfo.Status===\'4\'" style="padding: 12px;margin-bottom:12px;border: 1px solid #eaf2e0;border-radius: 2px;background-color: #f6f9f0;color: darkgreen;"><div style="font-size: 16px;margin-bottom: 2px">该收货报告有问题？<a ng-click="funcRedoForm(formInfo.Id)">点击这里</a> <span style="opacity: 0.9;">重新编辑该表单。</span></div><div style="opacity: 0.6;font-size: 14px">提交后将重新生成检验任务，前后没有变化的检验任务不受到影响。</div><div style="opacity: 0.6;font-size: 14px">该报告生成的检验任务链接： <a ng-repeat="asn in formInfo.Parameter.processes" ui-sref="home.process.detailInfo({ArrivalSerialNumber:asn})">{{asn}}</a></div></section><div><section style="padding: 12px;border: 1px solid #f2f2f2;border-radius: 2px;background-color: #f9f9f9"><div ng-if="formConfig.fields"><formly-form model="formData" fields="formConfig.fields" form="formConfig.form" options="formConfig.options"></formly-form></div><div ng-if="formConfig.template"><cm-template-load template="{{formConfig.template}}" model="formData"></cm-template-load></div></section><section><br><pre>{{formData}}</pre></section></div></cm-side-menu-content>'),t.put("app/interaction/process/detail/info.html",'<cm-side-menu-box><cm-side-menu style="width: 60px;"></cm-side-menu><cm-side-menu-content style="left: 60px;" class="rmiProcessDetailInfo"><cm-side-menu-content-header><section class="title" style="display: flex"><div style="margin: 5px 10px 0 0;"><div class="cm-table-indicator-dot" style="background-color: {{\'#\'+process.ArrivalSerialNumber}}"></div></div><h2>{{\'检验任务： \'+process.TypeName+\' ，由 \'}}<a style="cursor: pointer;" ng-click="funcViewSourceForm(process.SourceFormId)">{{\'收获报告#\'+process.SourceFormId}}</a>{{\'生成\'}}</h2></section><section class="toolbar"><div class="button">打印该检验任务</div><div class="button">打印条形码</div></section></cm-side-menu-content-header><section class="info"><div class="info-part"><h4>基本信息</h4><div class="info-container"><div class="info-col"><div class="info-kv"><div class="key">物料类型</div><div class="value">{{process.TypeClass}}-{{process.TypeName}}-{{process.Parameter.wuliaomingcheng}}</div></div><div class="info-kv"><div class="key">供应商</div><div class="value">{{process.Parameter.gongyingshang}}</div></div><div class="info-kv"><div class="key">货号</div><div class="value">{{process.Parameter.huohao}}</div></div><div class="info-kv"><div class="key">颜色</div><div class="value">{{process.Parameter.yanse}}</div></div></div><div class="info-col"><div class="info-kv"><div class="key">开始时间</div><div class="value">{{process.StartTime | date:\'yyyy年M月d日&nbsp;&nbsp;HH:mm\'}}</div></div><div class="info-kv"><div class="key">是否完成</div><div class="value" title="{{process.IsComplete}}">{{process.IsComplete|ProcessIsCompleteFilter}}<a ng-show="process.IsComplete===true||process.IsComplete===\'true\'" ng-click="funcRedoComplete(process.ArrivalSerialNumber)" style="margin-left: 8px">撤销完成状态</a></div></div><div class="info-kv" ng-show="process.IsComplete===\'false\'||process.IsComplete===\'False\'" style="margin-top: 14px;"><div class="value"><button class="btn btn-default" ng-click="funcMarkProcessWaiting(process.ArrivalSerialNumber)">标记等待确认完成</button></div></div><div class="info-kv" ng-show="process.IsComplete===\'waiting\'" style="margin-top: 14px;"><div class="value"><button class="btn btn-default" ng-click="funcMarkProcessComplete(process.ArrivalSerialNumber)">标记检验完成</button></div></div><div class="info-kv" ng-show="process.IsComplete===\'true\'"><div class="key">完成时间</div><div class="value">{{process.CompleteTime | date:\'yyyy年M月d日&nbsp;&nbsp;HH:mm\'}}</div></div><div class="info-kv" ng-show="process.IsComplete===\'true\'"><div class="key">流程时间</div><div class="value" title="历时{{((+process.CompleteTime)-(+process.StartTime))/(24*60*60*1000)|number:1}}天">{{((+process.CompleteTime)-(+process.StartTime))/(60*60*1000)|number:1}}&nbsp;小时</div></div></div></div></div><div class="info-part"><h4>流水条形码</h4><div class="info-col"><div class="info-kv"><div class="value"><cm-barcode value="process.ArrivalSerialNumber"></cm-barcode></div></div></div></div></section><section><ul class="process-node-list"><li class="process-node" ng-repeat="Node in process.Nodes | orderBy:Node.Order"><div class="process-node-container"><header class="header" ng-init="Node.uiCurrentStageTabCode=funcGetCurrentStageTabCode(Node.Available,Node.Form.Status,Node.CheckStatus); Node.uiActiveTabCode=Node.uiCurrentStageTabCode; Node.uiIsTabAvailable =[]; Node.uiIsTabAvailable[0]=true; Node.uiIsTabAvailable[1]=Node.Available&&(Node.uiCurrentStageTabCode!==0); Node.uiIsTabAvailable[2]=Node.Available&&(Node.uiCurrentStageTabCode===2||Node.uiCurrentStageTabCode===3); Node.uiIsTabAvailable[3]=Node.Available&&(Node.uiCurrentStageTabCode===3);"><h4>{{Node.Name}} · {{1|ProcessNodeStatusFilter:Node.Available:Node.Form.Status:Node.CheckStatus}}</h4><div class="tabs"><div class="tab {{(Node.uiIsTabAvailable[tab.code])?\'\':\'disabled\'}}" ng-repeat="tab in [{\'name\':\'启用\',\'code\':0},{\'name\':\'检验\',\'code\':1},{\'name\':\'审核\',\'code\':2},{\'name\':\'完成\',\'code\':3}]" ng-click="(Node.uiIsTabAvailable[tab.code])&&(Node.uiActiveTabCode=tab.code)">{{tab.name}}<div ng-if="tab.code===Node.uiActiveTabCode" class="tri ion-arrow-up-b"></div></div></div><div ng-show="Node.Available"><div ng-show="Node.Form.Status===undefined"></div><div ng-show="Node.Form.Status!==undefined"><div class="quick-edit-form" ng-show="Node.Form.Status===null||Node.Form.Status===2||Node.Form.Status===\'2\'" ng-click="funcEditForm(process.ArrivalSerialNumber,Node.Form.Id)">快捷编辑</div><div class="quick-view-form" ng-hide="Node.Form.Status===null||Node.Form.Status===2||Node.Form.Status===\'2\'" ng-click="funcViewForm(process.ArrivalSerialNumber,Node.Form.Id)">表单查看</div></div></div></header><div class="content" ng-switch="Node.uiActiveTabCode"><div ng-switch-when="0"><div ng-switch="Node.Available"><div ng-switch-when="true"><h5>检验中 <span class="description">当前项状态</span></h5><p>启用方式：{{Node.AvailableFlag |ProcessNodeAvailableFlagFilter}}</p><button ng-click="funcUpdateProcessNodeAvailableFlag(process.ArrivalSerialNumber,Node.Id,\'default\')" class="btn btn-default">恢复默认</button> <button ng-click="funcUpdateProcessNodeAvailableFlag(process.ArrivalSerialNumber,Node.Id,\'true\')" class="btn btn-default">手动启用</button> <button ng-click="funcUpdateProcessNodeAvailableFlag(process.ArrivalSerialNumber,Node.Id,\'false\')" class="btn btn-default">手动禁止</button></div><div ng-switch-when="false"><p class="message">该项当前不可用<br>您可以选择 <a ng-click="funcUpdateProcessNodeAvailableFlag(process.ArrivalSerialNumber,Node.Id,\'true\')">手动启用</a></p></div><div ng-switch-default="">PAGE DISPLAY ERROR.</div></div></div><div ng-switch-when="1"><div ng-switch="Node.Form.Status"><section ng-switch-when="undefined"><h5>未创建 <span class="description">编辑状态</span></h5><p><br></p><button class="btn btn-block btn-default" ng-click="funcShortcutCreateFormAndRequestEditFormAndEditForm(process.ArrivalSerialNumber,process.TypeId,process.Rev,Node.Id)">创建并编辑</button></section><section ng-switch-when="0"><h5>未创建 <span class="description">编辑状态</span></h5><p>还未创建该检验项的报告</p><button class="btn btn-block btn-default" ng-click="funcShortcutCreateFormAndRequestEditFormAndEditForm(process.ArrivalSerialNumber,process.TypeId,process.Rev,Node.Id)">创建并编辑</button></section><section ng-switch-when="2"><h5>编辑中 <span class="description">编辑状态</span></h5><p></p><div style="line-height: 22px;color: #666;"><div>创建：{{Node.Form.CreateUserName}} {{Node.Form.CreateTime | date:\'yyyy年MM月dd日 hh:mm\'}}</div><div>最后编辑： {{Node.Form.LastModifiedUserName}}{{Node.Form.LastModifiedTime | date:\'yyyy年MM月dd日 hh:mm\'}}</div></div><p></p><button class="btn btn-block btn-default" ng-click="funcShortcutRequestEditFormAndEditForm(process.ArrivalSerialNumber,Node.Form.Id)">编辑</button> <button class="btn btn-block btn-default" ng-click="funcViewForm(process.ArrivalSerialNumber,Node.Form.Id)">查看</button> <button class="btn btn-block btn-default" ng-click="funcShortcutConfirmFormAndSubmitForm(Node.Form.Id)">提交</button><br><div><h5>检验结论<span class="description"></span></h5><label><input type="radio" ng-model="Node.Conclusion" value="空">空</label> <label><input type="radio" ng-model="Node.Conclusion" value="合格">合格</label> <label><input type="radio" ng-model="Node.Conclusion" value="不合格">不合格</label> {{Node.Conclusion}} <button class="btn btn-block btn-default" ng-click="funcUpdateProcessNodeConclusion(process.ArrivalSerialNumber,Node.Id,Node.Conclusion)">提交修改</button></div></section><section ng-switch-when="4"><h5>已提交 <span class="description">编辑状态</span></h5><p>检验报告已提交，等待审核</p><div style="line-height: 22px;color: #666;"><div>创建：{{Node.Form.CreateUserName}} {{Node.Form.CreateTime | date:\'yyyy年MM月dd日 hh:mm\'}}</div><div>最后编辑： {{Node.Form.LastModifiedUserName}}{{Node.Form.LastModifiedTime | date:\'yyyy年MM月dd日hh:mm\'}}</div></div><p></p><button class="btn btn-block btn-default" ng-click="funcViewForm(process.ArrivalSerialNumber,Node.Form.Id)">查看</button> <button class="btn btn-block btn-default" ng-click="funcRedoForm(Node.Form.Id)">撤销提交</button></section><section ng-switch-default="">PAGE DISPLAY ERROR.</section></div></div><div ng-switch-when="2"><div ng-switch="Node.CheckStatus"><section ng-switch-when="undefined"><h5>未审核 <span class="description">审核状态</span></h5><p>检验报告已提交，等待审核</p><p>检验结论： {{Node.Conclusion}}</p><button class="btn btn-block btn-default" ng-click="funcViewForm(process.ArrivalSerialNumber,Node.Form.Id)">查看</button> <button class="btn btn-block btn-default" ng-click="funcCheckPass(process.ArrivalSerialNumber,Node.Id)">审核通过</button> <button class="btn btn-block btn-default" ng-click="funcCheckDeny(process.ArrivalSerialNumber,Node.Id)">审核不通过</button></section><section ng-switch-when="0"><h5>未审核 <span class="description">审核状态</span></h5><p>检验报告已提交，等待审核</p><p>检验结论： {{Node.Conclusion}}</p><button class="btn btn-block btn-default" ng-click="funcViewForm(process.ArrivalSerialNumber,Node.Form.Id)">查看</button> <button class="btn btn-block btn-default" ng-click="funcCheckPass(process.ArrivalSerialNumber,Node.Id)">审核通过</button> <button class="btn btn-block btn-default" ng-click="funcCheckDeny(process.ArrivalSerialNumber,Node.Id)">审核不通过</button></section><section ng-switch-when="1"><h5>审核通过<span class="description">审核状态</span></h5><p>检验报告已完成审核，该检验项完成</p><p>检验结论： {{Node.Conclusion}}</p><div style="line-height: 16px;color: #666;"><div>审核人：{{Node.CheckUserName}} {{Node.CheckTime | date:\'yyyy年MM月dd日 hh:mm\'}}</div></div><p></p><button class="btn btn-block btn-default" ng-click="funcViewForm(process.ArrivalSerialNumber,Node.Form.Id)">查看</button> <button class="btn btn-block btn-default" ng-click="funcRedoCheck(process.ArrivalSerialNumber,Node.Id)">撤销审核</button></section><section ng-switch-when="2"><h5>审核不通过<span class="description">审核状态</span></h5><p>检验报告已完成审核，该检验项完成</p><p>检验结论： {{Node.Conclusion}}</p><button class="btn btn-block btn-default">查看</button> <button class="btn btn-block btn-default" ng-click="funcRedoCheck(process.ArrivalSerialNumber,Node.Id)">撤销审核</button></section><section ng-switch-default=""><h5>未审核 <span class="description">审核状态</span></h5><p>检验报告已提交，等待审核</p><p>检验结论： {{Node.Conclusion}}</p><button class="btn btn-block btn-default" ng-click="funcViewForm(process.ArrivalSerialNumber,Node.Form.Id)">查看</button> <button class="btn btn-block btn-default" ng-click="funcCheckPass(process.ArrivalSerialNumber,Node.Id)">审核通过</button> <button class="btn btn-block btn-default" ng-click="funcCheckDeny(process.ArrivalSerialNumber,Node.Id)">审核不通过</button></section></div></div><div ng-switch-when="3"><p>检验结论： {{Node.Conclusion}}</p><p class="message">该项检验已经完成<br>点击上方选项来查看详情<br><br>有问题？<a ng-click="funcRedoFormAndCheck(process.ArrivalSerialNumber,Node.Id,Node.Form.Id)">重做该检验项</a></p></div></div></div></li></ul></section></cm-side-menu-content></cm-side-menu-box>'),t.put("app/interaction/process/detail/reference.html",'<div ng-show="uiIsReferenceShow"><div style="display:flex;flex-flow: row wrap;align-items: stretch; justify-content: space-between;"><h4>{{currentReference.Name}}</h4><div style="opacity: 0.6;cursor: pointer;" ng-click="funcHideReference()">关闭</div></div><br><div ng-repeat="Component in currentReference.Components" ng-switch="Component.Type">{{($index+1)+\'. \'}}{{Component.Name}}<div ng-switch-when="table"><table class="table"><thead><tr><th ng-repeat="(Id,Name) in Component.Relation">{{Name}}</th></tr></thead><tbody><tr ng-repeat="row in Component.Data"><td ng-repeat="(Id,Value) in row">{{Value}}</td></tr></tbody></table></div><div ng-switch-when="map"><table class="table"><thead><tr><th ng-repeat="(Id,Value) in Component.Relation">{{Value}}</th></tr></thead><tbody><tr><td ng-repeat="(Id,Value) in Component.Data">{{Value}}</td></tr></tbody></table></div><div ng-switch-when="html" ng-bind-html="Component.Data"></div></div></div><div ng-hide="1||uiIsReferenceShow">请选择要查看的参考数据</div>'),t.put("app/interaction/process/list/base.html",'<cm-side-menu-box><cm-side-menu style=""><section class="category"><h4>选择条目</h4><ul><li ui-sref-active="active" ui-sref="home.process.formListDataentry">检验任务填写</li><li ui-sref-active="active" ui-sref="home.process.formListCheck">查看汇总数据</li></ul></section></cm-side-menu><ng-include src="\'app/interaction/process/list/inspection_process.html\'" ng-controller="ProcessListInspectionCtrl"></ng-include></cm-side-menu-box>'),t.put("app/interaction/process/list/blank.html",'<cm-side-menu-content><cm-side-menu-content-header><section class="title"><h2>选择检验物料的类型</h2></section><section class="toolbar"></section></cm-side-menu-content-header><section class="rmi-process-list-blank"><section class="notification" style="{{(uiIsProcessTypesShow&&sideMenuList.length)?\'margin-top:20%\':\'margin-top:25%\'}}"><div>请从左边选择检验的物料类型<br>或 <a ng-click="uiIsProcessTypesShow=!uiIsProcessTypesShow">选择一个默认的类型</a></div></section><section class="processTypes" ng-show="uiIsProcessTypesShow&&sideMenuList.length"><div class="processType" ng-repeat="item in sideMenuList track by $index" ng-click="funcSetDefaultProcessType(item.Id,item.Rev)">{{item.Name}}</div></section></section></cm-side-menu-content>'),t.put("app/interaction/process/list/count_form.html",'<cm-side-menu-content><cm-side-menu-content-header><section class="title"><h2>收货报告列表</h2></section><section class="toolbar"><div class="button">我创建的</div><div class="button">未提交</div><div class="button">已提交</div><div class="button">时间范围 2015.1.1 - 2016.1.1</div></section></cm-side-menu-content-header><section><table ng-table="tableParams" class="table table-striped table-hover list"><tbody><tr ng-repeat="item in $data track by $index"><td data-title="\'\'" style="padding-left: 24px;vertical-align: middle"><div class="cm-table-indicator-dot" style="background-color: {{\'#\'+item.Id}}"></div></td><td data-title="\'状态\'"><div title="{{item.Id}}">{{item.Status | FormStatusFilter}}</div></td><td data-title="\'创建\'"><span class="cm-table-user" title="工号：{{item.CreateUserId}}">{{item.CreateUserName}}</span> <span class="cm-table-time">{{item.CreateTime | date: \'MM月dd日 HH:mm\' }}</span></td><td data-title="\'最后修改\'"><span class="cm-table-user" title="工号：{{item.LastModifiedUserId}}">{{item.LastModifiedUserName}}</span> <span class="cm-table-time">{{item.LastModifiedTime | date: \'MM月dd日 HH:mm\' }}</span></td><td data-title="\'生成的检验任务\'" style="padding-left: 24px;vertical-align: middle"><div style="display: flex"><div ng-repeat="asn in item.Parameter.processes" ui-sref="home.process.detailInfo({ArrivalSerialNumber:asn})" style="margin-right: 8px;cursor: pointer;"><div class="cm-table-indicator-dot" style="{{\'background-color:#\'+asn}}"></div></div></div></td><td data-title="\'操作\'" style="text-align: left"><a ng-click="funcGoDetail(item.ArrivalSerialNumber,item.Id,\'view\')">查看</a> &nbsp; <a ng-show="item.Status!==\'4\'" ng-click="funcGoDetail(item.ArrivalSerialNumber,item.Id,\'edit\')">编辑</a></td></tr></tbody></table></section></cm-side-menu-content>'),t.put("app/interaction/process/list/inspection_print.html",""),t.put("app/interaction/process/list/inspection_process.html",'<cm-side-menu-content style="" cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>检验任务管理</h2></section><section class="toolbar"><div class="btn btn-link" ng-click="new()">新建</div></section></cm-side-menu-content-header><section>关键字： <input type="text" ng-model="search" id="search" class="form-control" style="max-width: 150px;display: inline" placeholder="姓名，货号，色号"> 来料日期： <input type="date" ng-model="date" id="date" class="form-control" style="max-width: 200px;display: inline" placeholder=""><hr><table class="table table-bordered table-striped table-condensed" ng-table="tableParams"><tbody><tr ng-repeat="row in $data | filter:searchFilter(search,date)"><td data-title="\'来料日期\'" sortable="\'ArriveTime\'"><span>{{row.ArriveTime | date:\'yyyy-MM-dd\'}}</span></td><td data-title="\'货号\'" style="min-width: 100px" sortable="\'ProductNo\'">{{row.ProductNo}}</td><td data-title="\'色号\'" sortable="\'ColorNo\'">{{row.ColorNo}}</td><td data-title="\'创建人\'" sortable="\'Name\'">{{row.Name}}</td><td data-title="\'最后修改时间\'" sortable="\'LastModifiedTime\'">{{row.LastModifiedTime}}</td><td data-title="\'操作\'" style="max-width: 100px"><span class="btn-link pull-right" style="cursor:pointer;margin-right: 5px" ng-show="url == \'/Tasks/Dataentry\'" ng-click="edit(row,false)">修改</span> <span class="btn-link pull-right" style="cursor:pointer;margin-right: 5px" ng-show="url == \'/Tasks/Dataentry\'" ng-click="entry(row,\'dataEntry\')">填写</span> <span class="btn-link pull-right" style="cursor:pointer;margin-right: 5px" ng-show="url == \'/Tasks/Check\'" ng-click="entry(row,\'Check\')">查看</span> <span class="btn-link pull-right" style="cursor:pointer;margin-right: 5px" ng-show="url == \'/Tasks/Check\'" ng-click="revoke(row)">退回</span> <span class="btn-link pull-right" style="cursor:pointer;margin-right: 5px" ng-click="print(row.SerialNo)">打印</span> <span class="btn-link pull-right" style="cursor:pointer;margin-right: 5px" ng-click="del(row.SerialNo)" ng-show="url == \'/Tasks/Dataentry\'">删除</span> <span class="btn-link pull-right" style="cursor:pointer;margin-right: 5px" ng-click="sub(row.SerialNo)" ng-show="url == \'/Tasks/Dataentry\'">提交</span></td></tr></tbody></table></section></cm-side-menu-content>'),t.put("app/interaction/process/list/modifyInspectionProcess.html",'<div cg-busy="{promise:myPromise,message:\'请稍后...\'}"><div class="modal-header"><h3 class="modal-title">添加或修改检验任务</h3></div><div class="modal-body" style=""><style>\n      .modify-info-div {\n        margin-top: 5px;\n        margin-bottom: 3px;\n      }\n\n      .select2-close-mask {\n        z-index: 2099;\n      }\n\n      .select2-dropdown {\n        z-index: 3051;\n      }\n\n    </style><table class="table-condensed table" ng-show="vm.formData.model.SerialNo"><tr><td>流水号</td><td colspan="3"><label class="label-default label">{{vm.formData.model.SerialNo}}</label></td></tr><tr><td>最后更新时间</td><td>{{vm.formData.model.LastModifiedTime}}</td><td>创建人</td><td>{{vm.formData.model.Name}}</td></tr></table><form name="vm.form2"><formly-form model="vm.formData.model" fields="vm.formData.fields" form="vm.form" options="vm.formData.options"></formly-form><div class="row"><div class="col-md-8"><label for="">到料总数1*</label> <input type="number" class="form-control input-block" ng-required="true" ng-model="vm.formData.model.DaoLiaoZongShu"></div><div class="col-md-4"><label for="">单位1*</label><ui-select ng-model="vm.formData.model.DanWei" ng-required="true"><ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="unit in vm.units| filter: $select.search track by unit.name"><div ng-bind-html="unit.name | highlight: $select.search"></div></ui-select-choices></ui-select></div></div><div class="row"><div class="col-md-8"><label for="">到料总数2</label> <input type="number" class="form-control input-block" ng-model="vm.formData.model.DaoLiaoZongShu2"></div><div class="col-md-4"><label for="">单位2</label><ui-select ng-model="vm.formData.model.DanWei2"><ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="unit in vm.units| filter: $select.search track by unit.name"><div ng-bind-html="unit.name | highlight: $select.search"></div></ui-select-choices></ui-select></div></div><div class="row"><div class="col-md-6"><label for="">物料名称*</label><ui-select ng-model="vm.formData.model.WuLiao" ng-required="true"><ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match><ui-select-choices refresh="funcAsyncWuLiao($select.search)" group-by="\'cata\'" repeat="unit in vm.itemList| filter: $select.search track by unit.id"><div ng-bind-html="unit.name | highlight: $select.search"></div></ui-select-choices></ui-select></div><div class="col-md-6"><label for="">供应商*</label><ui-select ng-model="vm.formData.model.GongYingShang" ng-required="true"><ui-select-match placeholder="">{{$select.selected.name}}</ui-select-match><ui-select-choices refresh="funcAsyncGongY($select.search)" repeat="unit in vm.GongYlist| filter: $select.search track by unit.id"><div ng-bind-html="unit.name | highlight: $select.search"></div></ui-select-choices></ui-select></div></div><div class="row"><div class="col-md-12"><label for="">协作者*</label><ui-select multiple="" ng-model="vm.formData.model.XieZuoRen" ng-required="false"><ui-select-match placeholder="">{{$item.ID}}{{$item.Name}}</ui-select-match><ui-select-choices refresh="funcAsyncPeople($select.search)" repeat="unit in vm.People| filter: $select.search track by unit.ID"><div ng-bind-html="unit.Name | highlight: $select.search"></div><div ng-bind-html="unit.ID | highlight: $select.search"></div></ui-select-choices></ui-select></div></div></form><hr></div><div class="modal-footer"><button class="btn btn-primary" ng-click="vm.ok()" ng-disabled="vm.form2.$invalid">提交</button> <button class="btn btn-warning" ng-click="vm.cancel(initialModel)" ng-disabled="false">取消</button></div></div>'),t.put("app/interaction/table/tables/table1.html",'<cm-side-menu-content cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>供应商交货情况分析</h2></section><section class="toolbar"></section></cm-side-menu-content-header><section><div class="row"><form class="form-horizontal form form-inline"><div class="col-xs-4">开始日期：<input type="date" style="max-width: 170px" class="form-control" ng-model="data.start"></div><div class="col-xs-4">结束日期：<input type="date" style="max-width: 170px" class="form-control" ng-model="data.end"></div><div class="col-xs-2"><button class="btn btn-success" ng-disabled="!data.start || !data.end || data.end<data.start" ng-click="query(data.start,data.end)">查询</button></div></form></div><hr><div class="row"><div class="col-md-12"><table class="table table-bordered table-striped table-condensed" ng-table="tableParams"><tbody><tr ng-repeat="row in data1 | filter:{$:search}"><td data-title="\'供应商编码\'" sortable="\'GongYingShangBianMa\'"><span>{{row.GongYingShangBianMa}}</span></td><td data-title="\'供应商名称\'" sortable="\'GongYingShangMingCheng\'"><span>{{row.GongYingShangMingCheng}}</span></td><td data-title="\'供货数量\'" sortable="\'GongHuoShuLiang\'"><span>{{row.GongHuoShuLiang}}</span></td><td data-title="\'统计期内到货批次\'" sortable="\'TongJiQiNeiDaoHuoPiCi\'"><span>{{row.TongJiQiNeiDaoHuoPiCi}}</span></td><td data-title="\'不合格数量\'" sortable="\'BuHeGeShuLiang\'"><span>{{row.BuHeGeShuLiang}}</span></td><td data-title="\'不合格批次\'" sortable="\'BuHeGePiCi\'"><span>{{row.BuHeGePiCi}}</span></td><td data-title="\'进货检验合格率％\'" sortable="\'JinHuoJianYanHeGeLv\'"><span>{{row.JinHuoJianYanHeGeLv}}</span></td></tr></tbody></table></div></div></section></cm-side-menu-content>'),t.put("app/interaction/table/tables/table2.html",'<cm-side-menu-content cg-busy="{promise:myPromise,message:\'请稍后...\'}"><cm-side-menu-content-header><section class="title"><h2>检验工时汇总</h2></section><section class="toolbar"></section></cm-side-menu-content-header><section><div class="row"><form class="form-horizontal form form-inline"><div class="col-xs-4">年份：<input type="number" min="2000" max="2999" style="max-width: 170px" class="form-control" ng-model="data.year"></div><div class="col-xs-4">月份：<input type="number" style="max-width: 170px" class="form-control" min="1" max="12" ng-model="data.month"></div><div class="col-xs-2"><button class="btn btn-success" ng-click="query(data.year,data.month)">查询</button></div></form></div><hr><div class="row"><div class="col-md-12"><table class="table table-bordered table-striped table-condensed" ng-table="tableParams"><thead><th>工号</th><th>姓名</th><th>检验项目</th><th>检验数量</th><th>单项工时（秒）</th><th>合计工时（秒）</th><th>月度总工时（秒）</th></thead><tbody ng-repeat-start="people in data1"><tr ng-repeat="re in people.listData"><td ng-if="re.flag" rowspan="{{people.totalCount}}">{{people.no}}</td><td ng-if="re.flag" rowspan="{{people.totalCount}}">{{people.name}}</td><td>{{re.name}}</td><td>{{re.count}}</td><td>{{re.time}}</td><td>{{re.timecount}}</td><td ng-if="re.flag" rowspan="{{people.totalCount}}">{{people.totalTime}}</td></tr></tbody><tfoot ng-repeat-end=""></tfoot></table></div></div></section></cm-side-menu-content>'),t.put("app/interaction/control/design/edit/configs.html",'<section class="block"><h4>组件基本信息</h4><section class="map"><div class="row"><div class="item"><div class="name">模板类型</div><div class="input"><label title="映射"><input type="radio" ng-model="generalConfig.Type" value="map" disabled="">映射</label> <label title="表格"><input type="radio" ng-model="generalConfig.Type" value="table" disabled="">表格</label></div></div><div class="item" ng-if="uiIsMap"><div class="name">模板样式</div><div class="input"><label title="映射"><input type="radio" ng-model="generalConfig.Style" value="flex">Flex</label> <label title="表格"><input type="radio" ng-model="generalConfig.Style" value="left">Left</label></div></div><div class="item"><div class="name">是否可见</div><div class="input"><label title="是"><input type="radio" ng-model="generalConfig.Show" value="true" disabled="">是</label> <label title="否"><input type="radio" ng-model="generalConfig.Show" value="false" disabled="">否</label></div></div><div class="item"></div></div><div class="row"><div class="item"><div class="name">快捷初始化函数</div><div class="input" style="width: 100%;"><label style="width: 100%;"><input type="text" class="value" ng-model="generalConfig.QuickInitial" style="width: 100%;"></label></div></div></div></section></section><section class="block" ng-show="uiIsAddPanelShow"><h4 ng-show="uiIsTable">添加表格新的项</h4><h4 ng-show="uiIsMap">添加映射新的项</h4><form name="addNewCol" ng-submit="funcAddUpConfigs()"><section class="map"><div class="row"><div class="item" ng-if="uiIsTable"><div class="name">列名</div><div><input type="text" class="value" ng-model="itemConfig.Name" placeholder="表头显示的内容"></div></div><div class="item" ng-if="uiIsMap" ng-show="generalConfig.Style===\'flex\'"><div class="name">名称</div><div><input type="text" class="value" ng-model="itemConfig.Name" placeholder="说明文字"></div></div><div class="item" ng-if="uiIsMap" ng-show="generalConfig.Style===\'left\'"><div class="name">左描述</div><div><input type="text" class="value" ng-model="itemConfig.LeftDescription" placeholder=""></div></div><div class="item" ng-if="uiIsMap" ng-show="generalConfig.Style===\'left\'"><div class="name">右描述</div><div><input type="text" class="value" ng-model="itemConfig.RightDescription" placeholder=""></div></div><div class="item"><div class="name">属性名</div><div><input type="text" class="value" ng-model="itemConfig.AttributeName" placeholder="数据表属性名" required=""></div></div><div class="item" ng-if="uiIsMap"><div class="name">行号</div><div><input type="text" class="value" ng-model="itemConfig.Row" placeholder="所处的行数"></div></div><div class="item" ng-if="uiIsTable"><div class="name">组名</div><div><input type="text" class="value" ng-model="itemConfig.Group" placeholder="表头分组依据"></div></div><div class="item"><div class="name">宽度</div><div><input type="text" class="value" ng-model="itemConfig.Width" placeholder="填写区域宽度[WIP]"></div></div><div class="item"></div></div><div class="row"><div class="item"><div class="name">域类型</div><div class="input"><label title="文本"><input type="radio" ng-model="itemConfig.Type" value="text">Text</label> <label title="数字"><input type="radio" ng-model="itemConfig.Type" value="number">Number</label> <label title="下拉单选框"><input type="radio" ng-model="itemConfig.Type" value="select">Select</label> <label title="下拉多选框"><input type="radio" ng-model="itemConfig.Type" value="multiSelect">Multi-Select</label> <label title="单选按钮"><input type="radio" ng-model="itemConfig.Type" value="radio">Radio</label> <label title="多选框"><input type="radio" ng-model="itemConfig.Type" value="checkbox">Checkbox</label> <label title="日期选择器"><input type="radio" ng-model="itemConfig.Type" value="date">Date</label> <label title="周选择器"><input type="radio" ng-model="itemConfig.Type" value="week">Week</label> <label title="日期与时间选择器"><input type="radio" ng-model="itemConfig.Type" value="datetime">Datetime</label></div></div></div><div class="row left" ng-show="itemConfig.Type===\'text\'||itemConfig.Type===\'number\'"><div class="item"><div class="left-description">正则表达式</div><div class="input"><label><input type="text" class="value" ng-model="itemConfig.ngPattern"></label></div></div><div class="item"><div class="left-description">最小长度</div><div><input type="number" class="value" style="min-width: 50px;width: 50px;" ng-model="itemConfig.ngMinlength"></div></div><div class="item"><div class="left-description">最大长度</div><div class="input"><label><input type="number" class="value" style="min-width: 50px;width: 50px;" ng-model="itemConfig.ngMaxlength"></label></div></div><div class="item"><div class="input"><label><input type="checkbox" ng-model="itemConfig.ngRequired">必填</label> <label><input type="checkbox" ng-model="itemConfig.ngDisabled">不可修改</label> <label ng-show="itemConfig.Type===\'text\'"><input type="checkbox" ng-model="itemConfig.ngTrim">字符串优化(trim)</label></div></div></div><div class="row left" ng-show="itemConfig.Type===\'number\'"><div class="item"><div class="left-description">范围限定：</div><div class="left-description">最小值</div><div class="input"><label><input type="number" class="value" style="width: 100px;" ng-model="itemConfig.ngMin"></label></div></div><div class="item"><div class="left-description">最大值</div><div class="input"><label><input type="number" class="value" style="width: 100px;" ng-model="itemConfig.ngMax"></label></div></div></div><div class="row" ng-show="itemConfig.Type===\'select\'||itemConfig.Type===\'multiSelect\'||itemConfig.Type===\'checkbox\'||itemConfig.Type===\'radio\'"><div class="item"><div class="left-description">可选值来源</div><div style="cursor: pointer;white-space: nowrap" onclick="alert(\'DEV\')">设置&nbsp;&nbsp;</div><div class="input" style="width:100%;"><label style="width: 100%;"><input type="text" class="value" ng-model="itemConfig.Sources" ng-list="" placeholder="使用预设的可选值列表" style="width: 100%"></label></div></div><div class="item"><div class="input"><label><input type="checkbox" ng-model="itemConfig.ngRequired">必填</label> <label><input type="checkbox" ng-model="itemConfig.ngDisabled">不可修改</label></div></div></div><div class="row" ng-show="itemConfig.Type===\'select\'||itemConfig.Type===\'multiSelect\'||itemConfig.Type===\'checkbox\'||itemConfig.Type===\'radio\'"><div class="item"><div class="name">可选值</div><div class="input" style="width:100%;"><label style="width: 100%;"><input type="text" class="value" ng-model="itemConfig.Options" ng-list="" placeholder="请使用&quot;,&quot;字符来分隔可选项" style="width: 100%"></label></div></div></div><div class="row left" ng-show="itemConfig.Type===\'date\'||itemConfig.Type===\'week\'||itemConfig.Type===\'datetime\'"><div class="item"><div class="left-description">最早时间</div><div class="input"><label><input type="number" class="value" ng-model="itemConfig.ngMin"></label></div></div><div class="item"><div class="left-description">最晚时间</div><div class="input"><label><input type="number" class="value" ng-model="itemConfig.ngMax"></label></div></div><div class="item"><div class="input"><label><input type="checkbox" ng-model="itemConfig.ngRequired">必填</label> <label><input type="checkbox" ng-model="itemConfig.ngDisabled">不可修改</label></div></div></div></section><input class="btn btn-default" type="submit" id="submit" value="添加"></form></section><section class="block"><h4>表格配置信息</h4><table class="table table-hover table-bordered table-condensed"><thead><tr ng-if="uiIsTable"><th width="5%">修改</th><th width="5%" style="cursor:pointer;" ng-click="funcReorderConfigs()">序号</th><th width="15%">组名</th><th width="15%">列名</th><th width="15%">属性名</th><th width="10%">类型</th><th width="35%">限定配置</th></tr><tr ng-if="uiIsMap"><th width="5%">修改</th><th width="5%" style="cursor:pointer;" ng-click="funcReorderConfigs()">序号</th><th width="5%">行号</th><th width="15%">列名</th><th width="15%">属性名</th><th width="10%">类型</th><th width="40%">限定配置</th><th style="width:5%">修改</th></tr></thead><tbody><tr ng-repeat="itemConfig in itemConfigs | orderBy:Order" ng-if="uiIsTable"><td ng-click="funcDeleteFromConfigs($index)" style="cursor: pointer;">删除</td><td><div contenteditable="true" cmcontenteditable="" ng-model="itemConfig.Order"></div></td><td>{{itemConfig.Group}}</td><td>{{itemConfig.Name}}</td><td>{{itemConfig.AttributeName}}</td><td>{{itemConfig.Type}}</td><td style="word-break: break-all;overflow: hidden"><code>{{itemConfig}}</code></td></tr><tr ng-repeat="itemConfig in itemConfigs | orderBy:Order" ng-if="uiIsMap"><td ng-click="funcDeleteFromConfigs($index)" style="cursor: pointer;">删除</td><td><div contenteditable="true" cmcontenteditable="" ng-model="itemConfig.Order"></div></td><td>{{itemConfig.Row}}</td><td>{{itemConfig.Name}}</td><td>{{itemConfig.AttributeName}}</td><td>{{itemConfig.Type}}</td><td style="word-break: break-all;overflow: hidden"><code>{{itemConfig}}</code></td><td ng-click="funcLoadItemConfigToAddPanel(itemConfig,$index)" style="cursor: pointer;">修改</td></tr><tr ng-show="!(itemConfigs.length>0)"><td colspan="8" style="height: 64px;text-align:center;line-height:64px;background-color: #F4F4F4;font-size: 15px">列表为空，请从上面添加项目</td></tr></tbody></table></section><section class="block"><h4>配置信息</h4><pre>\r\n    {{itemConfigs | json}}\r\n  </pre></section>'),
t.put("app/interaction/control/design/edit/form.html",'<cm-side-menu-content class="form-table control"><cm-side-menu-content-header><section class="title"><div class="block" ng-if="uiIsEditCache">正在编辑缓存 <span ng-click="funcSaveConfigsCacheAndBack()" class="cm-button">保存并返回</span></div></section><section class="toolbar"></section></cm-side-menu-content-header><section style="display: flex;"><div style="flex: 7;"><section class="block"><h4>表单基本信息</h4><section class="map"><div class="row"><div class="item"><div class="name">可选表单标签</div><input type="text" class="value" ng-model="generalConfig.OptionalTags" ng-list="" placeholder="使用英文逗号分隔" style="width: 67%"></div></div></section></section><section class="block"><h4>添加表单组件</h4><section class="map"><div class="row"><div class="item"><div class="name">通过JSON加载</div><div style="cursor: pointer" ng-click="funcLoadConfig(configString)" class="cm-button">加载</div><input type="text" class="value" ng-model="configString" placeholder="" style="width: 67%"></div></div><div class="row"><div class="item"><div class="name">通过本地缓存加载</div><div>加载&nbsp;&nbsp;&nbsp;&nbsp;</div><div ng-click="funcGoCreateItemConfig(\'table\')" class="cm-button">创建表格组件</div><div ng-click="funcGoCreateItemConfig(\'map\')" class="cm-button">创建映射组件</div><div ng-click="funcGoEditItemConfig(itemConfig.Type)" class="cm-button">编辑当前组件</div></div></div></section><form ng-submit="funcAddUpConfigs()"><section class="map"><div class="row"><div class="item"><div class="name">模板类型</div><div class="input"><label title="映射"><input type="radio" ng-model="itemConfig.Type" value="map">映射</label> <label title="表格"><input type="radio" ng-model="itemConfig.Type" value="table">表格</label></div></div><div class="item" ng-show="itemConfig.Type===\'map\'"><div class="name">模板样式</div><div class="input"><label title="映射"><input type="radio" ng-model="itemConfig.Style" value="flex">Flex</label> <label title="表格"><input type="radio" ng-model="itemConfig.Style" value="left">Left</label></div></div><div class="item"><div class="name">是否可见</div><div class="input"><label title="是"><input type="radio" ng-model="itemConfig.Show" id="inlineRadio3" value="true">是</label> <label title="否"><input type="radio" ng-model="itemConfig.Show" id="inlineRadio4" value="false">否</label></div></div></div><div class="row"><div class="item"><div class="name">快捷初始化函数</div><input type="text" class="value" ng-model="itemConfig.QuickInitial" style="width: 67%;"></div></div><div class="row"><div class="item"><div class="name">模板配置</div><div style="width: 85%;"><pre>{{itemConfig.Config}}</pre></div></div></div></section><input class="btn btn-default" type="submit" id="submit" value="添加"></form></section><section class="block"><h4>表单内容配置信息</h4><table class="table table-hover table-bordered table-condensed"><thead><tr><th style="width:5%">修改</th><th style="width:5%;cursor:pointer;" ng-click="funcReorderConfigs()">序号</th><th style="width:10%">模板类型</th><th style="width:5%">是否显示</th><th style="width:70%;">配置信息</th><th style="width:5%">修改</th></tr></thead><tbody><tr ng-repeat="itemConfig in itemConfigs | orderBy:Order"><td ng-click="funcDeleteFromConfigs($index)" style="cursor: pointer;">删除</td><td><div contenteditable="true" cmcontenteditable="" ng-model="itemConfig.Order"></div></td><td>{{itemConfig.Type}}</td><td>{{itemConfig.Show}}</td><td><code style="word-break: break-all;overflow: hidden">{{itemConfig.Config}}</code></td><td ng-click="funcLoadItemConfigToAddPanel(itemConfig,$index)" style="cursor: pointer;">修改</td></tr><tr ng-show="!(itemConfigs.length>0)"><td colspan="8" style="height: 64px;text-align:center;line-height:64px;background-color: #F4F4F4;font-size: 15px">列表为空，请从上面添加项目</td></tr></tbody></table></section><section class="block"><pre>\r\n    {{itemConfigs | json}}\r\n  </pre></section></div><div style="flex: 3;margin-left: 12px;" ng-if="false"><section class="block"><h4>本地组件列表</h4><ul><li ng-repeat="localConfig in localConfigs">{{localConfig.description}} <span style="float: right;">X</span></li></ul></section></div></section></cm-side-menu-content>'),t.put("app/interaction/control/design/edit/map.html",'<cm-side-menu-content class="form-table control"><cm-side-menu-content-header><section class="title"><div class="block" ng-if="uiIsEditCache">正在编辑缓存 <span ng-click="funcSaveConfigsCacheAndBack()" class="cm-button">保存并返回</span></div></section><section class="toolbar"><div class="button {{$parent.uiIsAddPanelShow?\'active\':\'\'}}" ng-click="$parent.uiIsAddPanelShow=!$parent.uiIsAddPanelShow">添加新列</div></section></cm-side-menu-content-header><section style="display: flex;"><div style="flex: 7;"><ng-include src="\'app/control/design/edit/configs.html\'"></ng-include></div><div style="flex: 3;margin-left: 12px" ng-if="false"><section class="block"><h4>缓存的映射配置</h4><ul><li ng-repeat="i in [1,2,3,4,5,6,7,8,9]">{{"Condition:"+i}}</li></ul></section></div></section></cm-side-menu-content>'),t.put("app/interaction/control/design/edit/process.html",'<cm-side-menu-content class="form-table control"><cm-side-menu-content-header><section class="title"><div class="block" ng-if="uiIsEditCache">正在编辑缓存 <span ng-click="funcSaveConfigsCacheAndBack()" class="cm-button">提交流程修改</span></div></section><section class="toolbar"><div class="button" ng-click="funcAddProcessTypeIdToConfigs()">添加ProcessTypeId</div><div class="button" ng-click="funcAddDatabaseTableNameToFormConfigs()">添加生成的数据表名称</div><div class="button" ng-click="funcCreateProcessTypeAndProcessNodeTypes(processConfig,configs)">提交流程</div></section></cm-side-menu-content-header><section class="block"><h4>流程基本信息</h4><section class="map"><div class="row"><div class="item"><div class="name">唯一标识</div><div class="input"><input type="text" class="value" ng-model="generalConfig.Id" placeholder="例如：A01" required=""></div></div><div class="item"><div class="name">修订号</div><div class="input"><input type="text" class="value" ng-model="generalConfig.Rev" placeholder="例如：勾袢" required=""></div></div><div class="item"><div class="name">分类</div><div class="input"><label title="收货"><input type="radio" ng-model="generalConfig.Class" value="收货">收货</label> <label title="主料"><input type="radio" ng-model="generalConfig.Class" value="主料">主料</label> <label title="辅料"><input type="radio" ng-model="generalConfig.Class" value="辅料">辅料</label></div></div></div><div class="row"><div class="item"><div class="name">名称</div><div class="input"><label><input type="text" class="value" ng-model="generalConfig.Name" placeholder="例如：勾袢" required=""></label></div></div></div><div class="row"><div class="item"><div class="name">描述</div><input type="text" class="value" ng-model="generalConfig.Description" style="width: 100%;" placeholder="编辑时的参考文字"></div></div><div class="row"><div class="item"><div class="name">流程完成条件</div><input type="text" class="value" ng-model="generalConfig.CompleteCondition" style="width: 100%;" placeholder="例：PN01.Status=4&PN01.Tag!=>\'严重质量问题\'"></div></div><div class="row"><div class="item"><div class="name">流程参考配置</div><input type="text" class="value" ng-model="generalConfig.Reference" style="width: 100%;" placeholder="配置收货报告、参考文档、标准值参考、选项框内容等"></div></div></section></section><section class="block"><h4>添加流程节点</h4><form ng-submit="funcAddUpConfigs()"><section class="map"><div class="row"><div class="item"><div class="name">节点标识</div><div><input type="text" class="value" ng-model="itemConfig.Id" placeholder="例如：PN01" required=""></div></div><div class="item"><div class="name">名称</div><div><input type="text" class="value" ng-model="itemConfig.Name" placeholder="例如：颜色检验" required=""></div></div><div class="item"></div></div><div class="row"><div class="item"><div class="name">描述</div><input type="text" class="value" ng-model="itemConfig.Description" placeholder="描述信息，可为空" style="width: 60%"></div></div><div class="row"><div class="item"><div class="name">可用性条件</div><input type="text" class="value" ng-model="itemConfig.AvailableCondition" placeholder="表示该节点可用需具备的条件，开发中" style="width: 60%"></div></div><div class="row"><div class="item"><div class="name">导入JSON表单配置</div><div class="cm-button" ng-click="funcLoadConfig(funcPackFormConfigString(configString))">加载</div><input type="text" class="value" ng-model="configString" placeholder="" style="width: 60%"></div></div><div class="row"><div class="item"><div class="name">导入本地表单配置</div><div style="padding-right: 12px">加载</div><div ng-click="funcGoCreateItemConfig(\'form\')" class="cm-button">创建表单</div><div ng-click="funcGoEditItemConfig(\'form\')" class="cm-button">编辑当前表单</div></div></div><div class="row"><div class="item"><div class="name">表单配置</div><div style="width: 85%"><pre>{{itemConfig.FormConfig}}</pre></div></div></div></section><input class="btn btn-default" type="submit" id="submit" value="添加"></form></section><section class="block"><h4>流程节点配置信息</h4><table class="table table-hover table-bordered table-condensed"><thead><tr><th style="width:5%">修改</th><th style="width:5%;cursor:pointer;" ng-click="funcReorderConfigs()">序号</th><th style="width:5%">节点标识</th><th style="width:5%">名称</th><th style="width:15%;">描述</th><th style="width:20%">可用性条件</th><th style="width:40%">表单配置</th><th style="width:5%">修改</th></tr></thead><tbody><tr ng-repeat="itemConfig in itemConfigs | orderBy:Order"><td ng-click="funcDeleteFromConfigs($index)" style="cursor: pointer;">删除</td><td><div contenteditable="true" cmcontenteditable="" ng-model="itemConfig.Order"></div></td><td>{{itemConfig.Id}}</td><td>{{itemConfig.Name}}</td><td><code style="word-break: break-all;overflow: hidden">{{itemConfig.Description}}</code></td><td><code style="word-break: break-all;overflow: hidden">{{itemConfig.AvailableCondition}}</code></td><td><code style="word-break: break-all;overflow: hidden">{{itemConfig.FormConfig}}</code></td><td ng-click="funcLoadItemConfigToAddPanel(itemConfig,$index)" style="cursor: pointer;">修改</td></tr><tr ng-show="!(itemConfigs.length>0)"><td colspan="8" style="height: 64px;text-align:center;line-height:64px;background-color: #F4F4F4;font-size: 15px">列表为空，请从上面添加项目</td></tr></tbody></table></section><section class="block"><pre>\r\n  {{itemConfigs | json}}\r\n  </pre></section></cm-side-menu-content>'),t.put("app/interaction/control/design/edit/table.html",'<cm-side-menu-content class="form-table control"><cm-side-menu-content-header><section class="title"><div class="block" ng-if="uiIsEditCache">正在编辑缓存 <span ng-click="funcSaveConfigsCacheAndBack()" class="cm-button">保存并返回</span></div></section><section class="toolbar"><div class="button {{$parent.uiIsAddPanelShow?\'active\':\'\'}}" ng-click="$parent.uiIsAddPanelShow=!$parent.uiIsAddPanelShow">添加新列</div></section></cm-side-menu-content-header><section style="display: flex;"><div style="flex: 7;"><ng-include src="\'app/control/design/edit/configs.html\'"></ng-include></div><div style="flex: 3;margin-left: 12px" ng-if="false"><section class="block"><h4>缓存的表格配置</h4><ul><li ng-repeat="i in [1,2,3,4,5,6,7,8,9]">{{"Condition:"+i}}</li></ul></section></div></section></cm-side-menu-content>')}]);
//# sourceMappingURL=../maps/scripts/app-361a792f88.js.map
